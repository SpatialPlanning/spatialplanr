[{"path":"https://mathmarecol.github.io/spatialplanr/LICENSE.html","id":null,"dir":"","previous_headings":"","what":"MIT License","title":"MIT License","text":"Copyright (c) 2023 Jason D. Everett Permission hereby granted, free charge, person obtaining copy software associated documentation files (“Software”), deal Software without restriction, including without limitation rights use, copy, modify, merge, publish, distribute, sublicense, /sell copies Software, permit persons Software furnished , subject following conditions: copyright notice permission notice shall included copies substantial portions Software. SOFTWARE PROVIDED “”, WITHOUT WARRANTY KIND, EXPRESS IMPLIED, INCLUDING LIMITED WARRANTIES MERCHANTABILITY, FITNESS PARTICULAR PURPOSE NONINFRINGEMENT. EVENT SHALL AUTHORS COPYRIGHT HOLDERS LIABLE CLAIM, DAMAGES LIABILITY, WHETHER ACTION CONTRACT, TORT OTHERWISE, ARISING , CONNECTION SOFTWARE USE DEALINGS SOFTWARE.","code":""},{"path":"https://mathmarecol.github.io/spatialplanr/articles/ClimateSmart.html","id":"overview","dir":"Articles","previous_headings":"","what":"Overview","title":"Climate-Smart Spatial Planning","text":"code written simplify process running prioritizr analysis given region. still work progress feel free submit pull requests new features code improvements.","code":""},{"path":"https://mathmarecol.github.io/spatialplanr/articles/ClimateSmart.html","id":"set-user-parameters","dir":"Articles","previous_headings":"Overview","what":"Set user parameters","title":"Climate-Smart Spatial Planning","text":"Set diameter planning units. units CRS (usually metres degrees). can also use customised ggplot theme can passed list splnr_gg_add() can used plots. example:","code":"Region <- \"Coral Sea\" # \"Australia\" Type <- \"Oceans\" # \"EEZ\" cCRS <- \"ESRI:54009\" # Mollweide PU_size <- 107460 # m splnr_theme <- list(   ggplot2::theme_bw(),   ggplot2::theme(     legend.position = \"right\",     legend.direction = \"vertical\",     text = ggplot2::element_text(size = 9, colour = \"black\"),     axis.text = ggplot2::element_text(size = 9, colour = \"black\"),     plot.title = ggplot2::element_text(size = 9),     axis.title = ggplot2::element_blank()   ) )"},{"path":"https://mathmarecol.github.io/spatialplanr/articles/ClimateSmart.html","id":"analysis-region","dir":"Articles","previous_headings":"Overview","what":"Analysis Region","title":"Climate-Smart Spatial Planning","text":"Start analysis defining region setting planning units. Get boundary chosen region.","code":"Bndry <- splnr_get_boundary(Limits = Region, Type = Type, cCRS = cCRS)  landmass <- rnaturalearth::ne_countries(scale = \"medium\", returnclass = \"sf\") %>%   sf::st_transform(cCRS)"},{"path":"https://mathmarecol.github.io/spatialplanr/articles/ClimateSmart.html","id":"create-planning-units","dir":"Articles","previous_headings":"Overview","what":"Create Planning Units","title":"Climate-Smart Spatial Planning","text":"","code":"PUs <- spatialgridr::get_grid(boundary = Bndry,                               crs = cCRS,                               output = \"sf_hex\",                               resolution = PU_size)"},{"path":"https://mathmarecol.github.io/spatialplanr/articles/ClimateSmart.html","id":"get-the-features","dir":"Articles","previous_headings":"Overview","what":"Get the features","title":"Climate-Smart Spatial Planning","text":"example, use small subset charismatic megafauna species Coral Sea inform conservation plan. filtered Aquamaps (Aquamaps.org) species distribution models study area following species: species chosen based importance region represent example visualization purposes. Note: structure tribbleabove required downstream plotting. Common denotes common name species, Scientific scientific name format used Aquamaps, Category category species belongs Class represents importance species conservation plan.","code":"Dict <- tibble::tribble(   ~nameCommon, ~nameVariable, ~category,    \"Green sea turtle\", \"Chelonia_mydas\", \"Reptiles\",    \"Loggerhead sea turtle\", \"Caretta_caretta\", \"Reptiles\",    \"Hawksbill sea turtle\", \"Eretmochelys_imbricata\", \"Reptiles\",    \"Olive ridley sea turtle\", \"Lepidochelys_olivacea\", \"Reptiles\",    \"Saltwater crocodile\", \"Crocodylus_porosus\", \"Reptiles\",    \"Humpback whale\", \"Megaptera_novaeangliae\", \"Mammals\",    \"Common Minke whale\", \"Balaenoptera_acutorostrata\", \"Mammals\",    \"Dugong\", \"Dugong_dugon\", \"Mammals\",    \"Grey nurse shark\", \"Carcharias_taurus\", \"Sharks and rays\",    \"Tiger shark\", \"Galeocerdo_cuvier\", \"Sharks and rays\",    \"Great hammerhead shark\", \"Sphyrna_mokarran\",   \"Sharks and rays\",    \"Giant oceanic manta ray\", \"Mobula_birostris\", \"Sharks and rays\",    \"Reef manta ray\", \"Mobula_alfredi\", \"Sharks and rays\",    \"Whitetip reef shark\", \"Triaenodon_obesus\", \"Sharks and rays\",   \"Red-footed booby\", \"Sula_sula\", \"Birds\" )"},{"path":"https://mathmarecol.github.io/spatialplanr/articles/ClimateSmart.html","id":"convert-the-probabilities-to-binary-data","dir":"Articles","previous_headings":"Overview > Get the features","what":"Convert the probabilities to binary data","title":"Climate-Smart Spatial Planning","text":"","code":"datEx_species_bin <- spDataFiltered %>%   dplyr::as_tibble() %>%   dplyr::mutate(dplyr::across(     -dplyr::any_of(c(\"geometry\")), # Don't apply to geometry     ~ dplyr::case_when(       . >= 0.5 ~ 1,       . < 0.5 ~ 0,       is.na(.data) ~ 0     )   )) %>%   sf::st_as_sf()  col_name <- spDataFiltered %>%   sf::st_drop_geometry() %>%   colnames()"},{"path":"https://mathmarecol.github.io/spatialplanr/articles/ClimateSmart.html","id":"climate-smart-spatial-planning","dir":"Articles","previous_headings":"Overview > Get the features","what":"Climate-smart spatial planning","title":"Climate-Smart Spatial Planning","text":"far, steps exactly spatial plan include climate change. make spatial plan climate smart, need climate metrics. use climate velocity data obtained x, y z models using SSP5-8.5. downstream analysis, rename column interest (: velocity data) metric. climate velocity data can visualized using splnr_plot_climData() function.  case, areas low climate velocity, areas define climate refugia example. Usually, combine several metrics (e.g. exposure, velocity etc.) multiple SSP scenarios get robust climate refugia. example, randomly set areas high velocity value 0.85-1 visualize output (CHANGE LATER BETTER DATA).  use climate priority area approach splnr_climate_priorityAreaApproach() detailed Buenafe et al (2023) determine climate refugia. Briefly, approach selects percentile (case 5%) suitable habitat feature considered climate-smart. also requires direction input indicating side metric range climate-smart areas can found. case, lower climate velocity denotes climate-smart (direction = -1), cases higher value might represent climate-smart planning units (direction = 1). Using approach also requires adaptation targets, since 5% suitable habitat species already protected climate-smart areas. can decide much 5% climate-smart areas supposed included spatial plan (: refugiaTarget = 1 protect 100% 5% climate-smart areas). now add information required perform spatial planning, cost, extract names used features.","code":"metric <- CoralSeaVelocity %>%   dplyr::rename(metric = voccMag_transformed) (ggclim <- splnr_plot_climData(metric, \"metric\") +    splnr_gg_add(      Bndry = Bndry, overlay = landmass,      cropOverlay = PUs, ggtheme = splnr_theme    )) set.seed(5)  metric <- CoralSeaVelocity %>%   dplyr::rename(metric = voccMag_transformed) %>%   dplyr::mutate(     metricOG = metric,     metric = ifelse(metric > 0.99, runif(., 0.85, 1.0), metric)   )  (ggclim <- splnr_plot_climData(metric, \"metric\") +     splnr_gg_add(       Bndry = Bndry, overlay = landmass,       cropOverlay = PUs, ggtheme = splnr_theme     )) targets <- datEx_species_bin %>%   sf::st_drop_geometry() %>%   colnames() %>%   data.frame() %>%   setNames(c(\"feature\")) %>%   dplyr::mutate(target = 0.3)   CPA_Approach <- splnr_climate_priorityAreaApproach(   features = datEx_species_bin,   metric = metric,    targets = targets,    direction = -1,    refugiaTarget = 1 )  out_sf <- CPA_Approach$Features %>%   sf::st_join(     datEx_species_bin %>%       dplyr::select(         tidyselect::starts_with(\"Cost_\")       ),     join = sf::st_equals) %>%   sf::st_join(metric, join = sf::st_equals)  targets <- CPA_Approach$Targets out_sf$Cost_None <- rep(1, 397)  usedFeatures <- out_sf %>%   sf::st_drop_geometry() %>%   dplyr::select(     -tidyselect::starts_with(\"Cost_\"),     -tidyselect::starts_with(\"metric\")   ) %>%   names()"},{"path":"https://mathmarecol.github.io/spatialplanr/articles/ClimateSmart.html","id":"run-the-climate-smart-spatial-planning","dir":"Articles","previous_headings":"Overview > Get the features","what":"Run the climate-smart spatial planning","title":"Climate-Smart Spatial Planning","text":"prioritizrsteps including climate change running non-climate-smart spatial prioritization. can look resulting plan using splnr_plot_solution().  However, also interested climate-smart selected planning units solution actually . , can use kernel density plot.","code":"p1 <- prioritizr::problem(out_sf, usedFeatures, \"Cost_None\") %>%   prioritizr::add_min_set_objective() %>%   prioritizr::add_relative_targets(targets$target) %>%   prioritizr::add_binary_decisions() %>%   prioritizr::add_default_solver(verbose = FALSE)  dat_solnClim <- prioritizr::solve.ConservationProblem(p1) (ggSoln <- splnr_plot_solution(dat_solnClim) +    splnr_gg_add(      Bndry = Bndry, overlay = landmass,      cropOverlay = PUs, ggtheme = splnr_theme    )) (ggClimDens <- splnr_plot_climKernelDensity(   soln = list(dat_solnClim),   # names = c(\"Input 1\"),    type = \"Normal\",   legendTitle = \"Climate velocity (add unit)\",   xAxisLab = \"Climate velocity\" ))"},{"path":[]},{"path":"https://mathmarecol.github.io/spatialplanr/articles/ClimateSmart.html","id":"percentile-approach","dir":"Articles","previous_headings":"Overview > Alternative Approaches","what":"Percentile Approach","title":"Climate-Smart Spatial Planning","text":"now add information required perform spatial planning, cost, extract names used features run prioritization. can look resulting plan using splnr_plot_solution().  However, also interested climate-smart selected planning units solution actually . , can use kernel density plot","code":"targets <- datEx_species_bin %>%   sf::st_drop_geometry() %>%   colnames() %>%   data.frame() %>%   setNames(c(\"feature\")) %>%   dplyr::mutate(target = 30)  Percentile_Approach <- splnr_climate_percentileApproach(   features = datEx_species_bin,   metric = metric,    targets = targets,    direction = -1,    percentile = 35 )  out_sf <- Percentile_Approach$Features %>%   sf::st_join(     datEx_species_bin %>%       dplyr::select(         tidyselect::starts_with(\"Cost_\")       ),     join = sf::st_equals   ) %>%   sf::st_join(metric, join = sf::st_equals)  targets <- Percentile_Approach$Targets out_sf$Cost_None <- rep(1, 397)  usedFeatures <- out_sf %>%   sf::st_drop_geometry() %>%   dplyr::select(     -tidyselect::starts_with(\"Cost_\"),     -tidyselect::starts_with(\"metric\")   ) %>%   names()  p2 <- prioritizr::problem(out_sf, usedFeatures, \"Cost_None\") %>%   prioritizr::add_min_set_objective() %>%   prioritizr::add_relative_targets(targets$target) %>%   prioritizr::add_binary_decisions() %>%   prioritizr::add_default_solver(verbose = FALSE)  dat_solnClimPercentile <- prioritizr::solve.ConservationProblem(p2,                                                                 force = TRUE ) (ggSoln <- splnr_plot_solution(dat_solnClimPercentile) +    splnr_gg_add(      Bndry = Bndry, overlay = landmass,      cropOverlay = PUs, ggtheme = splnr_theme    )) (ggClimDens <- splnr_plot_climKernelDensity(   soln = list(dat_solnClimPercentile),   # names = c(\"Input 1\"),    type = \"Normal\",   legendTitle = \"Climate velocity (add unit)\",   xAxisLab = \"Climate velocity\" ))"},{"path":"https://mathmarecol.github.io/spatialplanr/articles/ClimateSmart.html","id":"feature-approach","dir":"Articles","previous_headings":"Overview > Alternative Approaches","what":"Feature Approach","title":"Climate-Smart Spatial Planning","text":"now add information required perform spatial planning, cost, extract names used features run prioritization.  However, also interested climate-smart selected planning units solution actually . , can use kernel density plot","code":"targets <- datEx_species_bin %>%   sf::st_drop_geometry() %>%   colnames() %>%   data.frame() %>%   setNames(c(\"feature\")) %>%   dplyr::mutate(target = 0.3)  Feature_Approach <- splnr_climate_featureApproach(   features = datEx_species_bin,   metric = metric,    targets = targets,    direction = 1 )  out_sf <- Feature_Approach$Features %>%   sf::st_join(     datEx_species_bin %>%       dplyr::select(         tidyselect::starts_with(\"Cost_\")       ),     join = sf::st_equals) %>%   sf::st_join(metric, join = sf::st_equals)  targets <- Feature_Approach$Targets out_sf$Cost_None <- 1  usedFeatures <- out_sf %>%   sf::st_drop_geometry() %>%   dplyr::select(     -tidyselect::starts_with(\"Cost_\"),     -tidyselect::starts_with(\"metric\")   ) %>%   names()  p3 <- prioritizr::problem(out_sf, usedFeatures, \"Cost_None\") %>%   prioritizr::add_min_set_objective() %>%   prioritizr::add_relative_targets(targets$target) %>%   prioritizr::add_binary_decisions() %>%   prioritizr::add_default_solver(verbose = FALSE)  dat_solnClimFeature <- prioritizr::solve.ConservationProblem(p3) (ggSoln <- splnr_plot_solution(dat_solnClimFeature) +    splnr_gg_add(      Bndry = Bndry, overlay = landmass,      cropOverlay = PUs, ggtheme = splnr_theme    )) (ggClimDens <- splnr_plot_climKernelDensity(   soln = list(dat_solnClimFeature),   # names = c(\"Input 1\"),    type = \"Normal\",   legendTitle = \"Climate velocity (add unit)\",   xAxisLab = \"Climate velocity\" ))"},{"path":"https://mathmarecol.github.io/spatialplanr/articles/GlobalFishingWatch.html","id":"global-fishing-watch-r-package-gfwr","dir":"Articles","previous_headings":"","what":"Global Fishing Watch R Package (gfwr)","title":"Global Fishing Watch","text":"gfwr package provides convenient functions pull GFW data directly R usable formats. contains three main functions, including : get_vessel_info(), get_event() get_raster(). two first devoted retrieving information features one ore several specific vessels. last particular interest us allows us gather information global fishing watch raster fishing effort (details function appropriate section). mainly use splnr_get_gfw function created enable data retrieved processed variety ways, described . time spent fishing computed using Automatic Identification System (AIS) data, transmitted industrial fishing vessels. AIS data provides information location, speed, direction vessel, can used identify vessel actively fishing.","code":""},{"path":"https://mathmarecol.github.io/spatialplanr/articles/GlobalFishingWatch.html","id":"ais-caveats-and-limitations","dir":"Articles","previous_headings":"Global Fishing Watch R Package (gfwr)","what":"AIS Caveats and limitations","title":"Global Fishing Watch","text":"AIS coverage vessels several limitations : 1. number vessels captured (AIS provides approximately 70’000 2.8 million identified fishing vessels). 2. size vessels (52-85% vessels larger 24 meters 1% vessels 12 meters).Good know: IMO mandates AIS vessels larger 36 meters. 3. AIS interference areas high vessel density. 4. terrestrial satellites receive messages near shore.","code":""},{"path":"https://mathmarecol.github.io/spatialplanr/articles/GlobalFishingWatch.html","id":"installation","dir":"Articles","previous_headings":"Global Fishing Watch R Package (gfwr)","what":"Installation","title":"Global Fishing Watch","text":"","code":"remotes::install_github(\"GlobalFishingWatch/gfwr\") library(gfwr) library(spatialplanr)"},{"path":"https://mathmarecol.github.io/spatialplanr/articles/GlobalFishingWatch.html","id":"api","dir":"Articles","previous_headings":"Global Fishing Watch R Package (gfwr)","what":"API","title":"Global Fishing Watch","text":"access GFW APIs, need : 1. register GFW account . 2. Request API key . token, add .Renviron file (executing chunk ), writing (GFW_TOKEN = “YOUR_TOKEN”) file. (asked restart R changes take effect.)","code":"usethis::edit_r_environ()"},{"path":"https://mathmarecol.github.io/spatialplanr/articles/GlobalFishingWatch.html","id":"fishing-effort-visualization","dir":"Articles","previous_headings":"Global Fishing Watch R Package (gfwr)","what":"Fishing effort visualization","title":"Global Fishing Watch","text":"region_id necessary use get_raster function. get_raster function gets raster fishing effort API converts response data frame contains occurrences vessel grid cell (data binned grid cells different resolution), Vessel IDs, Flag, Geartype Apparent fishing Hours basically amount fishing hours vessel per grid cell (geometry). Data can provided : - DAILY, MONTHLY YEARLY temporal resolutions.  - LOW (0.1 deg) HIGH (0.01 deg) spatial resolutions.  - VESSEL_ID, FLAG, GEARTYPE, FLAGANDGEARTYPE. (can remove option message = FALSE see columns types.)","code":"region_id <- get_region_id(region = \"Australia\",                                   region_source = \"EEZ\",                                  key = gfwr::gfw_auth())$id[2] get_raster(   spatial_resolution = \"LOW\",   temporal_resolution = \"MONTHLY\",   group_by = \"FLAGANDGEARTYPE\",   start_date = \"2022-01-01\",   end_date = \"2023-01-01\",   region = region_id,   region_source = \"EEZ\",   key = gfwr::gfw_auth() )"},{"path":"https://mathmarecol.github.io/spatialplanr/articles/GlobalFishingWatch.html","id":"get_raster-caveats-and-limitations-","dir":"Articles","previous_headings":"Global Fishing Watch R Package (gfwr) > Fishing effort visualization","what":"get_raster caveats and limitations.","title":"Global Fishing Watch","text":"Date range limited 1-year. Nevertheless, modifications, can get round problems splnr_get_gfw.","code":"data_sf_combined <- splnr_get_gfw(region = \"Australia\",                                    start_date = \"2019-01-01\",                                   end_date =  \"2023-12-31\",                                   temp_res = \"YEARLY\",                                   spat_res = \"LOW\",                                   compress = FALSE)"},{"path":"https://mathmarecol.github.io/spatialplanr/articles/GlobalFishingWatch.html","id":"visualization","dir":"Articles","previous_headings":"Global Fishing Watch R Package (gfwr)","what":"Visualization","title":"Global Fishing Watch","text":"display data, load :  - coastline rnaturalearth package modify get sf object, constrain boundaries given data.  - EEZ Polygons oceandatr package","code":"# Check and modify if necessary the spatial reference of data_sf_combined data_sf_combined <- sf::st_set_crs(data_sf_combined,                                     sf::st_crs(rnaturalearth::ne_coastline(scale = \"large\")))  coast_clipped <- rnaturalearth::ne_coastline(scale = \"large\") %>%   sf::st_as_sf() %>%   sf::st_intersection(sf::st_as_sfc(sf::st_bbox(data_sf_combined)))  # Load EEZ polygons eezs <- spatialgridr::get_boundary(name = \"Australia\", type = \"eez\", country_type = \"country\") %>%   sf::st_transform(crs = sf::st_crs(data_sf_combined)) %>%   sf::st_make_valid() %>%   sf::st_intersection(sf::st_as_sfc(sf::st_bbox(data_sf_combined)))"},{"path":[]},{"path":[]},{"path":[]},{"path":"https://mathmarecol.github.io/spatialplanr/articles/GlobalFishingWatch.html","id":"year-on-year-comparison","dir":"Articles","previous_headings":"Global Fishing Watch R Package (gfwr) > Here we display the Fishing Effort in Australia from 2019 to 2023.","what":"Year-on-year comparison","title":"Global Fishing Watch","text":"may need compare different timeframes, seasons, see patterns. Note : vessels adopted AIS (mainly economically developed countries) since deployment technologies, rise activities must seen context increase necessarily intense fishing activity.","code":"# We need to change the temporal range according to our need group by it to display the total fishing hours. <br> data_sf_combined <- splnr_get_gfw(region = \"Australia\",                                    start_date = \"2019-01-01\",                                    end_date = \"2023-12-31\",                                    temp_res = \"MONTHLY\",                                    key = gfwr::gfw_auth()) %>%   dplyr::group_by(Year, Month) %>%   dplyr::summarize(Total_Fishing_Hours = sum(ApparentFishingHrs))"},{"path":"https://mathmarecol.github.io/spatialplanr/articles/GlobalFishingWatch.html","id":"fishing-gear-type","dir":"Articles","previous_headings":"Global Fishing Watch R Package (gfwr) > Here we display the Fishing Effort in Australia from 2019 to 2023.","what":"Fishing gear type","title":"Global Fishing Watch","text":"display Vessel activity ‘Micronesia’ 2020 according fishing gear type.","code":"data_sf_combined <- splnr_get_gfw(region = \"Micronesia\",                                    start_date = \"2019-12-31\",                                    end_date = \"2021-01-01\",                                    temp_res = \"MONTHLY\")"},{"path":"https://mathmarecol.github.io/spatialplanr/articles/GlobalFishingWatch.html","id":"flags","dir":"Articles","previous_headings":"Global Fishing Watch R Package (gfwr) > Here we display the Fishing Effort in Australia from 2019 to 2023.","what":"Flags","title":"Global Fishing Watch","text":"display Vessel activity Papua New Guinea according Vessels flags.","code":""},{"path":"https://mathmarecol.github.io/spatialplanr/articles/GlobalFishingWatch.html","id":"supplementary-materials-","dir":"Articles","previous_headings":"Global Fishing Watch R Package (gfwr) > Here we display the Fishing Effort in Australia from 2019 to 2023.","what":"Supplementary materials.","title":"Global Fishing Watch","text":"fishing detection model trained AIS data 503 vessels identified fishing activity 90% accuracy, means can identify fishing non-fishing activity high accuracy. details AIS operation limitations .","code":""},{"path":"https://mathmarecol.github.io/spatialplanr/articles/GlobalFishingWatch.html","id":"hierarchy-of-vessels-gear-types","dir":"Articles","previous_headings":"Global Fishing Watch R Package (gfwr) > Here we display the Fishing Effort in Australia from 2019 to 2023.","what":"Hierarchy of vessels gear types :","title":"Global Fishing Watch","text":"Source : https://globalfishingwatch.org/datasets--code-vessel-identity/","code":""},{"path":"https://mathmarecol.github.io/spatialplanr/articles/MultipleUse.html","id":"overview","dir":"Articles","previous_headings":"","what":"Overview","title":"Spatial Planning With Zones","text":"code written simplify process running prioritizr analysis given region. still work progress feel free submit pull requests new features code improvements. workflow shown based prioritizr introduction zones.","code":""},{"path":"https://mathmarecol.github.io/spatialplanr/articles/MultipleUse.html","id":"set-user-parameters","dir":"Articles","previous_headings":"Overview","what":"Set user parameters","title":"Spatial Planning With Zones","text":"Set diameter planning units. units CRS (usually metres degrees). Choose CRS analysis. use Mollweide","code":"Region <- \"Coral Sea\" # \"Australia\" Type <- \"Oceans\" # \"EEZ\" PU_size <- 107460 # m cCRS <- \"ESRI:54009\""},{"path":"https://mathmarecol.github.io/spatialplanr/articles/MultipleUse.html","id":"analysis-region","dir":"Articles","previous_headings":"Overview","what":"Analysis Region","title":"Spatial Planning With Zones","text":"Start analysis defining region setting planning units. Get boundary chosen region.","code":"Bndry <- splnr_get_boundary(Limits = Region, Type = Type, cCRS = cCRS)  landmass <- rnaturalearth::ne_countries(   scale = \"medium\",   returnclass = \"sf\" ) %>%   sf::st_transform(cCRS)"},{"path":"https://mathmarecol.github.io/spatialplanr/articles/MultipleUse.html","id":"create-planning-units","dir":"Articles","previous_headings":"Overview","what":"Create Planning Units","title":"Spatial Planning With Zones","text":"can also use customised ggplot theme can passed list splnr_gg_add() can used plots. example:","code":"PUs <- spatialgridr::get_grid(boundary = Bndry,                               crs = cCRS,                               output = \"sf_hex\",                               resolution = PU_size) splnr_theme <- list(   ggplot2::theme_bw(),   ggplot2::theme(     legend.position = \"right\",     legend.direction = \"vertical\",     text = ggplot2::element_text(size = 9, colour = \"black\"),     axis.text = ggplot2::element_text(size = 9, colour = \"black\"),     plot.title = ggplot2::element_text(size = 9),     axis.title = ggplot2::element_blank()   ) )"},{"path":"https://mathmarecol.github.io/spatialplanr/articles/MultipleUse.html","id":"get-the-features","dir":"Articles","previous_headings":"Overview","what":"Get the features","title":"Spatial Planning With Zones","text":"example, use small subset charismatic megafauna species Coral Sea inform conservation plan. filtered Aquamaps (Aquamaps.org) species distribution models study area following species: species chosen based importance region represent example visualization purposes. Note: structure tribbleabove required downstream plotting. Common denotes common name species, Scientific scientific name format used Aquamaps, Category category species belongs Class represents importance species conservation plan.","code":"Dict <- tibble::tribble(   ~nameCommon, ~nameVariable, ~category,    \"Green sea turtle\", \"Chelonia_mydas\", \"Reptiles\",    \"Loggerhead sea turtle\", \"Caretta_caretta\", \"Reptiles\",    \"Hawksbill sea turtle\", \"Eretmochelys_imbricata\", \"Reptiles\",    \"Olive ridley sea turtle\", \"Lepidochelys_olivacea\", \"Reptiles\",    \"Saltwater crocodile\", \"Crocodylus_porosus\", \"Reptiles\",    \"Humpback whale\", \"Megaptera_novaeangliae\", \"Mammals\",    \"Common Minke whale\", \"Balaenoptera_acutorostrata\",   \"Mammals\",    \"Dugong\", \"Dugong_dugon\", \"Mammals\",    \"Grey nurse shark\", \"Carcharias_taurus\", \"Sharks and rays\",    \"Tiger shark\", \"Galeocerdo_cuvier\", \"Sharks and rays\",    \"Great hammerhead shark\", \"Sphyrna_mokarran\",   \"Sharks and rays\",    \"Giant oceanic manta ray\", \"Mobula_birostris\", \"Sharks and rays\",    \"Reef manta ray\", \"Mobula_alfredi\", \"Sharks and rays\",    \"Whitetip reef shark\", \"Triaenodon_obesus\", \"Sharks and rays\",   \"Red-footed booby\", \"Sula_sula\", \"Birds\" )"},{"path":"https://mathmarecol.github.io/spatialplanr/articles/MultipleUse.html","id":"convert-the-probabilities-to-binary-data-and-feature-names","dir":"Articles","previous_headings":"Overview > Get the features","what":"Convert the probabilities to binary data and feature names","title":"Spatial Planning With Zones","text":"","code":"datEx_species_bin <- spDataFiltered %>%   splnr_apply_cutoffs(Cutoffs = 0.5)  col_name <- spDataFiltered %>%   sf::st_drop_geometry() %>%   colnames()"},{"path":"https://mathmarecol.github.io/spatialplanr/articles/MultipleUse.html","id":"spatial-planning-including-zones","dir":"Articles","previous_headings":"Overview > Get the features","what":"Spatial planning including zones","title":"Spatial Planning With Zones","text":"far, steps exactly spatial plan include zones. direct comparison, first run spatial plan include zoning. , define targets features (: 30% features) create conservation problem include area-based cost prioritization. solve problem plot solution.  can also look well set target met. now look spatial plan needs extended include multiple management zones using zones().","code":"target <- rep(0.3, nrow(Dict))  p1 <- prioritizr::problem(   datEx_species_bin %>% dplyr::mutate(Cost1 = rep(1, 397)),   col_name,   \"Cost1\" ) %>%   prioritizr::add_min_set_objective() %>%   prioritizr::add_relative_targets(target) %>%   prioritizr::add_binary_decisions() %>%   prioritizr::add_default_solver(verbose = FALSE) s1 <- p1 %>%   prioritizr::solve.ConservationProblem()  (ggSoln <- splnr_plot_solution(s1) +     splnr_gg_add(PUs = PUs, Bndry = Bndry, overlay = landmass, cropOverlay = PUs, ggtheme = splnr_theme)) s1T <- s1 %>%   dplyr::select(tidyselect::starts_with(c(\"solution\"))) %>%   sf::st_drop_geometry() %>%   tibble::as_tibble()  r1 <- prioritizr::eval_feature_representation_summary(p1, s1T) print(r1) #> # A tibble: 15 × 5 #>    summary feature                    total_amount absolute_held relative_held #>    <chr>   <chr>                             <dbl>         <dbl>         <dbl> #>  1 overall Chelonia_mydas                       22            10         0.455 #>  2 overall Caretta_caretta                      22            10         0.455 #>  3 overall Eretmochelys_imbricata               24            10         0.417 #>  4 overall Lepidochelys_olivacea                22            10         0.455 #>  5 overall Crocodylus_porosus                   21             9         0.429 #>  6 overall Megaptera_novaeangliae              388           120         0.309 #>  7 overall Balaenoptera_acutorostrata          238            74         0.311 #>  8 overall Dugong_dugon                         13             5         0.385 #>  9 overall Carcharias_taurus                    22            10         0.455 #> 10 overall Galeocerdo_cuvier                    36            14         0.389 #> 11 overall Sphyrna_mokarran                    397           123         0.310 #> 12 overall Mobula_birostris                     20             8         0.4   #> 13 overall Mobula_alfredi                       20             8         0.4   #> 14 overall Triaenodon_obesus                    25            10         0.4   #> 15 overall Sula_sula                            13             5         0.385"},{"path":"https://mathmarecol.github.io/spatialplanr/articles/MultipleUse.html","id":"different-cost-layers","dir":"Articles","previous_headings":"Overview > Get the features","what":"Different cost layers","title":"Spatial Planning With Zones","text":"first assume zones interest set features, separate cost layers. , need set targets zones, case 20% features first zone 5% features second zone. create zones object specify number zones features zone. , define two zones features. zones need specified cost targets. use one area-based cost one cost layer uses random numbers, pre-defined targets pass zonesobject problem formulation solving conservation problem. solution can plotted using function splnr_plot_solution() argument zones set TRUE.  can see now planning units selected, planning units either selected zone 1 zone 2.","code":"target2 <- matrix(NA, ncol = 2, nrow = nrow(Dict)) target2[, 1] <- 0.2 target2[, 2] <- 0.05 z2 <- prioritizr::zones(\"zone 1\" = col_name, \"zone 2\" = col_name) p2 <- prioritizr::problem(   datEx_species_bin %>% dplyr::mutate(     Cost1 = rep(1, 397), # when giving sf input, we need as many cost columns as we have zones     Cost2 = runif(n = dim(.)[[1]])   ),   z2,   cost_column = c(\"Cost1\", \"Cost2\") ) %>%   prioritizr::add_min_set_objective() %>%   prioritizr::add_relative_targets(target2) %>%   prioritizr::add_binary_decisions() %>%   prioritizr::add_default_solver(verbose = FALSE)  s2 <- p2 %>%   prioritizr::solve.ConservationProblem() (gg_s2 <- splnr_plot_solution(   s2,   zones = TRUE,   colorVals = c(\"#c6dbef\", \"#3182bd\", \"black\"),   legendLabels = c(\"Not selected\", \"Zone 1\", \"Zone 2\") ) +   splnr_gg_add(     PUs = PUs, Bndry = Bndry, overlay = landmass,     cropOverlay = PUs, ggtheme = splnr_theme   ))"},{"path":"https://mathmarecol.github.io/spatialplanr/articles/MultipleUse.html","id":"different-features","dir":"Articles","previous_headings":"Overview > Get the features","what":"Different features","title":"Spatial Planning With Zones","text":"using sf objects zones(), input feature names zones() need length contain features. means zones features, interest specific zone, target set 0. example, want separate example data zone reptiles another zone containing taxa reptiles, can specify following targets: sets target reptiles first zone 30% rest 0%. second zone, targets non-reptiles 10% reptiles 0% interest zone. Target data given matrix working zones, transform data frame matrix end. define conservation problem way solve . can also look well targets met zone (combined). can see 15 features listed (number) overall summary, summary zone 1 summary zone 2. looking relative_held column tibble, observe summary zone 1 (row 16 onwards), features >30% targets met, whereas others (feature 6 7) low percentage suitable habitat within selected planning units. can extract common names two features: marine mammals thus target 0% zone 1 reptile-specific zone. percentage selected suitable habitat 0% despite target 0 proportion suitable habitat mammals selected incidentally selecting planning units zone meeting targets reptiles. applies zone 2. can also plot final solution :","code":"targets2b <- Dict %>%   dplyr::mutate(     targetZ1 = dplyr::if_else(category == \"Reptiles\", 30 / 100, 0),     targetZ2 = dplyr::if_else(category != \"Reptiles\", 10 / 100, 0)   ) %>%   dplyr::select(\"targetZ1\", \"targetZ2\") %>%   as.matrix() # NOTE: when using sf input, we need as many cost columns as we have zones p2b <- prioritizr::problem(   datEx_species_bin %>% dplyr::mutate(     Cost1 = rep(1, 397),     Cost2 = runif(n = dim(.)[[1]])   ),   z2,   cost_column = c(\"Cost1\", \"Cost2\") ) %>%   prioritizr::add_min_set_objective() %>%   prioritizr::add_relative_targets(targets2b) %>%   prioritizr::add_binary_decisions() %>%   prioritizr::add_default_solver(verbose = FALSE)  s2b <- p2b %>%   prioritizr::solve.ConservationProblem() r2b <- s2b %>%   dplyr::select(tidyselect::starts_with(c(\"solution\"))) %>%   sf::st_drop_geometry() %>%   tibble::as_tibble() %>%   prioritizr::eval_feature_representation_summary(p2b, .) print(r2b, n = 45) #> # A tibble: 45 × 5 #>    summary feature total_amount absolute_held relative_held #>    <chr>   <chr>          <dbl>         <dbl>         <dbl> #>  1 overall 1                 44            11       0.25    #>  2 overall 2                 44            11       0.25    #>  3 overall 3                 48            11       0.229   #>  4 overall 4                 44            11       0.25    #>  5 overall 5                 42            11       0.262   #>  6 overall 6                776            43       0.0554  #>  7 overall 7                476            26       0.0546  #>  8 overall 8                 26             7       0.269   #>  9 overall 9                 44            11       0.25    #> 10 overall 10                72            13       0.181   #> 11 overall 11               794            48       0.0605  #> 12 overall 12                40            11       0.275   #> 13 overall 13                40            11       0.275   #> 14 overall 14                50            12       0.24    #> 15 overall 15                26             8       0.308   #> 16 zone 1  1                 22             8       0.364   #> 17 zone 1  2                 22             8       0.364   #> 18 zone 1  3                 24             8       0.333   #> 19 zone 1  4                 22             8       0.364   #> 20 zone 1  5                 21             8       0.381   #> 21 zone 1  6                388             4       0.0103  #> 22 zone 1  7                238             2       0.00840 #> 23 zone 1  8                 13             5       0.385   #> 24 zone 1  9                 22             8       0.364   #> 25 zone 1  10                36             8       0.222   #> 26 zone 1  11               397             8       0.0202  #> 27 zone 1  12                20             8       0.4     #> 28 zone 1  13                20             8       0.4     #> 29 zone 1  14                25             8       0.32    #> 30 zone 1  15                13             6       0.462   #> 31 zone 2  1                 22             3       0.136   #> 32 zone 2  2                 22             3       0.136   #> 33 zone 2  3                 24             3       0.125   #> 34 zone 2  4                 22             3       0.136   #> 35 zone 2  5                 21             3       0.143   #> 36 zone 2  6                388            39       0.101   #> 37 zone 2  7                238            24       0.101   #> 38 zone 2  8                 13             2       0.154   #> 39 zone 2  9                 22             3       0.136   #> 40 zone 2  10                36             5       0.139   #> 41 zone 2  11               397            40       0.101   #> 42 zone 2  12                20             3       0.15    #> 43 zone 2  13                20             3       0.15    #> 44 zone 2  14                25             4       0.16    #> 45 zone 2  15                13             2       0.154 Dict[[1]][6] #> [1] \"Humpback whale\" Dict[[1]][7] #> [1] \"Common Minke whale\" (gg_s2b <- splnr_plot_solution(   s2b,   zones = TRUE,   colorVals = c(\"#c6dbef\", \"#3182bd\", \"black\"),   legendLabels = c(\"Not selected\", \"Zone 1\", \"Zone 2\") ) +   splnr_gg_add(     PUs = PUs, Bndry = Bndry, overlay = landmass,     cropOverlay = PUs, ggtheme = splnr_theme   ))"},{"path":"https://mathmarecol.github.io/spatialplanr/articles/MultipleUse.html","id":"boundary-penalty","dir":"Articles","previous_headings":"Overview > Get the features","what":"Boundary penalty","title":"Spatial Planning With Zones","text":"Similar “normal” priritisations, zones also allows including boundary penalty. several options can done within zones zones.","code":""},{"path":"https://mathmarecol.github.io/spatialplanr/articles/MultipleUse.html","id":"within-the-same-zone","dir":"Articles","previous_headings":"Overview > Get the features > Boundary penalty","what":"Within the same zone","title":"Spatial Planning With Zones","text":"zeros matrix denote penalty zones, whereas ones introduce boundary penalty define conservation problem. , introduce penalties within zone 1 zone 2 respectively. add_boundary_penalties() set penalty 0.5 zones defined zm1. purpose example, also set 10 second time limit prioritization. results show less fragmentation previous solution without penalties:  boundary penalty can also introduced one zone:","code":"zm1 <- diag(2) print(zm1) #>      [,1] [,2] #> [1,]    1    0 #> [2,]    0    1 p3 <- prioritizr::problem(   datEx_species_bin %>% dplyr::mutate(     Cost1 = rep(1, 397), # when giving sf input, we need as many cost columns as we have zones     Cost2 = runif(n = dim(.)[[1]])   ),   z2,   cost_column = c(\"Cost1\", \"Cost2\") ) %>%   prioritizr::add_min_set_objective() %>%   prioritizr::add_boundary_penalties(0.5, zone = zm1) %>%   prioritizr::add_relative_targets(target2) %>%   prioritizr::add_binary_decisions() %>%   prioritizr::add_default_solver(time_limit = 10, verbose = FALSE)  s3 <- p3 %>%   prioritizr::solve.ConservationProblem() (gg_s3 <- splnr_plot_solution(   s3,   zones = TRUE,   colorVals = c(\"#c6dbef\", \"#3182bd\", \"black\"),   legendLabels = c(\"Not selected\", \"Zone 1\", \"Zone 2\") ) +   splnr_gg_add(     PUs = PUs, Bndry = Bndry, overlay = landmass,     cropOverlay = PUs, ggtheme = splnr_theme   )) zm2 <- zm1 zm2[2, 2] <- 0  # NOTE: When using sf input, we need as many cost columns as we have zones p4 <- prioritizr::problem(   datEx_species_bin %>% dplyr::mutate(     Cost1 = rep(1, 397),     Cost2 = runif(n = dim(.)[[1]])   ),   z2,   cost_column = c(\"Cost1\", \"Cost2\") ) %>%   prioritizr::add_min_set_objective() %>%   prioritizr::add_boundary_penalties(0.5, zone = zm2) %>%   prioritizr::add_relative_targets(target2) %>%   prioritizr::add_binary_decisions() %>%   prioritizr::add_default_solver(time_limit = 10, verbose = FALSE)  s4 <- p4 %>%   prioritizr::solve.ConservationProblem()  (gg_s4 <- splnr_plot_solution(   s4,   zones = TRUE,   colorVals = c(\"#c6dbef\", \"#3182bd\", \"black\"),   legendLabels = c(\"Not selected\", \"Zone 1\", \"Zone 2\") ) +     splnr_gg_add(       PUs = PUs, Bndry = Bndry, overlay = landmass,       cropOverlay = PUs, ggtheme = splnr_theme     ))"},{"path":"https://mathmarecol.github.io/spatialplanr/articles/MultipleUse.html","id":"across-zones","dir":"Articles","previous_headings":"Overview > Get the features > Boundary penalty","what":"Across zones","title":"Spatial Planning With Zones","text":"Similarly, penalties can applied zones specified problem.","code":"zm3 <- matrix(1, ncol = 2, nrow = 2) print(zm3) #>      [,1] [,2] #> [1,]    1    1 #> [2,]    1    1 p5 <- prioritizr::problem(   datEx_species_bin %>% dplyr::mutate(     Cost1 = rep(1, 397), # when giving sf input, we need as many cost columns as we have zones     Cost2 = runif(n = dim(.)[[1]])   ),   z2,   cost_column = c(\"Cost1\", \"Cost2\") ) %>%   prioritizr::add_min_set_objective() %>%   prioritizr::add_boundary_penalties(0.5, zone = zm3) %>%   prioritizr::add_relative_targets(target2) %>%   prioritizr::add_binary_decisions() %>%   prioritizr::add_default_solver(time_limit = 10, verbose = FALSE)  s5 <- p5 %>%   prioritizr::solve.ConservationProblem()  (gg_s5 <- splnr_plot_solution(   s5,   zones = TRUE,   colorVals = c(\"#c6dbef\", \"#3182bd\", \"black\"),   legendLabels = c(\"Not selected\", \"Zone 1\", \"Zone 2\") ) +     splnr_gg_add(       PUs = PUs, Bndry = Bndry, overlay = landmass,       cropOverlay = PUs, ggtheme = splnr_theme     ))"},{"path":"https://mathmarecol.github.io/spatialplanr/articles/MultipleUse.html","id":"adding-constraints","dir":"Articles","previous_headings":"Overview > Get the features","what":"Adding constraints","title":"Spatial Planning With Zones","text":"Another addition often used conservation planning constraints. often lock lock areas interest various reasons. example, lock already existing MPAs one zones. using zones constraints, use prioritizr function add_manual_locked_constraints() requires input specific format, first prepare MPA data. need specify zone constraint applied , give information Planning Unit identifier, rename column interest “status” filter Planning Units locked-. results can visualized :","code":"mpas <- MPAsCoralSea %>%   dplyr::mutate(zone = \"zone 1\") %>%   dplyr::rename(status = wdpa) %>%   tibble::rowid_to_column(\"pu\") %>%    sf::st_drop_geometry() %>%   tibble::tibble() %>%   dplyr::filter(status == 1) # NOTE: When using sf input, we need as many cost columns as we have zones p6 <- prioritizr::problem(   datEx_species_bin %>% dplyr::mutate(     Cost1 = rep(1, 397),     Cost2 = runif(n = dim(.)[[1]])   ),   z2,   cost_column = c(\"Cost1\", \"Cost2\") ) %>%   prioritizr::add_min_set_objective() %>%   prioritizr::add_manual_locked_constraints(mpas) %>%   prioritizr::add_relative_targets(target2) %>%   prioritizr::add_binary_decisions() %>%   prioritizr::add_default_solver(time_limit = 10, verbose = FALSE)  s6 <- p6 %>%   prioritizr::solve.ConservationProblem() (gg_s6 <- splnr_plot_solution(   s6,   zones = TRUE,   colorVals = c(\"#c6dbef\", \"#3182bd\", \"black\"),   legendLabels = c(\"Not selected\", \"Zone 1\", \"Zone 2\") ) +   splnr_gg_add(     PUs = PUs, Bndry = Bndry, lockIn = MPAsCoralSea,     nameLockIn = \"wdpa\", typeLockIn = \"Full\",     colorLockIn = \"lightgrey\", alphaLockIn = 0.2, overlay = landmass,     labelLockIn = \"Current MPAs\", cropOverlay = PUs, ggtheme = splnr_theme   ))"},{"path":"https://mathmarecol.github.io/spatialplanr/articles/MultipleUse.html","id":"objective-functions","dir":"Articles","previous_headings":"Overview > Get the features","what":"Objective functions","title":"Spatial Planning With Zones","text":"far used minimum set objective function meet conservation targets whilst minimizing cost. However, objective function available prioritizr. example maximising mangrove ecosystem services, employed minimum shortfall objective function instead (Dabalà et al 2022). objective function, allocate budget exceeded (example area >30%) whilst still trying minimise cost meeting targets - targets might met (shortfall). Zones also works objective functions minimum set objective function. apply add_min_shortfall_objective() provide separate budgets two zones (8 0.3). can visualize output solving conservation problem.","code":"# NOTE: When using sf input, we need as many cost columns as we have zones p7 <- prioritizr::problem(   datEx_species_bin %>% dplyr::mutate(     Cost1 = rep(1, 397),     Cost2 = runif(n = dim(.)[[1]])   ),   z2,   cost_column = c(\"Cost1\", \"Cost2\") ) %>%   prioritizr::add_min_shortfall_objective(c(8, 0.3)) %>%   prioritizr::add_relative_targets(target2) %>%   prioritizr::add_binary_decisions() %>%   prioritizr::add_default_solver(time_limit = 10, verbose = FALSE) s7 <- p7 %>%   prioritizr::solve.ConservationProblem()  (gg_s7 <- splnr_plot_solution(   s7,   zones = TRUE,   colorVals = c(\"#c6dbef\", \"#3182bd\", \"black\"),   legendLabels = c(\"Not selected\", \"Zone 1\", \"Zone 2\") ) +     splnr_gg_add(       PUs = PUs, Bndry = Bndry, overlay = landmass,       cropOverlay = PUs, ggtheme = splnr_theme     ))"},{"path":"https://mathmarecol.github.io/spatialplanr/articles/MultipleUse.html","id":"alternative-linear-constraints","dir":"Articles","previous_headings":"Overview > Get the features","what":"Alternative: linear constraints","title":"Spatial Planning With Zones","text":"Sometimes spatial plan might needed requires minimising several costs , binary output (inside protected area/outside protected area) sufficient. case, using linear constraints instead zones might simpler time-efficient way forward. Linear constraints make sure planning units selected area meet criteria given constraint. example, using area-based cost (lowest number planning units meet target), might also simultaneously want minimise cost fisheries keep certain threshold. Inversely, might want minimise cost fisheries also select 30% area. example, fill first define targets random cost layer values ranging 0 1. define solve conservation problem: Based problem definition, want meet targets biodiversity features whilst selecting lowest number planning units possible. However, solution also depends threshold linear constraint specified add_linear_constraints()problem. Specifically, planning units selected solution can exceed 10% total cost planning units costRandom$CostR. can visualise solution :  NOTE: can also use multiple linear constraints plan, however, might require normalization input data constraints comparable units, careful tuning thresholds, prioritizr still able solve problem.","code":"target8 <- rep(0.3, nrow(Dict))  set.seed <- 10 # Add seed so the problem below solves each time  costRandom <- datEx_species_bin %>%   dplyr::mutate(CostR = runif(n = dim(.)[[1]])) %>%   dplyr::select(\"CostR\") p8 <- prioritizr::problem(   datEx_species_bin %>% dplyr::mutate(Cost1 = rep(1, 397)),   col_name,   \"Cost1\" ) %>%   prioritizr::add_min_set_objective() %>%   prioritizr::add_relative_targets(target8) %>%   prioritizr::add_linear_constraints(sum(costRandom$CostR) * 0.1,                                      sense = \"<=\", costRandom$CostR   ) %>%   prioritizr::add_binary_decisions() %>%   prioritizr::add_default_solver(verbose = FALSE)  s8 <- p8 %>%   prioritizr::solve.ConservationProblem() (gg_s8 <- splnr_plot_solution(s8) +    splnr_gg_add(PUs = PUs, Bndry = Bndry, overlay = landmass, cropOverlay = PUs, ggtheme = splnr_theme))"},{"path":"https://mathmarecol.github.io/spatialplanr/articles/MultipleUse.html","id":"common-targets-across-zones","dir":"Articles","previous_headings":"Overview > Get the features","what":"Common targets across zones","title":"Spatial Planning With Zones","text":"Sometimes might required meet (common) conservation target across multiple zones, several zones contribute reaching target. , need define target across zones (: 30% features across zones): need bring data specific format requires us individual column feature specific zone, spp1 two zones (zone1 zone2), two separate columns input data: spp1_zone1 spp1_zone2. species names zone names exactly specified zones() object separated _. also extract new feature names create zones object, joining two newly created data frames file used prioriztisation. can see defined (random) cost layers cost layer zone2 three times costly zone1. setting solving conservation problem, can look resulting solution well targets met. overall summary shows every feature’s suitable habitat represented least 30% combined target set. However, can see features zone1 lot frequently selected zone2 zone2 three times costly.  plot also reflects observation PUs frequently selected zone1. wanted constrain , zone1 less often selected zone2 often?","code":"targetAcross <- dplyr::tibble(   feature = col_name,   zone = list(c(\"zone1\", \"zone2\"))[rep(1, length(col_name))],   target = rep(0.3, length(col_name)),   type = rep(\"relative\", length(col_name)) ) datSpecZone1 <- datEx_species_bin %>%   dplyr::rename_at(dplyr::vars(-geometry), ~ paste0(.x, \"_zone1\"))  featuresZone1 <- datSpecZone1 %>%   sf::st_drop_geometry() %>%   colnames()  datSpecZone2 <- datEx_species_bin %>%   dplyr::rename_at(dplyr::vars(-geometry), ~ paste0(.x, \"_zone2\"))  featuresZone2 <- datSpecZone2 %>%   sf::st_drop_geometry() %>%   colnames() z10 <- prioritizr::zones(   featuresZone1,   featuresZone2,   zone_names = c(\"zone1\", \"zone2\"),   feature_names = col_name )  out_sf <- datSpecZone1 %>%   sf::st_join(datSpecZone2, join = sf::st_equals) %>%   dplyr::mutate(     Cost1 = runif(n = dim(.)[[1]]) * 100,     Cost2 = runif(n = dim(.)[[1]]) * 300   ) p10 <- prioritizr::problem(out_sf,                            z10,                            cost_column = c(\"Cost1\", \"Cost2\") ) %>%   prioritizr::add_min_set_objective() %>%   prioritizr::add_manual_targets(targetAcross) %>%   prioritizr::add_binary_decisions() %>%   prioritizr::add_default_solver(verbose = FALSE)  s10 <- p10 %>%   prioritizr::solve.ConservationProblem() s10F <- s10 %>%   dplyr::select(tidyselect::starts_with(c(\"solution\"))) %>%   sf::st_drop_geometry() %>%   tibble::as_tibble()  r10 <- prioritizr::eval_feature_representation_summary(p10, s10F) print(r10) #> # A tibble: 45 × 5 #>    summary feature                    total_amount absolute_held relative_held #>    <chr>   <chr>                             <dbl>         <dbl>         <dbl> #>  1 overall Chelonia_mydas                       44            14         0.318 #>  2 overall Caretta_caretta                      44            14         0.318 #>  3 overall Eretmochelys_imbricata               48            15         0.312 #>  4 overall Lepidochelys_olivacea                44            14         0.318 #>  5 overall Crocodylus_porosus                   42            14         0.333 #>  6 overall Megaptera_novaeangliae              776           234         0.302 #>  7 overall Balaenoptera_acutorostrata          476           146         0.307 #>  8 overall Dugong_dugon                         26            10         0.385 #>  9 overall Carcharias_taurus                    44            14         0.318 #> 10 overall Galeocerdo_cuvier                    72            25         0.347 #> # ℹ 35 more rows (gg_s10 <- splnr_plot_solution(s10,                                zones = TRUE,                                colorVals = c(\"#c6dbef\", \"#3182bd\", \"black\"),                                legendLabels = c(\"Not selected\", \"Zone 1\", \"Zone 2\") ) +   splnr_gg_add(     PUs = PUs, Bndry = Bndry, overlay = landmass,     cropOverlay = PUs, ggtheme = splnr_theme   ))"},{"path":"https://mathmarecol.github.io/spatialplanr/articles/MultipleUse.html","id":"targets-across-zones-with-linear-constraints","dir":"Articles","previous_headings":"Overview > Get the features","what":"Targets across zones with linear constraints","title":"Spatial Planning With Zones","text":"can include linear constraints zone1 , area exceed 30% whole area. need create matrix contains data constraint want include. Although want put linear constraint zone1, prioritizr still requires matrix many columns zones. Thus, set area cost 1 zone1 want constraint 0 zone2 want introduce linear constraint. define conservation problem add linear constraint 30% area. selected planning units now equally distributed across zones, also observable plot:  However, also expect cost spatial plan higher previous one.","code":"CostArea <- out_sf %>%   dplyr::mutate(     areaCostZone1 = rep(1, 397),     areaCostZone2 = rep(0, 397)   ) %>%   sf::st_drop_geometry() %>%   dplyr::select(\"areaCostZone1\", \"areaCostZone2\") %>%   as.matrix() p11 <- prioritizr::problem(out_sf,                            z10,                            cost_column = c(\"Cost1\", \"Cost2\") ) %>%   prioritizr::add_min_set_objective() %>%   prioritizr::add_linear_constraints(sum(CostArea[, 1]) * 0.3,                                      sense = \"<=\", CostArea   ) %>%   prioritizr::add_manual_targets(targetAcross) %>%   prioritizr::add_binary_decisions() %>%   prioritizr::add_default_solver(verbose = FALSE)  s11 <- p11 %>%   prioritizr::solve.ConservationProblem() s11F <- s11 %>%   dplyr::select(tidyselect::starts_with(c(\"solution\"))) %>%   sf::st_drop_geometry() %>%   tibble::as_tibble()  r11 <- prioritizr::eval_feature_representation_summary(p11, s11F) print(r11) #> # A tibble: 45 × 5 #>    summary feature                    total_amount absolute_held relative_held #>    <chr>   <chr>                             <dbl>         <dbl>         <dbl> #>  1 overall Chelonia_mydas                       44            14         0.318 #>  2 overall Caretta_caretta                      44            14         0.318 #>  3 overall Eretmochelys_imbricata               48            15         0.312 #>  4 overall Lepidochelys_olivacea                44            14         0.318 #>  5 overall Crocodylus_porosus                   42            14         0.333 #>  6 overall Megaptera_novaeangliae              776           234         0.302 #>  7 overall Balaenoptera_acutorostrata          476           144         0.303 #>  8 overall Dugong_dugon                         26             9         0.346 #>  9 overall Carcharias_taurus                    44            14         0.318 #> 10 overall Galeocerdo_cuvier                    72            24         0.333 #> # ℹ 35 more rows (gg_s11 <- splnr_plot_solution(   s11,   zones = TRUE,   colorVals = c(\"#c6dbef\", \"#3182bd\", \"black\"),   legendLabels = c(\"Not selected\", \"Zone 1\", \"Zone 2\") ) +   splnr_gg_add(     PUs = PUs, Bndry = Bndry, overlay = landmass,     cropOverlay = PUs, ggtheme = splnr_theme   ))"},{"path":"https://mathmarecol.github.io/spatialplanr/articles/MultipleUse.html","id":"targets-across-some-but-not-all-zones","dir":"Articles","previous_headings":"Overview > Get the features","what":"Targets across some (but not all) zones","title":"Spatial Planning With Zones","text":"example, want target 30% suitable reptile habitat zone 1 zone 2. Additionally, set target 20% zone 2 marine mammals target 5% sharks rays zone 3. create zones object three different zones: create joint sf object zones respective costs.","code":"targetAcrossSome <- Dict %>%   dplyr::mutate(     target = dplyr::case_when(       category == \"Reptiles\" ~ 30 / 100,       category == \"Mammals\" ~ 10 / 100,       category == \"Sharks and rays\" ~ 5 / 100,       TRUE ~ 0     ),     zone = dplyr::case_when(       category == \"Reptiles\" ~ list(c(\"zone1\", \"zone2\")),       category == \"Mammals\" ~ list(\"zone2\"),       category == \"Sharks and rays\" ~ list(\"zone3\"),       TRUE ~ list(c(\"zone1\", \"zone2\", \"zone3\"))     ),     type = rep(\"relative\", length(col_name))   ) %>%   dplyr::rename(feature = \"nameVariable\") %>%   dplyr::select(-\"category\", -\"nameCommon\") datSpecZone1 <- datEx_species_bin %>%   dplyr::rename_at(dplyr::vars(-geometry), ~ paste0(.x, \"_zone1\"))  featuresZone1 <- datSpecZone1 %>%   sf::st_drop_geometry() %>%   colnames()  datSpecZone2 <- datEx_species_bin %>%   dplyr::rename_at(dplyr::vars(-geometry), ~ paste0(.x, \"_zone2\"))  featuresZone2 <- datSpecZone2 %>%   sf::st_drop_geometry() %>%   colnames()  datSpecZone3 <- datEx_species_bin %>%   dplyr::rename_at(dplyr::vars(-geometry), ~ paste0(.x, \"_zone3\"))  featuresZone3 <- datSpecZone3 %>%   sf::st_drop_geometry() %>%   colnames()  z12 <- prioritizr::zones(   featuresZone1,   featuresZone2,   featuresZone3,   zone_names = c(\"zone1\", \"zone2\", \"zone3\"),   feature_names = col_name ) # NOTE: When using sf input, we need as many cost columns as we have zones out_sf <- datSpecZone1 %>%   sf::st_join(datSpecZone2, join = sf::st_equals) %>%   sf::st_join(datSpecZone3, join = sf::st_equals) %>%   dplyr::mutate(geometry = datEx_species_bin$geometry) %>%   sf::st_as_sf() %>%   dplyr::mutate(     Cost1 = runif(n = dim(.)[[1]]) * 100,     Cost2 = runif(n = dim(.)[[1]]) * 300,     Cost3 = runif(n = dim(.)[[1]]) * 200   ) p12 <- prioritizr::problem(out_sf,                            z12,                            cost_column = c(\"Cost1\", \"Cost2\", \"Cost3\") ) %>%   prioritizr::add_min_set_objective() %>%   prioritizr::add_manual_targets(targetAcrossSome) %>%   prioritizr::add_binary_decisions() %>%   prioritizr::add_default_solver(verbose = FALSE)  s12 <- p12 %>%   prioritizr::solve.ConservationProblem() s12F <- s12 %>%   dplyr::select(tidyselect::starts_with(c(\"solution\"))) %>%   sf::st_drop_geometry() %>%   tibble::as_tibble()  r12 <- prioritizr::eval_feature_representation_summary(p12, s12F) print(r12) #> # A tibble: 60 × 5 #>    summary feature                    total_amount absolute_held relative_held #>    <chr>   <chr>                             <dbl>         <dbl>         <dbl> #>  1 overall Chelonia_mydas                       66            16        0.242  #>  2 overall Caretta_caretta                      66            16        0.242  #>  3 overall Eretmochelys_imbricata               72            17        0.236  #>  4 overall Lepidochelys_olivacea                66            16        0.242  #>  5 overall Crocodylus_porosus                   63            16        0.254  #>  6 overall Megaptera_novaeangliae             1164            64        0.0550 #>  7 overall Balaenoptera_acutorostrata          714            44        0.0616 #>  8 overall Dugong_dugon                         39             8        0.205  #>  9 overall Carcharias_taurus                    66            16        0.242  #> 10 overall Galeocerdo_cuvier                   108            19        0.176  #> # ℹ 50 more rows (gg_s12 <- splnr_plot_solution(   s12,   zones = TRUE,   colorVals = c(\"#c6dbef\", \"#3182bd\", \"navyblue\", \"black\"),   legendLabels = c(\"Not selected\", \"Zone 1\", \"Zone 2\", \"Zone3\") ) +   splnr_gg_add(     PUs = PUs, Bndry = Bndry, overlay = landmass,     cropOverlay = PUs, ggtheme = splnr_theme   ))"},{"path":[]},{"path":"https://mathmarecol.github.io/spatialplanr/articles/MultipleUse.html","id":"short-term","dir":"Articles","previous_headings":"Overview > Get the features > Next steps","what":"Short-term","title":"Spatial Planning With Zones","text":"Test run time zones compared normal prioritization Communicate zones outcomes effectively (e.g. targets, cost overlay etc.)","code":""},{"path":"https://mathmarecol.github.io/spatialplanr/articles/MultipleUse.html","id":"longer-term","dir":"Articles","previous_headings":"Overview > Get the features > Next steps","what":"Longer-term","title":"Spatial Planning With Zones","text":"deal overlapping zones (moment prioritizr allocates PU single zone) connect climate-smart workflow zones handle inputs benefit using different objective functions (e.g. ecosystem services vs biodiversity features) Look commonly used data sets multiple use approaches think zone-specific costs, constraints, targets etc. Define (Waitt’s) understanding multiple-use want implement (can differ now future) EU Horizon 2020 MUSES-project: multiple use/multi-use “joint use resources close geographic proximity either single user multiple users. umbrella term covers multitude use combinations marine realm represents radical change concept exclusive resource rights inclusive sharing resources space one users.” Bonnevie et al. 2019: “multi-use specific co-location/coexistence resources shared.” Schupp et al. 2019: distinguishes different types multi-uses (one co-location) Types multiple use MSP according Schupp et al. 2019","code":""},{"path":"https://mathmarecol.github.io/spatialplanr/articles/spatialplanr.html","id":"overview","dir":"Articles","previous_headings":"","what":"Overview","title":"A Basic Spatial Planning Workflow","text":"code written simplify process running prioritizr analysis given region. still work progress feel free submit pull requests new features code improvements.","code":""},{"path":"https://mathmarecol.github.io/spatialplanr/articles/spatialplanr.html","id":"set-user-parameters","dir":"Articles","previous_headings":"Overview","what":"Set user parameters","title":"A Basic Spatial Planning Workflow","text":"can set region defined splnr_get_planningUnits. can also define region square boundaries (degrees) need. Choose CRS analysis. case use Mollweide Set diameter planning units. units CRS (usually metres degrees).","code":"Region <- \"Coral Sea\" # \"Australia\" Type <- \"Oceans\" # \"EEZ\" Region <- c(xmin = 150, xmax = 160, ymin = -40, ymax = -30) cCRS <- \"ESRI:54009\" PU_size <- 107460 # m"},{"path":"https://mathmarecol.github.io/spatialplanr/articles/spatialplanr.html","id":"analysis-region","dir":"Articles","previous_headings":"Overview","what":"Analysis Region","title":"A Basic Spatial Planning Workflow","text":"Start analysis defining region setting planning units. Get boundary chosen region. Get land boundaries remove overlap. object “landmass” represents land mass removed (inverse = FALSE)","code":"Bndry <- splnr_get_boundary(Limits = Region, Type = Type, cCRS = cCRS) landmass <- rnaturalearth::ne_countries(   scale = \"medium\",   returnclass = \"sf\" ) %>%   sf::st_transform(cCRS)"},{"path":"https://mathmarecol.github.io/spatialplanr/articles/spatialplanr.html","id":"create-planning-units","dir":"Articles","previous_headings":"Overview","what":"Create Planning Units","title":"A Basic Spatial Planning Workflow","text":"can check PUs look like  want add additional properties map, example landmass boundary, can use splnr_gg_add().  can also use customised ggplpot theme can passed list splnr_gg_add() can used plots. example:","code":"PUs <- spatialgridr::get_grid(boundary = Bndry,                                crs = cCRS,                               output = \"sf_hex\",                                resolution = PU_size) (ggPU <- splnr_plot(df = PUs) +    ggplot2::theme_bw()) # Plot Planning Units (ggPU <- splnr_plot(df = PUs) +    splnr_gg_add(      Bndry = Bndry, overlay = landmass,      cropOverlay = PUs, ggtheme = \"Default\"    )) splnr_theme <- list(   ggplot2::theme_bw(),   ggplot2::theme(     legend.position = \"right\",     legend.direction = \"vertical\",     text = ggplot2::element_text(size = 9, colour = \"black\"),     axis.text = ggplot2::element_text(size = 9, colour = \"black\"),     plot.title = ggplot2::element_text(size = 9),     axis.title = ggplot2::element_blank()   ) )  (ggPU <- splnr_plot(PUs) +     splnr_gg_add(       Bndry = Bndry, overlay = landmass,       cropOverlay = PUs, ggtheme = splnr_theme     ))"},{"path":"https://mathmarecol.github.io/spatialplanr/articles/spatialplanr.html","id":"get-the-features","dir":"Articles","previous_headings":"Overview","what":"Get the features","title":"A Basic Spatial Planning Workflow","text":"example, use small subset charismatic megafauna species Coral Sea inform conservation plan. filtered Aquamaps (Aquamaps.org) species distribution models study area following species: species chosen based importance region represent example visualization purposes. Note: structure tribbleabove required downstream plotting. Common denotes common name species, nameVariable scientific name format used Aquamaps, TaxGroup taxonomic grouping species belongs Category represents importance species conservation plan.","code":"Dict <- tibble::tribble(   ~nameCommon, ~nameVariable, ~category,    \"Green sea turtle\", \"Chelonia_mydas\", \"Reptiles\",    \"Loggerhead sea turtle\", \"Caretta_caretta\", \"Reptiles\",    \"Hawksbill sea turtle\", \"Eretmochelys_imbricata\", \"Reptiles\",    \"Olive ridley sea turtle\", \"Lepidochelys_olivacea\", \"Reptiles\",    \"Saltwater crocodile\", \"Crocodylus_porosus\", \"Reptiles\",    \"Humpback whale\", \"Megaptera_novaeangliae\", \"Mammals\",    \"Common Minke whale\", \"Balaenoptera_acutorostrata\", \"Mammals\",    \"Dugong\", \"Dugong_dugon\", \"Mammals\",    \"Grey nurse shark\", \"Carcharias_taurus\", \"Sharks and rays\",    \"Tiger shark\", \"Galeocerdo_cuvier\", \"Sharks and rays\",    \"Great hammerhead shark\", \"Sphyrna_mokarran\", \"Sharks and rays\",    \"Giant oceanic manta ray\", \"Mobula_birostris\", \"Sharks and rays\",    \"Reef manta ray\", \"Mobula_alfredi\", \"Sharks and rays\",    \"Whitetip reef shark\", \"Triaenodon_obesus\", \"Sharks and rays\",   \"Red-footed booby\", \"Sula_sula\", \"Birds\" )"},{"path":"https://mathmarecol.github.io/spatialplanr/articles/spatialplanr.html","id":"convert-the-probabilities-to-binary-data","dir":"Articles","previous_headings":"Overview > Get the features","what":"Convert the probabilities to binary data","title":"A Basic Spatial Planning Workflow","text":"can now look feature data used spatial plan individually calling splnr_plot_binFeature(), example see binary habitat suitability map Green sea turtles:  suitable habitat Green sea turtles predicted Aquamaps restricted cells close coast. now compare predicted suitable habitat Humpback whales, can see fairly ubiquitous across whole Coral Sea.  example, reason classified species either representative suitable habitat wide-ranging within study region important restricted number cells. get better idea overall distribution used features, can also plot number features suitable habitat within Planning Unit study region.","code":"datEx_species_bin <- spDataFiltered %>%   splnr_apply_cutoffs(Cutoffs = 0.5) (ggFeature1 <- splnr_plot(   df = datEx_species_bin,   colNames = \"Chelonia_mydas\",   plotTitle = \"Chelonia mydas\",   legendLabels = c(\"Absence\", \"Presence\") ) +   splnr_gg_add(     PUs = PUs, Bndry = Bndry, overlay = landmass,     cropOverlay = PUs, ggtheme = splnr_theme   ) ) (ggFeature <- splnr_plot(   datEx_species_bin,   \"Megaptera_novaeangliae\",   plotTitle = \"Megaptera novaeangliae\" ) +   splnr_gg_add(     PUs = PUs, Bndry = Bndry, overlay = landmass,     cropOverlay = PUs, ggtheme = splnr_theme   )) (ggFeatNo <- splnr_plot(df = datEx_species_bin,                          colNames =  colnames(datEx_species_bin %>%                                                  sf::st_drop_geometry()),                         plotTitle = \"\",                          legendTitle = \"Number of features\") +    splnr_gg_add(      PUs = PUs, Bndry = Bndry, overlay = landmass,      cropOverlay = PUs, ggtheme = splnr_theme    ))"},{"path":"https://mathmarecol.github.io/spatialplanr/articles/spatialplanr.html","id":"prepare-data-for-prioritization","dir":"Articles","previous_headings":"Overview","what":"Prepare Data for prioritization","title":"A Basic Spatial Planning Workflow","text":"spatial prioritization also need extract names features pass prioritizr. also create sf object contains information needed prioritization.","code":"feature_names <- splnr_featureNames(datEx_species_bin) out_sf <- datEx_species_bin"},{"path":"https://mathmarecol.github.io/spatialplanr/articles/spatialplanr.html","id":"add-cost","dir":"Articles","previous_headings":"Overview > Prepare Data for prioritization","what":"Add Cost","title":"A Basic Spatial Planning Workflow","text":"example, use minimum set objective function, aims minimize cost whilst meeting conservation targets. add area-based cost include little area possible spatial plan whilst meeting conservation targets. , planning units assigned equal cost 1.","code":"out_sf$Cost_None <- 1 (ggCost <- splnr_plot(out_sf, colNames = \"Cost_None\",                        legendTitle = \"Cost\", legendLabels = \"1\") +     splnr_gg_add(       PUs = PUs, Bndry = Bndry, overlay = landmass,       cropOverlay = PUs, ggtheme = splnr_theme     ))"},{"path":[]},{"path":"https://mathmarecol.github.io/spatialplanr/articles/spatialplanr.html","id":"fishing-effort","dir":"Articles","previous_headings":"","what":"A Basic Spatial Planning Workflow","title":"A Basic Spatial Planning Workflow","text":"gfwr package allows us recover data fisheries across world, set parameter compress TRUE recover Apparent fishing hours per coordinates.","code":"gfw_data <- splnr_get_gfw(region = 'Australia',                            start_date = \"2022-01-01\",                            end_date = \"2022-12-31\",                            temp_res = \"yearly\",                            cCRS = cCRS,                            compress = TRUE) %>%   sf::st_interpolate_aw(PUs, extensive = TRUE)  out_sf$Apparent.Fishing.Hours <- 0 # Add column to PUs out_sf$Apparent.Fishing.Hours[as.numeric(rownames(PUs))] <-    gfw_data$Apparent.Fishing.Hours # Put corresponding data in PUs   (ggCost <- splnr_plot(out_sf, colNames = \"Apparent.Fishing.Hours\") +     splnr_gg_add(       PUs = PUs, Bndry = Bndry, overlay = landmass,       cropOverlay = PUs, ggtheme = splnr_theme     ))"},{"path":"https://mathmarecol.github.io/spatialplanr/articles/spatialplanr.html","id":"other-features-1","dir":"Articles","previous_headings":"","what":"A Basic Spatial Planning Workflow","title":"A Basic Spatial Planning Workflow","text":"Many features can taken account cost layers prioritization, provide different features oceandatrpackage.","code":""},{"path":"https://mathmarecol.github.io/spatialplanr/articles/spatialplanr.html","id":"set-targets","dir":"Articles","previous_headings":"Overview","what":"Set Targets","title":"A Basic Spatial Planning Workflow","text":"shown previously, assigned conservation features class reflecting importance planning region. Conservation targets assigned target based class, case 30% suitable habitat important 10% representative features. Note: assigned classes targets based ecological information chosen visualization purposes.","code":"catTarg <- c(\"Reptiles\" = 0.3, \"Mammals\" = 0.1, \"Sharks and rays\" = 0.1, \"Birds\" = 0.1)  target <- Dict %>%   splnr_targets_byCategory(catTarg, catName = \"category\")"},{"path":"https://mathmarecol.github.io/spatialplanr/articles/spatialplanr.html","id":"set-up-conservation-problem","dir":"Articles","previous_headings":"Overview","what":"Set up conservation problem","title":"A Basic Spatial Planning Workflow","text":"","code":"datEx_problem <- prioritizr::problem(out_sf, feature_names, \"Cost_None\") %>%   prioritizr::add_min_set_objective() %>%   prioritizr::add_relative_targets(target$target) %>%   prioritizr::add_binary_decisions() %>%   prioritizr::add_default_solver(verbose = FALSE)"},{"path":"https://mathmarecol.github.io/spatialplanr/articles/spatialplanr.html","id":"solve-the-conservation-problem","dir":"Articles","previous_headings":"Overview","what":"Solve the conservation problem","title":"A Basic Spatial Planning Workflow","text":"","code":"datEx_soln <- datEx_problem %>%   prioritizr::solve.ConservationProblem()"},{"path":"https://mathmarecol.github.io/spatialplanr/articles/spatialplanr.html","id":"visualize-output","dir":"Articles","previous_headings":"Overview","what":"Visualize Output","title":"A Basic Spatial Planning Workflow","text":"different ways visualize output prioritization can loosely grouped three categories: + Visualization solution + Visualization targets + Visualization importance scores","code":""},{"path":"https://mathmarecol.github.io/spatialplanr/articles/spatialplanr.html","id":"visualization-of-the-solution","dir":"Articles","previous_headings":"Overview > Visualize Output","what":"Visualization of the solution","title":"A Basic Spatial Planning Workflow","text":"plot shows optimal solution planning region meets selected targets chosen features smallest area possible. categorical map displays, planning units selected important meeting conservation targets (dark blue) selected (light blue). can also done overlay cost show solution avoids highly costly areas:  Note: example, cost equal planning units.","code":"(ggSoln <- splnr_plot(datEx_soln,                        colNames = \"solution_1\",                        legendTitle = \"Solution\",                        legendLabels = c(\"0\",\"1\")) +    splnr_gg_add(      PUs = PUs, Bndry = Bndry, overlay = landmass,      cropOverlay = PUs, ggtheme = splnr_theme    )) (ggCostOverlay <- splnr_plot_costOverlay(   soln = datEx_soln,   cost = NA,   costName = \"Cost_None\" ) +   splnr_gg_add(     PUs = PUs, Bndry = Bndry, overlay = landmass,     cropOverlay = PUs, ggtheme = splnr_theme   ))"},{"path":"https://mathmarecol.github.io/spatialplanr/articles/spatialplanr.html","id":"visualization-of-targets","dir":"Articles","previous_headings":"Overview > Visualize Output","what":"Visualization of targets","title":"A Basic Spatial Planning Workflow","text":"visualize well targets met, first need extract much suitable habitat feature selected spatial plan. also includes potential incidental coverage feature included spatial plan can still found planning region.  circular bar plot, one additional step data preparation needs done.","code":"dfTarget <- splnr_get_featureRep(datEx_soln, datEx_problem,                                  climsmart = FALSE,                                   solnCol = \"solution_1\" )   (ggTarget <- splnr_plot_featureRep(dfTarget,                                     category = Dict,                                     renameFeatures = TRUE,                                    namesToReplace = Dict,                                     categoryFeatureCol = \"nameCommon\",                                    nr = 1, showTarget = TRUE, )) dfTargetCirc <- dfTarget %>% dplyr::select(\"feature\", \"value\", \"group\") %>% na.omit()  colors <- c(   \"important\" = \"darkgreen\",   \"representative\" = \"darkred\" ) legends <- c(\"Important\", \"Representative\")  (ggCircTarg <- splnr_plot_circBplot(df = dfTargetCirc, legend_list = legends, legend_color = colors, impTarget = 30, repTarget = 10))"},{"path":"https://mathmarecol.github.io/spatialplanr/articles/spatialplanr.html","id":"visualization-of-importance-scores","dir":"Articles","previous_headings":"Overview > Visualize Output","what":"Visualization of importance scores","title":"A Basic Spatial Planning Workflow","text":"Importance scores can help assess relative importance individual selected Planning Unit spatial plan (information, see https://prioritizr.net/reference/importance.html) , use two different importance scores, Ferrier Score Rarity Weighted Richness.  example, scores label similar -coastal- planning units important spatial plan.","code":"ggFerrier <- splnr_plot_importanceScore(   soln = datEx_soln,   pDat = datEx_problem,   method = \"Ferrier\",   decimals = 4,   legendTitle = \"Importance Score \\n(Ferrier Score)\" ) +   splnr_gg_add(     PUs = PUs, Bndry = Bndry, overlay = landmass,     cropOverlay = PUs, ggtheme = splnr_theme   ) #> Calculating Ferrier Score.  ggRWR <- splnr_plot_importanceScore(   soln = datEx_soln,   pDat = datEx_problem,   method = \"RWR\",   decimals = 2,   legendTitle = \"Importance Score \\n(Rarity Weighted Richness)\" ) +   splnr_gg_add(     PUs = PUs, Bndry = Bndry, overlay = landmass,     cropOverlay = PUs, ggtheme = splnr_theme   ) #> Calculating Rarity Weighted Richness.  (ggScores <- patchwork::wrap_plots(ggFerrier + ggRWR))"},{"path":"https://mathmarecol.github.io/spatialplanr/articles/spatialplanr.html","id":"comparing-spatial-plans","dir":"Articles","previous_headings":"Overview","what":"Comparing Spatial Plans","title":"A Basic Spatial Planning Workflow","text":"Sometimes can useful direct comparison two spatial plans. show achieve package, first need second conservation problem resulting solution. , second spatial plan include already existing marine protected areas area (https://www.protectedplanet.net/en/thematic-areas/wdpa?tab=WDPA) following characteristics: * Status = c(“Designated”, “Established”, “Inscribed”) * Designation Type = c(“National”, “Regional”, “International”, “Applicable”) * IUCN Category = c(“Ia”, “Ib”, “II”, “III”, “IV”)  also include targets based IUCN categories prioritise species IUCN status : Vulnerable Endangered Critically Endangered Extinct Wild Extinct assign 30% target species within categories. species fall categories receive inverse area target, species greater area suitable habitat assigned lower target. can also adjust targets based IUCN Category. apply increased target 0.3 species increased thread level IUCN Red List(“EX”, “EW”, “CR”, “EN”, “VU”). Note: Accessing IUCN database requires login token rl_use_iucn() needs added environment using Sys.setenv(IUCN_REDLIST_KEY = \"[Token]\"). can start running rredlist::rl_use_iucn().","code":"# The user can download their own MPAs using this code, # but below we use data already within the package. LockedIn <- splnr_get_MPAs(PUs, \"Australia\") %>%   splnr_apply_cutoffs(0.5) %>%   dplyr::mutate(wdpa = as.logical(wdpa)) (ggMPA <- splnr_plot(MPAsCoralSea, \"wdpa\") +    splnr_gg_add(      PUs = PUs, Bndry = Bndry, overlay = landmass,      cropOverlay = PUs, ggtheme = splnr_theme    )) minTarget <- 0.1 maxTarget <- 0.2  # Create inverse area target IA_Targets <- splnr_targets_byInverseArea(   datEx_species_bin,   minTarget,   maxTarget ) IUCN_IA_Targets <- IA_Targets %>%   splnr_get_IUCNRedList(species_col = \"Species\") %>% # Add RL data to the df   splnr_targets_byIUCN(IUCN_target = 0.3)"},{"path":"https://mathmarecol.github.io/spatialplanr/articles/spatialplanr.html","id":"set-up-second-conservation-problem","dir":"Articles","previous_headings":"Overview > Comparing Spatial Plans","what":"Set up second conservation problem","title":"A Basic Spatial Planning Workflow","text":"locked-areas already existing Marine Protected Areas (MPAs). want show overlap selected Planning Units current MPAs, can can add splnr_gg_add() function.  instead want see contours locked-areas can set typeLockIn = \"Contours\" splnr_gg_add().","code":"datEx_problem2 <- prioritizr::problem(out_sf, feature_names, \"Cost_None\") %>%   prioritizr::add_min_set_objective() %>%   prioritizr::add_relative_targets(IA_Targets$target) %>%   prioritizr::add_locked_in_constraints(as.logical(MPAsCoralSea$wdpa)) %>%   prioritizr::add_binary_decisions() %>%   prioritizr::add_default_solver(verbose = FALSE)  # Add a solution object datEx_soln2 <- datEx_problem2 %>%   prioritizr::solve.ConservationProblem()  (ggSoln2 <- splnr_plot_solution(datEx_soln2) +     splnr_gg_add(       PUs = PUs, Bndry = Bndry, overlay = landmass,       cropOverlay = PUs, ggtheme = splnr_theme     )) (splnr_plot_solution(datEx_soln2) +    splnr_gg_add(      PUs = PUs, Bndry = Bndry, lockIn = MPAsCoralSea,      nameLockIn = \"wdpa\", typeLockIn = \"Full\",      colorLockIn = \"lightgrey\", alphaLockIn = 0.2, overlay = landmass,      cropOverlay = PUs, ggtheme = splnr_theme    )) (splnr_plot_solution(datEx_soln2) +    splnr_gg_add(      lockIn = MPAsCoralSea,      nameLockIn = \"wdpa\", typeLockIn = \"Contours\",      colorLockIn = \"lightgrey\", alphaLockIn = 0.2, overlay = landmass,      cropOverlay = PUs, ggtheme = splnr_theme    ))"},{"path":"https://mathmarecol.github.io/spatialplanr/articles/spatialplanr.html","id":"visualize-comparison","dir":"Articles","previous_headings":"Overview > Comparing Spatial Plans","what":"Visualize comparison","title":"A Basic Spatial Planning Workflow","text":"plot shows first solution (without current MPAs) differs second solution (including current MPAs. categorical map displays, planning units selected solution 2 solution 1 (red), solution 1 solution 2 (blue), selected solutions (grey).  correlation matrix shows similarity Cohen’s Kappa correlation solution 1 solution 2.","code":"(ggComp <- splnr_plot_comparison(datEx_soln, datEx_soln2) +    splnr_gg_add(      PUs = PUs, Bndry = Bndry, overlay = landmass,      cropOverlay = PUs, ggtheme = splnr_theme    )) CorrMat <- splnr_get_kappaCorrData(list(datEx_soln, datEx_soln2),                                    name_sol = c(\"soln1\", \"soln2\") )  (ggCorr <- splnr_plot_corrMat(CorrMat,                               AxisLabels = c(\"Solution 1\", \"Solution 2\") ))"},{"path":"https://mathmarecol.github.io/spatialplanr/articles/spatialplanr.html","id":"plotting-selection-frequency","dir":"Articles","previous_headings":"Overview > Comparing Spatial Plans","what":"Plotting selection frequency","title":"A Basic Spatial Planning Workflow","text":"Sometimes multiple spatial plans generated, interested many times Planning Unit selected across array solutions. demonstrate can done using package, first create array (= portfolio) solutions. One example using portfolio","code":"datEx_soln_portfolio <- datEx_problem %>%   prioritizr::add_cuts_portfolio(5) %>% # create a portfolio of solutions   prioritizr::solve.ConservationProblem()  selFreq <- datEx_soln_portfolio %>% # calculate selection frequency   sf::st_drop_geometry() %>%   dplyr::mutate(selFreq = as.factor(rowSums(     dplyr::select(., dplyr::starts_with(\"solution_\"))   ))) %>%   sf::st_as_sf(geometry = datEx_soln_portfolio$geometry) %>%   dplyr::select(selFreq)  (ggselFreq <- splnr_plot_selectionFreq(selFreq) +     splnr_gg_add(       PUs = PUs, Bndry = Bndry, overlay = landmass,       cropOverlay = PUs, ggtheme = splnr_theme     ))"},{"path":"https://mathmarecol.github.io/spatialplanr/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Jason D. Everett. Author, maintainer. Sandra Neubert. Author.","code":""},{"path":"https://mathmarecol.github.io/spatialplanr/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Everett J, Neubert S (2025). spatialplanr: Help files prioritzr Spatial Planning projects. R package version 0.7.0, https://github.com/SpatialPlanning/spatialplanr.","code":"@Manual{,   title = {spatialplanr: Help files for prioritzr Spatial Planning projects},   author = {Jason D. Everett and Sandra Neubert},   year = {2025},   note = {R package version 0.7.0},   url = {https://github.com/SpatialPlanning/spatialplanr}, }"},{"path":[]},{"path":"https://mathmarecol.github.io/spatialplanr/index.html","id":"introduction-to-spatialplanr","dir":"","previous_headings":"","what":"Introduction to spatialplanr","title":"Help files for prioritzr Spatial Planning projects","text":"Welcome spatialplanr, R package designed streamline enhance spatial conservation prioritization efforts explicitly integrating climate change considerations. Building upon powerful prioritizr package, spatialplanr provides suite tools conservation planners develop robust protected area networks.","code":""},{"path":"https://mathmarecol.github.io/spatialplanr/index.html","id":"installation","dir":"","previous_headings":"","what":"Installation","title":"Help files for prioritzr Spatial Planning projects","text":"aware package early stages development. Functions documentation complete installing moment risk. still interested, can install development version GitHub :","code":"# install.packages(\"devtools\") devtools::install_github(\"https://github.com/SpatialPlanning/spatialplanr\")"},{"path":"https://mathmarecol.github.io/spatialplanr/reference/CoralSeaVelocity.html","id":null,"dir":"Reference","previous_headings":"","what":"Example climate velocity for the example region of the coral sea — CoralSeaVelocity","title":"Example climate velocity for the example region of the coral sea — CoralSeaVelocity","text":"tsf file containing climate velocity (SSP5-8.5) coral sea","code":""},{"path":"https://mathmarecol.github.io/spatialplanr/reference/CoralSeaVelocity.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Example climate velocity for the example region of the coral sea — CoralSeaVelocity","text":"","code":"CoralSeaVelocity"},{"path":"https://mathmarecol.github.io/spatialplanr/reference/CoralSeaVelocity.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Example climate velocity for the example region of the coral sea — CoralSeaVelocity","text":"CoralSeaVelocity data frame 397 rows 3 columns: vocMagg_transformed Climate velocity column geometry Geometry column sf object","code":""},{"path":"https://mathmarecol.github.io/spatialplanr/reference/CoralSeaVelocity.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Example climate velocity for the example region of the coral sea — CoralSeaVelocity","text":"https://www.iucnredlist.org/","code":""},{"path":"https://mathmarecol.github.io/spatialplanr/reference/IUCN_IA_Targets.html","id":null,"dir":"Reference","previous_headings":"","what":"IUCN and Inverse Area based Targets for Aquamaps example species — IUCN_IA_Targets","title":"IUCN and Inverse Area based Targets for Aquamaps example species — IUCN_IA_Targets","text":"tbl_df file containing IUCN IA targets selected species coral sea","code":""},{"path":"https://mathmarecol.github.io/spatialplanr/reference/IUCN_IA_Targets.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"IUCN and Inverse Area based Targets for Aquamaps example species — IUCN_IA_Targets","text":"","code":"IUCN_IA_Targets"},{"path":"https://mathmarecol.github.io/spatialplanr/reference/IUCN_IA_Targets.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"IUCN and Inverse Area based Targets for Aquamaps example species — IUCN_IA_Targets","text":"IUCN_IA_Targets data frame 15 rows 4 columns: Species Species names found IUCN database Area km2 total suitable habitat species Target Individual species-specific target IUCN_Category IUCN category species","code":""},{"path":"https://mathmarecol.github.io/spatialplanr/reference/IUCN_IA_Targets.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"IUCN and Inverse Area based Targets for Aquamaps example species — IUCN_IA_Targets","text":"https://www.iucnredlist.org/","code":""},{"path":"https://mathmarecol.github.io/spatialplanr/reference/MPAsCoralSea.html","id":null,"dir":"Reference","previous_headings":"","what":"Current Marine Protected Areas (MPAs) of the Coral Sea — MPAsCoralSea","title":"Current Marine Protected Areas (MPAs) of the Coral Sea — MPAsCoralSea","text":"sf file containing current Marine Protected Areas (MPAs) coral sea","code":""},{"path":"https://mathmarecol.github.io/spatialplanr/reference/MPAsCoralSea.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Current Marine Protected Areas (MPAs) of the Coral Sea — MPAsCoralSea","text":"","code":"MPAsCoralSea"},{"path":"https://mathmarecol.github.io/spatialplanr/reference/MPAsCoralSea.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Current Marine Protected Areas (MPAs) of the Coral Sea — MPAsCoralSea","text":"MPAsCoralSea data frame 397 rows 17 columns: wdpa binary vector denoting presence absence current MPA","code":""},{"path":"https://mathmarecol.github.io/spatialplanr/reference/MPAsCoralSea.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Current Marine Protected Areas (MPAs) of the Coral Sea — MPAsCoralSea","text":"https://www.protectedplanet.net/en/thematic-areas/wdpa?tab=WDPA","code":""},{"path":"https://mathmarecol.github.io/spatialplanr/reference/dat_PUs.html","id":null,"dir":"Reference","previous_headings":"","what":"Planning Units — dat_PUs","title":"Planning Units — dat_PUs","text":"sf dataframe Planning Units spatial prioritization","code":""},{"path":"https://mathmarecol.github.io/spatialplanr/reference/dat_PUs.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Planning Units — dat_PUs","text":"","code":"dat_PUs"},{"path":"https://mathmarecol.github.io/spatialplanr/reference/dat_PUs.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Planning Units — dat_PUs","text":"dat_PUs data frame XXXX rows XXX columns: geometry sf geometry column","code":""},{"path":"https://mathmarecol.github.io/spatialplanr/reference/dat_PUs.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Planning Units — dat_PUs","text":"\"Made data\"","code":""},{"path":"https://mathmarecol.github.io/spatialplanr/reference/dat_bathy.html","id":null,"dir":"Reference","previous_headings":"","what":"Bathymetry Data — dat_bathy","title":"Bathymetry Data — dat_bathy","text":"Bathymetry data downloaded via oceandatr package","code":""},{"path":"https://mathmarecol.github.io/spatialplanr/reference/dat_bathy.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Bathymetry Data — dat_bathy","text":"","code":"dat_bathy"},{"path":"https://mathmarecol.github.io/spatialplanr/reference/dat_bathy.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Bathymetry Data — dat_bathy","text":"dat_bathy data frame bathymetry data bathymetry Bathymetry data geometry sf geometry column","code":""},{"path":"https://mathmarecol.github.io/spatialplanr/reference/dat_bathy.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Bathymetry Data — dat_bathy","text":"\"oceandatr package\"","code":""},{"path":"https://mathmarecol.github.io/spatialplanr/reference/dat_bndry.html","id":null,"dir":"Reference","previous_headings":"","what":"Boundary of Planning Units — dat_bndry","title":"Boundary of Planning Units — dat_bndry","text":"sf dataframe Planning Units spatial prioritization","code":""},{"path":"https://mathmarecol.github.io/spatialplanr/reference/dat_bndry.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Boundary of Planning Units — dat_bndry","text":"","code":"dat_bndry"},{"path":"https://mathmarecol.github.io/spatialplanr/reference/dat_bndry.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Boundary of Planning Units — dat_bndry","text":"dat_bndry data frame XXXX rows XXX columns: geometry sf geometry column","code":""},{"path":"https://mathmarecol.github.io/spatialplanr/reference/dat_bndry.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Boundary of Planning Units — dat_bndry","text":"\"Made data\"","code":""},{"path":"https://mathmarecol.github.io/spatialplanr/reference/dat_category.html","id":null,"dir":"Reference","previous_headings":"","what":"Category vector — dat_category","title":"Category vector — dat_category","text":"tibble containing specific grouping features","code":""},{"path":"https://mathmarecol.github.io/spatialplanr/reference/dat_category.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Category vector — dat_category","text":"","code":"dat_category"},{"path":"https://mathmarecol.github.io/spatialplanr/reference/dat_category.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Category vector — dat_category","text":"dat_category data frame XXXX rows XXX columns: feature features available spatial prioritization category categories features","code":""},{"path":"https://mathmarecol.github.io/spatialplanr/reference/dat_category.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Category vector — dat_category","text":"\"Made data\"","code":""},{"path":"https://mathmarecol.github.io/spatialplanr/reference/dat_category2.html","id":null,"dir":"Reference","previous_headings":"","what":"Category vector — dat_category2","title":"Category vector — dat_category2","text":"tibble containing specific grouping features","code":""},{"path":"https://mathmarecol.github.io/spatialplanr/reference/dat_category2.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Category vector — dat_category2","text":"","code":"dat_category2"},{"path":"https://mathmarecol.github.io/spatialplanr/reference/dat_category2.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Category vector — dat_category2","text":"dat_category2 data frame XXXX rows XXX columns: feature features available spatial prioritization category categories features","code":""},{"path":"https://mathmarecol.github.io/spatialplanr/reference/dat_category2.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Category vector — dat_category2","text":"\"Made data\"","code":""},{"path":"https://mathmarecol.github.io/spatialplanr/reference/dat_clim.html","id":null,"dir":"Reference","previous_headings":"","what":"Climate metric data — dat_clim","title":"Climate metric data — dat_clim","text":"sf dataframe Planning Units spatial prioritization","code":""},{"path":"https://mathmarecol.github.io/spatialplanr/reference/dat_clim.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Climate metric data — dat_clim","text":"","code":"dat_clim"},{"path":"https://mathmarecol.github.io/spatialplanr/reference/dat_clim.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Climate metric data — dat_clim","text":"dat_clim data frame 780 rows 3 columns: geometry sf geometry column metric climate metric information","code":""},{"path":"https://mathmarecol.github.io/spatialplanr/reference/dat_clim.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Climate metric data — dat_clim","text":"\"Made data\"","code":""},{"path":"https://mathmarecol.github.io/spatialplanr/reference/dat_mpas.html","id":null,"dir":"Reference","previous_headings":"","what":"Marine Protected Areas (MPAs) Data — dat_mpas","title":"Marine Protected Areas (MPAs) Data — dat_mpas","text":"sf dataframe Planning Units spatial prioritization","code":""},{"path":"https://mathmarecol.github.io/spatialplanr/reference/dat_mpas.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Marine Protected Areas (MPAs) Data — dat_mpas","text":"","code":"dat_mpas"},{"path":"https://mathmarecol.github.io/spatialplanr/reference/dat_mpas.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Marine Protected Areas (MPAs) Data — dat_mpas","text":"dat_mpas data frame XXXX rows XXX columns: geometry sf geometry column wdpa binary MPA information (1: MPA)","code":""},{"path":"https://mathmarecol.github.io/spatialplanr/reference/dat_mpas.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Marine Protected Areas (MPAs) Data — dat_mpas","text":"\"Made data\"","code":""},{"path":"https://mathmarecol.github.io/spatialplanr/reference/dat_region.html","id":null,"dir":"Reference","previous_headings":"","what":"Regionalisation — dat_region","title":"Regionalisation — dat_region","text":"sf dataframe Planning Units spatial prioritization","code":""},{"path":"https://mathmarecol.github.io/spatialplanr/reference/dat_region.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Regionalisation — dat_region","text":"","code":"dat_region"},{"path":"https://mathmarecol.github.io/spatialplanr/reference/dat_region.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Regionalisation — dat_region","text":"dat_region data frame XXXX rows XXX columns: geometry sf geometry column","code":""},{"path":"https://mathmarecol.github.io/spatialplanr/reference/dat_region.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Regionalisation — dat_region","text":"\"Made data\"","code":""},{"path":"https://mathmarecol.github.io/spatialplanr/reference/dat_species_bin.html","id":null,"dir":"Reference","previous_headings":"","what":"Binary Species Data — dat_species_bin","title":"Binary Species Data — dat_species_bin","text":"sf dataframe Planning Units spatial prioritization","code":""},{"path":"https://mathmarecol.github.io/spatialplanr/reference/dat_species_bin.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Binary Species Data — dat_species_bin","text":"","code":"dat_species_bin"},{"path":"https://mathmarecol.github.io/spatialplanr/reference/dat_species_bin.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Binary Species Data — dat_species_bin","text":"dat_species_bin data frame XXXX rows XXX columns: geometry sf geometry column","code":""},{"path":"https://mathmarecol.github.io/spatialplanr/reference/dat_species_bin.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Binary Species Data — dat_species_bin","text":"\"Made data\"","code":""},{"path":"https://mathmarecol.github.io/spatialplanr/reference/dat_species_bin2.html","id":null,"dir":"Reference","previous_headings":"","what":"Binary Species Data 2 — dat_species_bin2","title":"Binary Species Data 2 — dat_species_bin2","text":"sf dataframe Planning Units spatial prioritization","code":""},{"path":"https://mathmarecol.github.io/spatialplanr/reference/dat_species_bin2.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Binary Species Data 2 — dat_species_bin2","text":"","code":"dat_species_bin2"},{"path":"https://mathmarecol.github.io/spatialplanr/reference/dat_species_bin2.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Binary Species Data 2 — dat_species_bin2","text":"dat_species_bin2 data frame XXXX rows XXX columns: geometry sf geometry column","code":""},{"path":"https://mathmarecol.github.io/spatialplanr/reference/dat_species_bin2.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Binary Species Data 2 — dat_species_bin2","text":"\"Made data\"","code":""},{"path":"https://mathmarecol.github.io/spatialplanr/reference/dat_species_prob.html","id":null,"dir":"Reference","previous_headings":"","what":"Probability Species Data — dat_species_prob","title":"Probability Species Data — dat_species_prob","text":"sf dataframe Planning Units spatial prioritization","code":""},{"path":"https://mathmarecol.github.io/spatialplanr/reference/dat_species_prob.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Probability Species Data — dat_species_prob","text":"","code":"dat_species_prob"},{"path":"https://mathmarecol.github.io/spatialplanr/reference/dat_species_prob.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Probability Species Data — dat_species_prob","text":"dat_species_prob data frame XXXX rows XXX columns: geometry sf geometry column","code":""},{"path":"https://mathmarecol.github.io/spatialplanr/reference/dat_species_prob.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Probability Species Data — dat_species_prob","text":"\"Made data\"","code":""},{"path":"https://mathmarecol.github.io/spatialplanr/reference/pipe.html","id":null,"dir":"Reference","previous_headings":"","what":"Pipe operator — %>%","title":"Pipe operator — %>%","text":"See magrittr::%>% details.","code":""},{"path":"https://mathmarecol.github.io/spatialplanr/reference/pipe.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Pipe operator — %>%","text":"","code":"lhs %>% rhs"},{"path":"https://mathmarecol.github.io/spatialplanr/reference/spDataFiltered.html","id":null,"dir":"Reference","previous_headings":"","what":"Example data — spDataFiltered","title":"Example data — spDataFiltered","text":"Example data","code":""},{"path":"https://mathmarecol.github.io/spatialplanr/reference/spDataFiltered.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Example data — spDataFiltered","text":"","code":"spDataFiltered"},{"path":"https://mathmarecol.github.io/spatialplanr/reference/spDataFiltered.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Example data — spDataFiltered","text":"spDataFiltered data frame sample species data Species Species names","code":""},{"path":"https://mathmarecol.github.io/spatialplanr/reference/spDataFiltered.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Example data — spDataFiltered","text":"\"Made data\"","code":""},{"path":"https://mathmarecol.github.io/spatialplanr/reference/spatialplanr-package.html","id":null,"dir":"Reference","previous_headings":"","what":"spatialplanr: Help files for prioritzr Spatial Planning projects — spatialplanr-package","title":"spatialplanr: Help files for prioritzr Spatial Planning projects — spatialplanr-package","text":"package provides range tools setting , running plotting spatial plan using prioritizr. intended use Mathematical Marine Ecology Lab UQ, sets projects using approach data sets.","code":""},{"path":[]},{"path":"https://mathmarecol.github.io/spatialplanr/reference/spatialplanr-package.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"spatialplanr: Help files for prioritzr Spatial Planning projects — spatialplanr-package","text":"Maintainer: Jason D. Everett JaseEverett@gmail.com (ORCID) Authors: Sandra Neubert sandra.neubert97@gmail.com (ORCID)","code":""},{"path":"https://mathmarecol.github.io/spatialplanr/reference/splnr_apply_cutoffs.html","id":null,"dir":"Reference","previous_headings":"","what":"Apply Cutoffs to Feature Data — splnr_apply_cutoffs","title":"Apply Cutoffs to Feature Data — splnr_apply_cutoffs","text":"splnr_apply_cutoffs() transforms numeric feature data sf dataframe binary (0 1) presence/absence values based specified cutoffs. provides flexibility either keep values cutoff 1 (default) invert logic keep values cutoff 1.","code":""},{"path":"https://mathmarecol.github.io/spatialplanr/reference/splnr_apply_cutoffs.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Apply Cutoffs to Feature Data — splnr_apply_cutoffs","text":"","code":"splnr_apply_cutoffs(features, Cutoffs, inverse = FALSE)"},{"path":"https://mathmarecol.github.io/spatialplanr/reference/splnr_apply_cutoffs.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Apply Cutoffs to Feature Data — splnr_apply_cutoffs","text":"features sf dataframe. must contain geometry column least one numeric column cutoffs applied. Cutoffs numeric value named numeric vector cutoffs. single unnamed numeric value, applied numeric columns. named numeric vector, names must correspond numeric column names features. cutoff values must 0 1. inverse logical value (TRUE FALSE). TRUE, values Cutoffs converted 1 (others 0). FALSE (default), values Cutoffs converted 1.","code":""},{"path":"https://mathmarecol.github.io/spatialplanr/reference/splnr_apply_cutoffs.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Apply Cutoffs to Feature Data — splnr_apply_cutoffs","text":"modified sf dataframe structure geometry features, targeted numeric columns transformed binary (0 1) values based specified cutoffs inverse setting.","code":""},{"path":"https://mathmarecol.github.io/spatialplanr/reference/splnr_apply_cutoffs.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Apply Cutoffs to Feature Data — splnr_apply_cutoffs","text":"function crucial standardizing feature data, species probability distributions habitat suitability scores, binary format often required conservation planning spatial analysis (e.g., prioritizr). function operates two primary modes based Cutoffs parameter: Single Cutoff: Cutoffs single numeric value (e.g., 0.5), value applied uniformly numeric columns features dataframe, excluding geometry column. numeric cell: - value >= Cutoffs, becomes 1. - value < Cutoffs, becomes 0. - NA values always converted 0. Named Vector Cutoffs: Cutoffs named numeric vector (e.g., c(\"feature1\" = 0.5, \"feature2\" = 0.3)), specified cutoff applied individually corresponding named column features. allows different thresholds different features. transformation rules apply specified column. inverse parameter provides additional control binarization: inverse = FALSE (default): Values cutoff become 1. inverse = TRUE: Values cutoff become 1. initial binarization (values >= cutoff 1), binary results flipped (0s become 1s, 1s become 0s) achieve inverse effect. NA values numeric columns consistently converted 0 binarization process, regardless inverse setting.","code":""},{"path":"https://mathmarecol.github.io/spatialplanr/reference/splnr_apply_cutoffs.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Apply Cutoffs to Feature Data — splnr_apply_cutoffs","text":"","code":"# Example 1: Single cutoff (0.5) applied to all numeric feature columns # (Spp1_Prob, Spp2_Prob, and Cost will be binarized based on 0.5) df_single_cutoff <- splnr_apply_cutoffs(dat_species_prob, Cutoffs = 0.5) #> Applying single cutoff of 0.5 to all numeric feature columns. print(df_single_cutoff) #> Simple feature collection with 780 features and 5 fields #> Geometry type: POLYGON #> Dimension:     XY #> Bounding box:  xmin: 100 ymin: -50 xmax: 160 ymax: 2 #> Geodetic CRS:  WGS 84 #> # A tibble: 780 × 6 #>                                           geometry  Spp1  Spp2  Spp3  Spp4  Spp5 #>                                      <POLYGON [°]> <dbl> <dbl> <dbl> <dbl> <dbl> #>  1 ((100 -50, 102 -50, 102 -48, 100 -48, 100 -50))     1     0     0     0     0 #>  2 ((102 -50, 104 -50, 104 -48, 102 -48, 102 -50))     1     0     1     1     0 #>  3 ((104 -50, 106 -50, 106 -48, 104 -48, 104 -50))     0     1     0     1     1 #>  4 ((106 -50, 108 -50, 108 -48, 106 -48, 106 -50))     1     1     1     1     1 #>  5 ((108 -50, 110 -50, 110 -48, 108 -48, 108 -50))     0     1     0     1     1 #>  6 ((110 -50, 112 -50, 112 -48, 110 -48, 110 -50))     1     0     1     0     0 #>  7 ((112 -50, 114 -50, 114 -48, 112 -48, 112 -50))     0     1     0     0     0 #>  8 ((114 -50, 116 -50, 116 -48, 114 -48, 114 -50))     0     0     0     0     1 #>  9 ((116 -50, 118 -50, 118 -48, 116 -48, 116 -50))     0     1     1     0     1 #> 10 ((118 -50, 120 -50, 120 -48, 118 -48, 118 -50))     1     0     1     0     1 #> # ℹ 770 more rows  # Example 2: Named cutoffs for specific columns # Spp1_Prob >= 0.6 becomes 1, Spp2_Prob >= 0.4 becomes 1 df_named_cutoffs <- splnr_apply_cutoffs(   dat_species_prob,   Cutoffs = c(\"Spp1\" = 0.6, \"Spp2\" = 0.4) ) #> Applying named cutoffs to specific feature columns. #>   Applying cutoff 0.6 to column 'Spp1'. #>   Applying cutoff 0.4 to column 'Spp2'. print(df_named_cutoffs) #> Simple feature collection with 780 features and 5 fields #> Geometry type: POLYGON #> Dimension:     XY #> Bounding box:  xmin: 100 ymin: -50 xmax: 160 ymax: 2 #> Geodetic CRS:  WGS 84 #> # A tibble: 780 × 6 #>                                      geometry  Spp1  Spp2    Spp3    Spp4   Spp5 #>                                 <POLYGON [°]> <dbl> <dbl>   <dbl>   <dbl>  <dbl> #>  1 ((100 -50, 102 -50, 102 -48, 100 -48, 100…     1     0 0.0969  0.435   0.0418 #>  2 ((102 -50, 104 -50, 104 -48, 102 -48, 102…     0     1 0.504   0.503   0.360  #>  3 ((104 -50, 106 -50, 106 -48, 104 -48, 104…     0     1 0.285   0.755   0.653  #>  4 ((106 -50, 108 -50, 108 -48, 106 -48, 106…     0     1 0.564   0.503   0.529  #>  5 ((108 -50, 110 -50, 110 -48, 108 -48, 108…     0     1 0.150   0.863   0.753  #>  6 ((110 -50, 112 -50, 112 -48, 110 -48, 110…     1     1 0.807   0.458   0.374  #>  7 ((112 -50, 114 -50, 114 -48, 112 -48, 112…     0     1 0.00963 0.102   0.114  #>  8 ((114 -50, 116 -50, 116 -48, 114 -48, 114…     0     0 0.481   0.231   0.764  #>  9 ((116 -50, 118 -50, 118 -48, 116 -48, 116…     0     1 0.552   0.00978 0.552  #> 10 ((118 -50, 120 -50, 120 -48, 118 -48, 118…     1     1 0.695   0.00687 0.815  #> # ℹ 770 more rows  # Example 3: Single cutoff (0.5) with inverse logic # Values BELOW 0.5 become 1. df_inverse_cutoff <- splnr_apply_cutoffs(dat_species_prob, Cutoffs = 0.5, inverse = TRUE) #> Applying single cutoff of 0.5 to all numeric feature columns. #> Inverse logic applied: values below cutoff will be 1. print(df_inverse_cutoff) #> Simple feature collection with 780 features and 5 fields #> Geometry type: POLYGON #> Dimension:     XY #> Bounding box:  xmin: 100 ymin: -50 xmax: 160 ymax: 2 #> Geodetic CRS:  WGS 84 #> # A tibble: 780 × 6 #>                                           geometry  Spp1  Spp2  Spp3  Spp4  Spp5 #>                                      <POLYGON [°]> <dbl> <dbl> <dbl> <dbl> <dbl> #>  1 ((100 -50, 102 -50, 102 -48, 100 -48, 100 -50))     0     1     1     1     1 #>  2 ((102 -50, 104 -50, 104 -48, 102 -48, 102 -50))     0     1     0     0     1 #>  3 ((104 -50, 106 -50, 106 -48, 104 -48, 104 -50))     1     0     1     0     0 #>  4 ((106 -50, 108 -50, 108 -48, 106 -48, 106 -50))     0     0     0     0     0 #>  5 ((108 -50, 110 -50, 110 -48, 108 -48, 108 -50))     1     0     1     0     0 #>  6 ((110 -50, 112 -50, 112 -48, 110 -48, 110 -50))     0     1     0     1     1 #>  7 ((112 -50, 114 -50, 114 -48, 112 -48, 112 -50))     1     0     1     1     1 #>  8 ((114 -50, 116 -50, 116 -48, 114 -48, 114 -50))     1     1     1     1     0 #>  9 ((116 -50, 118 -50, 118 -48, 116 -48, 116 -50))     1     0     0     1     0 #> 10 ((118 -50, 120 -50, 120 -48, 118 -48, 118 -50))     0     1     0     1     0 #> # ℹ 770 more rows  # Example 4: Named cutoffs with inverse logic df_named_inverse <- splnr_apply_cutoffs(   dat_species_prob,   Cutoffs = c(\"Spp1\" = 0.7, \"Spp2\" = 0.3),   inverse = TRUE ) #> Applying named cutoffs to specific feature columns. #>   Applying cutoff 0.7 to column 'Spp1'. #>   Inverse logic applied for column 'Spp1': values below cutoff will be 1. #>   Applying cutoff 0.3 to column 'Spp2'. #>   Inverse logic applied for column 'Spp2': values below cutoff will be 1. print(df_named_inverse) #> Simple feature collection with 780 features and 5 fields #> Geometry type: POLYGON #> Dimension:     XY #> Bounding box:  xmin: 100 ymin: -50 xmax: 160 ymax: 2 #> Geodetic CRS:  WGS 84 #> # A tibble: 780 × 6 #>                                      geometry  Spp1  Spp2    Spp3    Spp4   Spp5 #>                                 <POLYGON [°]> <dbl> <dbl>   <dbl>   <dbl>  <dbl> #>  1 ((100 -50, 102 -50, 102 -48, 100 -48, 100…     1     1 0.0969  0.435   0.0418 #>  2 ((102 -50, 104 -50, 104 -48, 102 -48, 102…     1     0 0.504   0.503   0.360  #>  3 ((104 -50, 106 -50, 106 -48, 104 -48, 104…     1     0 0.285   0.755   0.653  #>  4 ((106 -50, 108 -50, 108 -48, 106 -48, 106…     1     0 0.564   0.503   0.529  #>  5 ((108 -50, 110 -50, 110 -48, 108 -48, 108…     1     0 0.150   0.863   0.753  #>  6 ((110 -50, 112 -50, 112 -48, 110 -48, 110…     0     0 0.807   0.458   0.374  #>  7 ((112 -50, 114 -50, 114 -48, 112 -48, 112…     1     0 0.00963 0.102   0.114  #>  8 ((114 -50, 116 -50, 116 -48, 114 -48, 114…     1     1 0.481   0.231   0.764  #>  9 ((116 -50, 118 -50, 118 -48, 116 -48, 116…     1     0 0.552   0.00978 0.552  #> 10 ((118 -50, 120 -50, 120 -48, 118 -48, 118…     1     0 0.695   0.00687 0.815  #> # ℹ 770 more rows"},{"path":"https://mathmarecol.github.io/spatialplanr/reference/splnr_arrangeFeatures.html","id":null,"dir":"Reference","previous_headings":"","what":"Arrange Features by Spatial Coordinates — splnr_arrangeFeatures","title":"Arrange Features by Spatial Coordinates — splnr_arrangeFeatures","text":"splnr_arrangeFeatures() sorts rows sf object based longitude (X) latitude (Y) centroids. ensures consistent ordering planning units, can important reproducibility spatial analyses data processing steps.","code":""},{"path":"https://mathmarecol.github.io/spatialplanr/reference/splnr_arrangeFeatures.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Arrange Features by Spatial Coordinates — splnr_arrangeFeatures","text":"","code":"splnr_arrangeFeatures(df)"},{"path":"https://mathmarecol.github.io/spatialplanr/reference/splnr_arrangeFeatures.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Arrange Features by Spatial Coordinates — splnr_arrangeFeatures","text":"df sf object whose rows sorted.","code":""},{"path":"https://mathmarecol.github.io/spatialplanr/reference/splnr_arrangeFeatures.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Arrange Features by Spatial Coordinates — splnr_arrangeFeatures","text":"sorted sf object, rows ordered primarily longitude (X) secondarily latitude (Y) centroids.","code":""},{"path":"https://mathmarecol.github.io/spatialplanr/reference/splnr_arrangeFeatures.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Arrange Features by Spatial Coordinates — splnr_arrangeFeatures","text":"function computes centroid polygon (point/multipoint) input sf object. extracts X Y coordinates centroids uses sort entire sf object. primary sort key longitude (X-coordinate), secondary sort key latitude (Y-coordinate). Sorting can beneficial tasks like debugging, comparing data different runs, ensuring deterministic behavior algorithms process spatial units sequentially.","code":""},{"path":"https://mathmarecol.github.io/spatialplanr/reference/splnr_arrangeFeatures.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Arrange Features by Spatial Coordinates — splnr_arrangeFeatures","text":"","code":"if (FALSE) { # \\dontrun{ print(\"Original order:\") print(dat_species_prob)  # Sort the features. df_arranged <- splnr_arrangeFeatures(df = dat_species_prob) print(\"Sorted order:\") print(df_arranged) } # }"},{"path":"https://mathmarecol.github.io/spatialplanr/reference/splnr_climate_featureApproach.html","id":null,"dir":"Reference","previous_headings":"","what":"Run the Feature Climate-Smart Approach — splnr_climate_featureApproach","title":"Run the Feature Climate-Smart Approach — splnr_climate_featureApproach","text":"splnr_climate_featureApproach() implements Feature Approach climate-smart conservation planning. involves defining global \"climate-smart\" layer adjusting conservation targets ensure specified proportion layer captured solution.","code":""},{"path":"https://mathmarecol.github.io/spatialplanr/reference/splnr_climate_featureApproach.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Run the Feature Climate-Smart Approach — splnr_climate_featureApproach","text":"","code":"splnr_climate_featureApproach(   features,   metric,   targets,   direction,   percentile = 35,   refugiaTarget = 0.3 )"},{"path":"https://mathmarecol.github.io/spatialplanr/reference/splnr_climate_featureApproach.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Run the Feature Climate-Smart Approach — splnr_climate_featureApproach","text":"features sf object representing conservation features (e.g., species distribution data). metric sf object containing climate metric information. must column named 'metric' climate metric values per Planning Unit. targets data.frame two columns: feature (character, listing original feature names) target (numeric, initial conservation target feature proportion, e.g., 0.3). direction integer specifying direction climate-smartness: 1: Higher metric values mean climate-smart areas. -1: Lower metric values mean climate-smart areas. percentile numeric value (0-100) representing cutoff threshold determining whether area climate priority area . applied globally metric data. Defaults 35. refugiaTarget numeric value (0-1) representing target proportion assigned overall climate-smart layer. Defaults 0.3 (30%).","code":""},{"path":"https://mathmarecol.github.io/spatialplanr/reference/splnr_climate_featureApproach.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Run the Feature Climate-Smart Approach — splnr_climate_featureApproach","text":"list two components: Features: sf object containing binary information per Planning Unit original feature, plus new climate_layer feature. ready passed prioritizr. Targets: data.frame adjusted targets features, including climate_layer. also ready prioritizr.","code":""},{"path":"https://mathmarecol.github.io/spatialplanr/reference/splnr_climate_featureApproach.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Run the Feature Climate-Smart Approach — splnr_climate_featureApproach","text":"function orchestrates steps Feature Approach: Preprocessing: calls splnr_climate_feature_preprocess() identify region-wide climate-smart layer based percentile cutoff climate metric. layer added new binary feature conservation data. Target Assignment: calls splnr_climate_feature_assignTargets() calculate assign new targets. Crucially, specific refugiaTarget set newly created climate_layer feature, ensuring certain proportion climate-resilient areas included final conservation plan. output list containing modified features (now including climate_layer) corresponding adjusted targets, ready used prioritizr conservation problem.","code":""},{"path":"https://mathmarecol.github.io/spatialplanr/reference/splnr_climate_featureApproach.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Run the Feature Climate-Smart Approach — splnr_climate_featureApproach","text":"","code":"if (FALSE) { # \\dontrun{ # Assuming 'dat_species_bin' and 'dat_clim' are existing sf objects # in your package.  # Define initial targets for species features. initial_targets <- dat_species_bin %>%   sf::st_drop_geometry() %>%   colnames() %>%   data.frame() %>%   setNames(c(\"feature\")) %>%   dplyr::mutate(target = 0.3)  # Run the Feature Approach where higher climate metric values mean # more climate-smart areas. Feature_Approach_result <- splnr_climate_featureApproach(   features = dat_species_bin,   metric = dat_clim,   targets = initial_targets,   direction = 1, # Example: higher metric values are more climate-smart   percentile = 35,   refugiaTarget = 0.3 )  # Access the processed features and targets: out_sf_feature <- Feature_Approach_result$Features targets_feature <- Feature_Approach_result$Targets  print(head(out_sf_feature)) print(head(targets_feature)) } # }"},{"path":"https://mathmarecol.github.io/spatialplanr/reference/splnr_climate_percentileApproach.html","id":null,"dir":"Reference","previous_headings":"","what":"Run the Percentile Climate-Smart Approach — splnr_climate_percentileApproach","title":"Run the Percentile Climate-Smart Approach — splnr_climate_percentileApproach","text":"splnr_climate_percentileApproach() implements Percentile Approach climate-smart conservation planning. involves filtering features climate-resilient areas adjusting conservation targets account reduced feature distribution.","code":""},{"path":"https://mathmarecol.github.io/spatialplanr/reference/splnr_climate_percentileApproach.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Run the Percentile Climate-Smart Approach — splnr_climate_percentileApproach","text":"","code":"splnr_climate_percentileApproach(   features,   metric,   targets,   direction,   percentile = 35 )"},{"path":"https://mathmarecol.github.io/spatialplanr/reference/splnr_climate_percentileApproach.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Run the Percentile Climate-Smart Approach — splnr_climate_percentileApproach","text":"features sf object representing conservation features (e.g., species distribution data). metric sf object containing climate metric information. must column named 'metric' climate metric values per Planning Unit. targets data.frame two columns: feature (character, listing original feature names) target (numeric, initial conservation target feature proportion, e.g., 0.3). direction integer specifying direction climate-smartness: 1: Higher metric values mean climate-smart areas. -1: Lower metric values mean climate-smart areas. percentile numeric value (0-100) representing cutoff threshold determining whether area climate priority area . applied per feature distribution. Defaults 35.","code":""},{"path":"https://mathmarecol.github.io/spatialplanr/reference/splnr_climate_percentileApproach.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Run the Percentile Climate-Smart Approach — splnr_climate_percentileApproach","text":"list two components: Features: sf object containing binary information per Planning Unit feature, now filtered include climate-smart occurrences. ready passed prioritizr. Targets: data.frame adjusted targets filtered features. also ready prioritizr.","code":""},{"path":"https://mathmarecol.github.io/spatialplanr/reference/splnr_climate_percentileApproach.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Run the Percentile Climate-Smart Approach — splnr_climate_percentileApproach","text":"function orchestrates steps Percentile Approach: Preprocessing: calls splnr_climate_percentile_preprocess() identify, feature, occurrences within climate-resilient percentile distribution based climate metric. effectively \"filters\" feature data include climate-smart components. Target Assignment: calls splnr_climate_percentile_assignTargets() calculate assign new targets filtered features. targets scaled ensure original conservation goals still met, specifically selecting areas climate-smart portions features' distributions. output list containing modified features (filtered climate-smart occurrences) corresponding adjusted targets, ready used prioritizr conservation problem.","code":""},{"path":"https://mathmarecol.github.io/spatialplanr/reference/splnr_climate_percentileApproach.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Run the Percentile Climate-Smart Approach — splnr_climate_percentileApproach","text":"","code":"if (FALSE) { # \\dontrun{ # Assuming 'dat_species_bin' and 'dat_clim' are existing sf objects # in your package.  # Define initial targets for species features. initial_targets <- dat_species_bin %>%   sf::st_drop_geometry() %>%   colnames() %>%   data.frame() %>%   setNames(c(\"feature\")) %>%   dplyr::mutate(target = 0.3)  # Run the Percentile Approach where higher climate metric values mean # more climate-smart areas. Percentile_Approach_result <- splnr_climate_percentileApproach(   features = dat_species_bin,   metric = dat_clim,   targets = initial_targets,   direction = 1, # Example: higher metric values are more climate-smart   percentile = 35 )  # Access the processed features and targets: out_sf_percentile <- Percentile_Approach_result$Features targets_percentile <- Percentile_Approach_result$Targets  print(head(out_sf_percentile)) print(head(targets_percentile)) } # }"},{"path":"https://mathmarecol.github.io/spatialplanr/reference/splnr_climate_priorityAreaApproach.html","id":null,"dir":"Reference","previous_headings":"","what":"Run the Climate Priority Area (CPA) Approach — splnr_climate_priorityAreaApproach","title":"Run the Climate Priority Area (CPA) Approach — splnr_climate_priorityAreaApproach","text":"splnr_climate_priorityAreaApproach() implements Climate Priority Area approach splitting conservation features climate-smart (CS) non-climate-smart (NCS) components adjusting targets accordingly. allows conservation planning prioritize areas higher climate resilience.","code":""},{"path":"https://mathmarecol.github.io/spatialplanr/reference/splnr_climate_priorityAreaApproach.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Run the Climate Priority Area (CPA) Approach — splnr_climate_priorityAreaApproach","text":"","code":"splnr_climate_priorityAreaApproach(   features,   metric,   targets,   direction,   percentile = 5,   refugiaTarget = 1 )"},{"path":"https://mathmarecol.github.io/spatialplanr/reference/splnr_climate_priorityAreaApproach.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Run the Climate Priority Area (CPA) Approach — splnr_climate_priorityAreaApproach","text":"features sf object representing conservation features (e.g., species distribution data). column (excluding geometry) typically binary representation feature's presence (1) absence (0) Planning Unit. metric sf object containing climate metric information. must column named 'metric' climate metric values per Planning Unit. targets data.frame two columns: feature (character, listing original feature names) target (numeric, initial conservation target feature proportion, e.g., 0.3). direction integer specifying direction climate-smartness: 1: Higher metric values mean climate-smart areas. -1: Lower metric values mean climate-smart areas. percentile numeric value (0-100) representing cutoff threshold determining climate-smart areas. example, percentile = 5 means climate-smart 5% areas (based direction) considered. value represents lower limit threshold. Defaults 5. refugiaTarget numeric value (0-1) representing target proportion assigned specifically climate-smart areas (refugia). Defaults 1 (100%).","code":""},{"path":"https://mathmarecol.github.io/spatialplanr/reference/splnr_climate_priorityAreaApproach.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Run the Climate Priority Area (CPA) Approach — splnr_climate_priorityAreaApproach","text":"list two components: Features: sf object containing binary information per Planning Unit feature, now split _CS (climate-smart) _NCS (non-climate-smart) components. ready passed prioritizr creating conservation problem. Targets: data.frame adjusted targets climate-split features. also ready prioritizr.","code":""},{"path":"https://mathmarecol.github.io/spatialplanr/reference/splnr_climate_priorityAreaApproach.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Run the Climate Priority Area (CPA) Approach — splnr_climate_priorityAreaApproach","text":"function orchestrates steps required CPA approach: Preprocessing: calls splnr_climate_priorityArea_preprocess() categorize feature's occurrences CS NCS areas based climate metric specified percentile cutoff. Target Assignment: calls splnr_climate_priorityArea_assignTargets() calculate assign new targets CS NCS feature components. ensures conservation goals reflect desired emphasis climate-smart areas (e.g., aiming 100% representation features highly resilient areas). output function list containing modified features (now split CS/NCS components) corresponding adjusted targets, ready used prioritizr conservation problem.","code":""},{"path":"https://mathmarecol.github.io/spatialplanr/reference/splnr_climate_priorityAreaApproach.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Run the Climate Priority Area (CPA) Approach — splnr_climate_priorityAreaApproach","text":"","code":"if (FALSE) { # \\dontrun{ # Assuming 'dat_species_bin' and 'dat_clim' are existing sf objects # in your package.  # Define initial targets for species features. initial_targets <- dat_species_bin %>%   sf::st_drop_geometry() %>%   colnames() %>%   data.frame() %>%   setNames(c(\"feature\")) %>%   dplyr::mutate(target = 0.3)  # Run the Climate Priority Area Approach where lower climate metric # values mean more climate-smart areas. CPA_Approach_result <- splnr_climate_priorityAreaApproach(   features = dat_species_bin,   metric = dat_clim,   targets = initial_targets,   direction = -1, # Example: lower metric values are more climate-smart   percentile = 5,   refugiaTarget = 1 )  # Access the processed features and targets: out_sf_cpa <- CPA_Approach_result$Features targets_cpa <- CPA_Approach_result$Targets  print(head(out_sf_cpa)) print(head(targets_cpa)) } # }"},{"path":[]},{"path":"https://mathmarecol.github.io/spatialplanr/reference/splnr_convert_regionalisation.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Function to interpolate regionalisation data onto Planning Units — splnr_convert_regionalisation","text":"","code":"splnr_convert_regionalisation(dat, PUs, cat_name = NA, col_name = NA)"},{"path":"https://mathmarecol.github.io/spatialplanr/reference/splnr_convert_regionalisation.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Function to interpolate regionalisation data onto Planning Units — splnr_convert_regionalisation","text":"dat Dataset raster sf format. PUs sf object Planning Units cat_name character string categories regionalisation col_name name layer","code":""},{"path":"https://mathmarecol.github.io/spatialplanr/reference/splnr_convert_regionalisation.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Function to interpolate regionalisation data onto Planning Units — splnr_convert_regionalisation","text":"sf object containing Planning Units feature.","code":""},{"path":"https://mathmarecol.github.io/spatialplanr/reference/splnr_convert_regionalisation.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Function to interpolate regionalisation data onto Planning Units — splnr_convert_regionalisation","text":"wrapper splnr_Convert2PUs() deals need processes layer seperately dataset needs raster vector format. input contains continuous data, output area-averaged mean planning unit. input binary, output proportion planning unit covered.","code":""},{"path":"https://mathmarecol.github.io/spatialplanr/reference/splnr_convert_regionalisation.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Function to interpolate regionalisation data onto Planning Units — splnr_convert_regionalisation","text":"","code":"if (FALSE) { # \\dontrun{ df <- splnr_convert_regionalisation(dat, PUs) } # }"},{"path":[]},{"path":"https://mathmarecol.github.io/spatialplanr/reference/splnr_convert_toPUs.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Function to interpolate data onto Planning Units — splnr_convert_toPUs","text":"","code":"splnr_convert_toPUs(dat, PlanUnits)"},{"path":"https://mathmarecol.github.io/spatialplanr/reference/splnr_convert_toPUs.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Function to interpolate data onto Planning Units — splnr_convert_toPUs","text":"dat Dataset filename dataset PlanUnits sf object Planning Units","code":""},{"path":"https://mathmarecol.github.io/spatialplanr/reference/splnr_convert_toPUs.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Function to interpolate data onto Planning Units — splnr_convert_toPUs","text":"sf object containing Planning Units feature.","code":""},{"path":"https://mathmarecol.github.io/spatialplanr/reference/splnr_convert_toPUs.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Function to interpolate data onto Planning Units — splnr_convert_toPUs","text":"dataset needs raster vector format. input contains continuous data, output area-averaged mean planning unit. input binary, output proportion planning unit covered.","code":""},{"path":"https://mathmarecol.github.io/spatialplanr/reference/splnr_convert_toPUs.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Function to interpolate data onto Planning Units — splnr_convert_toPUs","text":"","code":"if (FALSE) { # \\dontrun{ df <- splnr_convert_toPUs(dat, PlanUnits) } # }"},{"path":"https://mathmarecol.github.io/spatialplanr/reference/splnr_create_polygon.html","id":null,"dir":"Reference","previous_headings":"","what":"Create Spatial Polygon from Coordinates — splnr_create_polygon","title":"Create Spatial Polygon from Coordinates — splnr_create_polygon","text":"splnr_create_polygon() constructs sf polygon object series longitude latitude coordinates provided tibble.","code":""},{"path":"https://mathmarecol.github.io/spatialplanr/reference/splnr_create_polygon.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create Spatial Polygon from Coordinates — splnr_create_polygon","text":"","code":"splnr_create_polygon(x, cCRS = \"EPSG:4326\")"},{"path":"https://mathmarecol.github.io/spatialplanr/reference/splnr_create_polygon.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create Spatial Polygon from Coordinates — splnr_create_polygon","text":"x tibble (tbl_df) object least two columns, typically named x (longitude) y (latitude), representing vertices polygon sequence. first last coordinate pair form closed polygon. cCRS character string specifying target CRS output polygon EPSG code format (e.g., \"EPSG:4326\"). Defaults \"EPSG:4326\" (WGS 84).","code":""},{"path":"https://mathmarecol.github.io/spatialplanr/reference/splnr_create_polygon.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Create Spatial Polygon from Coordinates — splnr_create_polygon","text":"sf object representing created polygon, specified CRS.","code":""},{"path":"https://mathmarecol.github.io/spatialplanr/reference/splnr_create_polygon.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Create Spatial Polygon from Coordinates — splnr_create_polygon","text":"utility function simplifies creation spatial polygons tabular format coordinates. takes tibble columns 'x' 'y' represent longitude latitude, respectively. coordinates converted matrix, sf polygon, finally sf object specified Coordinate Reference System (CRS). function assumes input coordinates (x) initially WGS 84 (EPSG:4326) transforms cCRS different CRS specified.","code":""},{"path":"https://mathmarecol.github.io/spatialplanr/reference/splnr_create_polygon.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Create Spatial Polygon from Coordinates — splnr_create_polygon","text":"","code":"# Example: Create a simple square polygon square_coords <- dplyr::tibble(   x = c(-50, 50, 50, -50, -50),   y = c(120, 120, 180, 180, 120) ) simple_polygon <- splnr_create_polygon(x = square_coords) print(simple_polygon) #> Simple feature collection with 1 feature and 0 fields #> Geometry type: POLYGON #> Dimension:     XY #> Bounding box:  xmin: -50 ymin: 120 xmax: 50 ymax: 180 #> Geodetic CRS:  WGS 84 #>                         geometry #> 1 POLYGON ((-50 120, 50 120, ...  # Example: Create a polygon and transform to a different CRS (e.g., a UTM zone) if (FALSE) { # \\dontrun{ # Note: EPSG:32611 is UTM Zone 11N. Ensure it's appropriate for your coordinates. transformed_polygon <- splnr_create_polygon(x = square_coords, cCRS = \"EPSG:32611\") print(transformed_polygon) } # }"},{"path":"https://mathmarecol.github.io/spatialplanr/reference/splnr_featureNames.html","id":null,"dir":"Reference","previous_headings":"","what":"Extract Feature Names from Spatial Data — splnr_featureNames","title":"Extract Feature Names from Spatial Data — splnr_featureNames","text":"splnr_featureNames() extracts names conservation features sf dataframe, excluding geometry specified columns.","code":""},{"path":"https://mathmarecol.github.io/spatialplanr/reference/splnr_featureNames.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Extract Feature Names from Spatial Data — splnr_featureNames","text":"","code":"splnr_featureNames(dat, exclude = NA)"},{"path":"https://mathmarecol.github.io/spatialplanr/reference/splnr_featureNames.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Extract Feature Names from Spatial Data — splnr_featureNames","text":"dat sf dataframe representing conservation features. non-geometry column assumed feature. exclude character vector column names (prefixes) exclude output. default, excludes columns starting \"Cost_\". provide value, appended default exclusion. Set NULL character(0) want exclusions beyond default.","code":""},{"path":"https://mathmarecol.github.io/spatialplanr/reference/splnr_featureNames.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Extract Feature Names from Spatial Data — splnr_featureNames","text":"character vector containing names conservation features.","code":""},{"path":"https://mathmarecol.github.io/spatialplanr/reference/splnr_featureNames.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Extract Feature Names from Spatial Data — splnr_featureNames","text":"function utility preparing data prioritizr conservation planning packages require vector feature names. typically removes geometry column columns related cost (prefixed \"Cost_\") default, allowing specify additional columns exclude. output simple character vector column names, can directly used feature identifiers conservation problems.","code":""},{"path":"https://mathmarecol.github.io/spatialplanr/reference/splnr_featureNames.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Extract Feature Names from Spatial Data — splnr_featureNames","text":"","code":"if (FALSE) { # \\dontrun{ # Assuming 'dat_species_prob' is an existing sf object in your package. # It likely has columns like 'Spp1', 'Spp2', 'Cost_SomeMeasure', etc.  # Example 1: Get all feature names, excluding default 'Cost_' columns. feature_names_default <- splnr_featureNames(dat = dat_species_prob) print(feature_names_default)  # Example 2: Get feature names, excluding 'Cost_' columns and 'Spp5'. feature_names_custom_exclude <- splnr_featureNames(   dat = dat_species_prob,   exclude = \"Spp5\" ) print(feature_names_custom_exclude)  # Example 3: If you only want to exclude a specific column and not 'Cost_' # (you'd need to manually specify exclude = \"geometry\" and then your column) # This case is more complex and usually handled by direct dplyr::select. # This function's primary use is to remove cost columns and potentially others. } # }"},{"path":"https://mathmarecol.github.io/spatialplanr/reference/splnr_get_IUCNRedList.html","id":null,"dir":"Reference","previous_headings":"","what":"Match Species to IUCN RedList Categories — splnr_get_IUCNRedList","title":"Match Species to IUCN RedList Categories — splnr_get_IUCNRedList","text":"splnr_get_IUCNRedList function retrieves IUCN Red List category information given set species appends input dataframe.","code":""},{"path":"https://mathmarecol.github.io/spatialplanr/reference/splnr_get_IUCNRedList.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Match Species to IUCN RedList Categories — splnr_get_IUCNRedList","text":"","code":"splnr_get_IUCNRedList(df, species_col = \"Species\")"},{"path":"https://mathmarecol.github.io/spatialplanr/reference/splnr_get_IUCNRedList.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Match Species to IUCN RedList Categories — splnr_get_IUCNRedList","text":"df input dataframe containing species names matched. species_col character string specifying name column df contains species scientific names (e.g., \"Species\" \"scientific_name\"). Defaults \"Species\".","code":""},{"path":"https://mathmarecol.github.io/spatialplanr/reference/splnr_get_IUCNRedList.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Match Species to IUCN RedList Categories — splnr_get_IUCNRedList","text":"dataframe identical input df, additional column named IUCN_Category. species found IUCN Red List, IUCN_Category NA.","code":""},{"path":"https://mathmarecol.github.io/spatialplanr/reference/splnr_get_IUCNRedList.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Match Species to IUCN RedList Categories — splnr_get_IUCNRedList","text":"use function, must first obtain API key IUCN. alphanumeric string required every request. can visit IUCN website request key using rl_use_iucn(). Please note receiving key might take 1-2 days submitting form. receive API key, crucial set environment variable named IUCN_REDLIST_KEY. can temporarily current R session using Sys.setenv(IUCN_REDLIST_KEY = \"YOUR_API_KEY_HERE\"). set permanently, add IUCN_REDLIST_KEY = \"YOUR_API_KEY_HERE\" .Renviron file. can check key set correctly using Sys.getenv(\"IUCN_REDLIST_KEY\"). IUCN Red List uses various categories assess extinction risk. function queries Red List following categories: DD: Data Deficient LC: Least Concern NT: Near Threatened VU: Vulnerable EN: Endangered CR: Critically Endangered EW: Extinct Wild EX: Extinct LRlc: Lower Risk / least concern (old category) LRnt: Lower Risk / near threatened (old category) LRcd: Lower Risk / conservation dependent (old category) function attempt match species categories present IUCN Red List database.","code":""},{"path":"https://mathmarecol.github.io/spatialplanr/reference/splnr_get_IUCNRedList.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Match Species to IUCN RedList Categories — splnr_get_IUCNRedList","text":"","code":"if (FALSE) { # \\dontrun{ # Ensure your IUCN_REDLIST_KEY is set as an environment variable before running. # For example: Sys.setenv(IUCN_REDLIST_KEY = \"YOUR_API_KEY_HERE\")  # Example: Create a dataframe with species names and retrieve their IUCN Red List categories. df_species_redlist <- data.frame(Species = c(\"Diomedea exulans\",                                               \"Hippocampus kuda\",                                               \"Squatina squatina\")) %>%   splnr_get_IUCNRedList() print(df_species_redlist)  # Example with a different column name for species df_alt_col <- data.frame(ScientificName = c(\"Panthera leo\", \"Orcinus orca\")) %>%   splnr_get_IUCNRedList(species_col = \"ScientificName\") print(df_alt_col) } # }"},{"path":"https://mathmarecol.github.io/spatialplanr/reference/splnr_get_MPAs.html","id":null,"dir":"Reference","previous_headings":"","what":"Get Marine Protected Areas (MPAs) from WDPA — splnr_get_MPAs","title":"Get Marine Protected Areas (MPAs) from WDPA — splnr_get_MPAs","text":"function serves wrapper wdpar package, facilitating retrieval Marine Protected Areas (MPAs) World Database Protected Areas (WDPA) intersecting provided planning units. result sf object indicating area planning units covered selected marine protected areas.","code":""},{"path":"https://mathmarecol.github.io/spatialplanr/reference/splnr_get_MPAs.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get Marine Protected Areas (MPAs) from WDPA — splnr_get_MPAs","text":"","code":"splnr_get_MPAs(   PlanUnits,   Countries,   Status = c(\"Designated\", \"Established\", \"Inscribed\"),   Desig = c(\"National\", \"Regional\", \"International\", \"Not Applicable\"),   Category = c(\"Ia\", \"Ib\", \"II\", \"III\", \"IV\"),   ... )"},{"path":"https://mathmarecol.github.io/spatialplanr/reference/splnr_get_MPAs.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get Marine Protected Areas (MPAs) from WDPA — splnr_get_MPAs","text":"PlanUnits sf object representing planning units used intersection. object valid CRS defined. Countries character vector specifying countries extract MPAs. retrieve global MPAs, use value \"global\". Country names match recognized WDPA database. Status character vector specifying desired status protected areas include. Defaults c(\"Designated\", \"Established\", \"Inscribed\"). Desig character vector specifying desired designation types protected areas. Defaults c(\"National\", \"Regional\", \"International\", \"Applicable\"). Category character vector specifying desired IUCN Protected Area Management Categories. Defaults c(\"Ia\", \"Ib\", \"II\", \"III\", \"IV\"). ... arguments passed directly wdpa_fetch() function wdpar package (e.g., verbose = TRUE).","code":""},{"path":"https://mathmarecol.github.io/spatialplanr/reference/splnr_get_MPAs.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get Marine Protected Areas (MPAs) from WDPA — splnr_get_MPAs","text":"sf object. object contains planning units, additional wdpa column (set 1) areas intersect selected MPAs.","code":""},{"path":"https://mathmarecol.github.io/spatialplanr/reference/splnr_get_MPAs.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Get Marine Protected Areas (MPAs) from WDPA — splnr_get_MPAs","text":"function leverages robust capabilities wdpar package Jeffrey O. Hanson access process WDPA data. allows filtering MPAs based country, status, designation type, IUCN category, spatially intersects MPAs defined planning units. comprehensive understanding WDPA data fields: Status: Refers establishment, designation, proposal status protected area time data submission. Valid options include \"Designated\", \"Established\", \"Inscribed\", \"Proposed\", \"Adopted\". Desig (Designation Type): Categorizes legal official designation protected area. Valid options include \"National\", \"Regional\", \"International\", \"Applicable\". Category (IUCN Protected Area Management Categories): Represents IUCN management categories protected areas. Valid options include \"Ia\", \"Ib\", \"II\", \"III\", \"IV\", \"V\", \"VI\", \"Reported\", \"Applicable\", \"Assigned\".","code":""},{"path":"https://mathmarecol.github.io/spatialplanr/reference/splnr_get_MPAs.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Get Marine Protected Areas (MPAs) from WDPA — splnr_get_MPAs","text":"","code":"if (FALSE) { # \\dontrun{ # Assuming 'dat_PUs' is an existing sf object of planning units in your package.  # Example: Get MPAs for Australia and intersect with planning units. dat_mpas <- splnr_get_MPAs(PlanUnits = dat_PUs, Countries = \"Australia\")  # Example: Get MPAs for multiple countries with specific status and categories. dat_mpas_specific <- splnr_get_MPAs(   PlanUnits = dat_PUs,   Countries = c(\"Australia\", \"New Zealand\"),   Status = c(\"Designated\", \"Proposed\"),   Category = c(\"II\", \"IV\") )  # Example: Visualize the result using ggplot2. # Assuming 'aust' is an sf object representing Australia's coastline, # perhaps loaded from rnaturalearth::ne_countries. aust <- rnaturalearth::ne_countries(country = \"Australia\", returnclass = \"sf\")  gg <- ggplot2::ggplot() +   ggplot2::geom_sf(data = dat_mpas, ggplot2::aes(fill = wdpa)) +   ggplot2::geom_sf(data = aust, fill = \"grey50\") +   ggplot2::labs(title = \"Marine Protected Areas in Australia\") +   ggplot2::theme_minimal() print(gg) } # }"},{"path":"https://mathmarecol.github.io/spatialplanr/reference/splnr_get_boundary.html","id":null,"dir":"Reference","previous_headings":"","what":"Create a Planning Region Boundary — splnr_get_boundary","title":"Create a Planning Region Boundary — splnr_get_boundary","text":"function generates spatial boundary planning region sf polygon object. boundary can defined several ways: simple rectangular bounding box using numeric coordinates. global boundary spanning entire world. complex shape based marine ecoregions rnaturalearth.","code":""},{"path":"https://mathmarecol.github.io/spatialplanr/reference/splnr_get_boundary.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create a Planning Region Boundary — splnr_get_boundary","text":"","code":"splnr_get_boundary(Limits, Type = NULL, res = 1, cCRS = \"ESRI:54009\")"},{"path":"https://mathmarecol.github.io/spatialplanr/reference/splnr_get_boundary.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create a Planning Region Boundary — splnr_get_boundary","text":"Limits required input defines spatial extent. can : named numeric vector four elements: c(\"xmin\" = ..., \"xmax\" = ..., \"ymin\" = ..., \"ymax\" = ...). string \"Global\" create worldwide boundary. character vector ocean/sea names (e.g., \"North Atlantic Ocean\") used Type = \"Ocean\". Type type Limits provided. required Limits character vector ocean names, case \"Ocean\". longer required removed future version. res [numeric(1)] resolution (decimal degrees) used construct polygon vertices Limits numeric \"Global\". Defaults 1. Must positive number. cCRS [character(1)] coordinate reference system (CRS) output sf object. Can PROJ4 string EPSG code. Defaults \"ESRI:54009\" (Mollweide).","code":""},{"path":"https://mathmarecol.github.io/spatialplanr/reference/splnr_get_boundary.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Create a Planning Region Boundary — splnr_get_boundary","text":"sf object containing single polygon feature representing planning boundary.","code":""},{"path":"https://mathmarecol.github.io/spatialplanr/reference/splnr_get_boundary.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Create a Planning Region Boundary — splnr_get_boundary","text":"planning region boundary foundational first step spatial conservation planning exercises. subsequent analyses data preparation steps within spatialplanr package rely defined boundary. coordinate reference system (CRS) returned object projected default (Mollweide), suitable equal-area calculations.","code":""},{"path":"https://mathmarecol.github.io/spatialplanr/reference/splnr_get_boundary.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Create a Planning Region Boundary — splnr_get_boundary","text":"","code":"if (FALSE) { # \\dontrun{ # Example 1: Create a boundary from an ocean name. # This fetches polygon data for the specified ocean. bndry_ocean <- splnr_get_boundary(Limits = \"North Atlantic Ocean\", Type = \"Ocean\") plot(bndry_ocean)  # Example 2: Create a global boundary. bndry_global <- splnr_get_boundary(Limits = \"Global\") plot(bndry_global)  # Example 3: Create a boundary from a numeric bounding box. bndry_coords <- splnr_get_boundary(   Limits = c(\"xmin\" = 150, \"xmax\" = 170, \"ymin\" = -40, \"ymax\" = -20) ) plot(bndry_coords) } # }"},{"path":"https://mathmarecol.github.io/spatialplanr/reference/splnr_get_distCoast.html","id":null,"dir":"Reference","previous_headings":"","what":"Calculate Distance to Coastline — splnr_get_distCoast","title":"Calculate Distance to Coastline — splnr_get_distCoast","text":"function calculates shortest distance centroid Planning Unit sf object nearest coastline. can use either default coastline rnaturalearth package custom-provided coastline sf object.","code":""},{"path":"https://mathmarecol.github.io/spatialplanr/reference/splnr_get_distCoast.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Calculate Distance to Coastline — splnr_get_distCoast","text":"","code":"splnr_get_distCoast(dat_sf, custom_coast = NULL, res = \"medium\")"},{"path":"https://mathmarecol.github.io/spatialplanr/reference/splnr_get_distCoast.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Calculate Distance to Coastline — splnr_get_distCoast","text":"dat_sf [sf]  sf object containing polygon point features representing Planning Units. Must valid CRS. custom_coast [sf]  optional sf object representing custom coastline. NULL (default), coastline downloaded rnaturalearth. res [character(1)]  resolution rnaturalearth coastline use. Options \"small\", \"medium\" (default), \"large\". parameter ignored custom_coast provided.","code":""},{"path":"https://mathmarecol.github.io/spatialplanr/reference/splnr_get_distCoast.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Calculate Distance to Coastline — splnr_get_distCoast","text":"sf object identical dat_sf added column coastDistance_km representing distance nearest coastline kilometers.","code":""},{"path":"https://mathmarecol.github.io/spatialplanr/reference/splnr_get_distCoast.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Calculate Distance to Coastline — splnr_get_distCoast","text":"function adds new column named coastDistance_km input sf object, containing calculated distances kilometers. CRS input data preserved. crucial ensure input sf object suitable projected CRS accurate distance calculations.","code":""},{"path":"https://mathmarecol.github.io/spatialplanr/reference/splnr_get_distCoast.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Calculate Distance to Coastline — splnr_get_distCoast","text":"","code":"if (FALSE) { # \\dontrun{ # Example 1: Calculate distance to coast for a simple grid bbox <- sf::st_bbox(c(xmin = 0, ymin = 0, xmax = 3, ymax = 3)) grid <- sf::st_as_sf(sf::st_make_grid(bbox, n = c(3, 3))) grid_with_dist <- splnr_get_distCoast(grid) plot(grid_with_dist[\"coastDistance_km\"])  # Example 2: Using a specific resolution for the coastline # Note: Requires the 'dat_sf' object to be created first, e.g., using # splnr_get_planning_units() if (exists(\"dat_sf\")) {   dat_sf_dist <- splnr_get_distCoast(dat_sf, res = \"large\")   summary(dat_sf_dist$coastDistance_km) }  # Example 3: Using a custom coastline # First, create a custom coastline (e.g., from a country polygon) landmass <- rnaturalearth::ne_countries(   scale = \"medium\",   returnclass = \"sf\" )  if (exists(\"dat_sf\") && exists(\"landmass\")) {    # Transform landmass to the same CRS as the planning units   landmass_proj <- sf::st_transform(landmass, sf::st_crs(dat_sf))   dat_sf_custom_coast <- splnr_get_distCoast(dat_sf, custom_coast = landmass_proj)   summary(dat_sf_custom_coast$coastDistance_km) } } # }"},{"path":"https://mathmarecol.github.io/spatialplanr/reference/splnr_get_featureRep.html","id":null,"dir":"Reference","previous_headings":"","what":"Prepare Data to Plot How Well Targets Are Met — splnr_get_featureRep","title":"Prepare Data to Plot How Well Targets Are Met — splnr_get_featureRep","text":"splnr_get_featureRep() calculates representation conservation features within prioritizr solution. function determines much feature's total abundance (area) captured selected planning units, compares specified conservation targets. can also account different climate-smart planning approaches.","code":""},{"path":"https://mathmarecol.github.io/spatialplanr/reference/splnr_get_featureRep.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Prepare Data to Plot How Well Targets Are Met — splnr_get_featureRep","text":"","code":"splnr_get_featureRep(   soln,   pDat,   targets = NA,   climsmart = FALSE,   climsmartApproach = 0,   solnCol = \"solution_1\" )"},{"path":"https://mathmarecol.github.io/spatialplanr/reference/splnr_get_featureRep.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Prepare Data to Plot How Well Targets Are Met — splnr_get_featureRep","text":"soln sf object representing prioritizr solution, containing column indicating selected planning units (default: solution_1). pDat prioritizr problem object, defined prioritizr::problem(). object provides original feature data targets. targets data.frame (optional). provided, contain feature column (character) target column (numeric). used override supplement targets pDat, especially climate-smart approaches targets might pre-adjusted. Defaults NA. climsmart logical value (TRUE FALSE). TRUE, special handling climate-smart approaches enabled. Defaults FALSE. climsmartApproach integer (0, 1, 2, 3) indicating type climate-smart approach used: 0: climate-smart approach. 1: Climate Priority Area approach (features split CS/NCS). 2: Feature approach (explicitly handled function's climsmart logic, targets taken pDat default). 3: Percentile approach (features filtered). Defaults 0. solnCol character string specifying name column soln contains binary solution (1 selected, 0 selected). Defaults \"solution_1\".","code":""},{"path":"https://mathmarecol.github.io/spatialplanr/reference/splnr_get_featureRep.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Prepare Data to Plot How Well Targets Are Met — splnr_get_featureRep","text":"tibble dataframe containing feature names, total_amount (total units available), absolute_held (total units selected), relative_held (proportion held), target (conservation target), incidental (TRUE target 0 NA, feature still present).","code":""},{"path":"https://mathmarecol.github.io/spatialplanr/reference/splnr_get_featureRep.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Prepare Data to Plot How Well Targets Are Met — splnr_get_featureRep","text":"function processes output prioritizr conservation problem (soln) corresponding problem definition (pDat) provide summary feature representation. designed work whether explicit targets provided, can adjust calculations based climate-smart approach used. function calculates: total_amount: total available amount/area feature across planning units. absolute_held: total amount/area feature captured selected planning units (solution_1 1). relative_held: proportion absolute_held relative total_amount, indicating percentage representation feature solution. target: conservation target feature (either pDat problem definition targets dataframe). incidental: logical flag indicating feature's representation 'incidental' (.e., target 0 NA, still partially fully captured solution). Climate-Smart Considerations (climsmart = TRUE): climsmart TRUE, function adjusts calculations based climsmartApproach parameter: climsmartApproach = 1 (Climate Priority Area): function sums absolute_held total_amount features split _CS (Climate-Smart) _NCS (Non-Climate-Smart) components. provides single, aggregated representation original feature, allowing comparison original target. climsmartApproach = 3 (Percentile Approach): function directly uses targets provided targets dataframe, expected adjusted percentile approach. climsmartApproach values climsmart FALSE, targets taken directly prioritizr problem's target data. output dataframe designed directly plottable functions like splnr_plot_featureRep().","code":""},{"path":"https://mathmarecol.github.io/spatialplanr/reference/splnr_get_featureRep.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Prepare Data to Plot How Well Targets Are Met — splnr_get_featureRep","text":"","code":"if (FALSE) { # \\dontrun{ # Assuming 'dat_species_bin' is an existing sf object with binary species data # and 'Cost' column.  # Create a dummy prioritizr problem for basic demonstration pDat_basic <- prioritizr::problem(   dat_species_bin %>% dplyr::mutate(Cost = runif(n = dim(.)[[1]])),   features = c(\"Spp1\", \"Spp2\", \"Spp3\", \"Spp4\", \"Spp5\"),   cost_column = \"Cost\" ) %>%   prioritizr::add_min_set_objective() %>%   prioritizr::add_relative_targets(0.3) %>%   prioritizr::add_binary_decisions() %>%   prioritizr::add_default_solver(verbose = FALSE)  # Solve the problem soln_basic <- pDat_basic %>%   prioritizr::solve.ConservationProblem()  # Get feature representation for a basic (non-climate-smart) solution df_basic_rep <- splnr_get_featureRep(   soln = soln_basic,   pDat = pDat_basic ) print(df_basic_rep)  # Example with Climate Priority Area (CPA) approach # Assuming 'dat_clim' is an sf object with a 'metric' column. # These would typically come from splnr_climate_priorityAreaApproach() # For example purposes, we'll create some dummy data and targets.  # Simulate CPA processed features and targets cpa_features_sim <- dat_species_bin %>%   dplyr::mutate(     Spp1_CS = ifelse(Spp1 == 1 & runif(n()) < 0.5, 1, 0),     Spp1_NCS = ifelse(Spp1 == 1 & Spp1_CS == 0, 1, 0),     Spp2_CS = ifelse(Spp2 == 1 & runif(n()) < 0.6, 1, 0),     Spp2_NCS = ifelse(Spp2 == 1 & Spp2_CS == 0, 1, 0),     Spp3_CS = ifelse(Spp3 == 1 & runif(n()) < 0.7, 1, 0),     Spp3_NCS = ifelse(Spp3 == 1 & Spp3_CS == 0, 1, 0)   ) %>%   dplyr::select(Spp1_CS, Spp1_NCS, Spp2_CS, Spp2_NCS, Spp3_CS, Spp3_NCS, geometry)  cpa_targets_sim <- data.frame(   feature = c(\"Spp1_CS\", \"Spp1_NCS\", \"Spp2_CS\", \"Spp2_NCS\", \"Spp3_CS\", \"Spp3_NCS\"),   target = c(0.8, 0.2, 0.9, 0.1, 0.7, 0.3) # Example targets for CS/NCS parts )  # Create a problem with the simulated CPA features pDat_cpa_sim <- prioritizr::problem(   cpa_features_sim %>% dplyr::mutate(Cost = runif(n = dim(.)[[1]])),   features = c(\"Spp1_CS\", \"Spp1_NCS\", \"Spp2_CS\", \"Spp2_NCS\", \"Spp3_CS\", \"Spp3_NCS\"),   cost_column = \"Cost\" ) %>%   prioritizr::add_min_set_objective() %>%   prioritizr::add_relative_targets(cpa_targets_sim$target, cpa_targets_sim$feature) %>%   prioritizr::add_binary_decisions() %>%   prioritizr::add_default_solver(verbose = FALSE)  # Solve the CPA problem soln_cpa_sim <- pDat_cpa_sim %>%   prioritizr::solve.ConservationProblem()  # Get feature representation for CPA approach df_cpa_rep <- splnr_get_featureRep(   soln = soln_cpa_sim,   pDat = pDat_cpa_sim,   targets = cpa_targets_sim, # Pass the original CPA targets   climsmart = TRUE,   climsmartApproach = 1 # Indicate CPA approach ) print(df_cpa_rep) } # }"},{"path":"https://mathmarecol.github.io/spatialplanr/reference/splnr_get_gfw.html","id":null,"dir":"Reference","previous_headings":"","what":"Retrieve Global Fishing Watch Data — splnr_get_gfw","title":"Retrieve Global Fishing Watch Data — splnr_get_gfw","text":"splnr_get_gfw function retrieves Global Fishing Watch (GFW) data returns sf (simple features) object. function allows flexible data queries based geographical region, time range, desired spatial temporal resolutions.","code":""},{"path":"https://mathmarecol.github.io/spatialplanr/reference/splnr_get_gfw.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Retrieve Global Fishing Watch Data — splnr_get_gfw","text":"","code":"splnr_get_gfw(   region,   start_date,   end_date,   temp_res,   spat_res = \"LOW\",   region_source = \"EEZ\",   key = gfwr::gfw_auth(),   cCRS = \"EPSG:4326\",   compress = FALSE )"},{"path":"https://mathmarecol.github.io/spatialplanr/reference/splnr_get_gfw.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Retrieve Global Fishing Watch Data — splnr_get_gfw","text":"region character string specifying name region (e.g., EEZ name) numeric ID region, sf object region_source set \"USER_SHAPEFILE\". start_date start date data retrieval, expected \"%Y-%m-%d\" format (e.g., \"2021-01-01\"). end_date end date data retrieval, expected \"%Y-%m-%d\" format (e.g., \"2022-12-31\"). temp_res desired temporal resolution data. Must one : \"DAILY\", \"MONTHLY\", \"YEARLY\". spat_res desired spatial resolution data. Must one : \"LOW\" (0.1 degree) \"HIGH\" (0.01 degree). Defaults \"LOW\". region_source source region definition. Must one : 'EEZ', 'MPA', 'RFMO', 'USER_SHAPEFILE'. Defaults \"EEZ\". key API token GFW API. provided, attempts authenticate using gfwr::gfw_auth(). See GlobalFishingWatch vignette details obtaining key. cCRS Coordinate Reference System (CRS) output sf object transformed. Defaults \"EPSG:4326\". compress logical value. TRUE, data compressed (aggregated) coordinates, summing fishing hours unique location. FALSE, raw data points returned. Defaults FALSE.","code":""},{"path":"https://mathmarecol.github.io/spatialplanr/reference/splnr_get_gfw.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Retrieve Global Fishing Watch Data — splnr_get_gfw","text":"sf object containing requested GFW data. structure sf object vary depending compress temp_res parameters.","code":""},{"path":"https://mathmarecol.github.io/spatialplanr/reference/splnr_get_gfw.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Retrieve Global Fishing Watch Data — splnr_get_gfw","text":"possibilities offered function extensively explained vignette(\"GlobalFishingWatch\"). function shares many parameters get_raster function gfwr package, addition cCRS specifying Coordinate Reference System output sf object. Fishing activity data can aggregated (group_by) \"FLAGANDGEARTYPE\" default, combining flags gear types. Notes: Currently, function primarily designed data within Exclusive Economic Zones (EEZs), can potentially extended specific Marine Protected Areas (MPAs) RFMOs. Days specified start_date end_date variables inclusive data recovery.","code":""},{"path":"https://mathmarecol.github.io/spatialplanr/reference/splnr_get_gfw.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Retrieve Global Fishing Watch Data — splnr_get_gfw","text":"","code":"if (FALSE) { # \\dontrun{ # Example: Retrieve yearly GFW data for Australia, transformed to a # Mollweide projection (ESRI:54009) and compressed (aggregated) by location. gfw_data <- splnr_get_gfw(   region = 'Australia',   start_date = \"2021-01-01\",   end_date = \"2022-12-31\",   temp_res = \"YEARLY\",   cCRS = \"ESRI:54009\",   compress = TRUE )  # Example: Retrieve monthly GFW data for a specific EEZ ID, # keeping individual time ranges and locations. # Note: Replace 1000 with an actual EEZ ID if needed for testing. gfw_data_monthly <- splnr_get_gfw(   region = 1000, # Example numeric EEZ ID   start_date = \"2022-01-01\",   end_date = \"2022-03-31\",   temp_res = \"MONTHLY\",   region_source = \"EEZ\",   compress = FALSE ) } # }"},{"path":"https://mathmarecol.github.io/spatialplanr/reference/splnr_get_kappaCorrData.html","id":null,"dir":"Reference","previous_headings":"","what":"Prepare Data to Plot Cohen's Kappa Correlation Matrix — splnr_get_kappaCorrData","title":"Prepare Data to Plot Cohen's Kappa Correlation Matrix — splnr_get_kappaCorrData","text":"splnr_get_kappaCorrData() calculates Cohen's Kappa correlation coefficients list prioritizr conservation solutions. output symmetrical matrix suitable visualizing pairwise agreement using heatmap.","code":""},{"path":"https://mathmarecol.github.io/spatialplanr/reference/splnr_get_kappaCorrData.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Prepare Data to Plot Cohen's Kappa Correlation Matrix — splnr_get_kappaCorrData","text":"","code":"splnr_get_kappaCorrData(sol, name_sol)"},{"path":"https://mathmarecol.github.io/spatialplanr/reference/splnr_get_kappaCorrData.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Prepare Data to Plot Cohen's Kappa Correlation Matrix — splnr_get_kappaCorrData","text":"sol list prioritizr solution objects. element list must sf object containing binary column named solution_1. name_sol character vector providing descriptive names solution sol list. length vector must match length sol. names used row column names output correlation matrix.","code":""},{"path":"https://mathmarecol.github.io/spatialplanr/reference/splnr_get_kappaCorrData.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Prepare Data to Plot Cohen's Kappa Correlation Matrix — splnr_get_kappaCorrData","text":"numeric matrix (matrixOut) representing Cohen's Kappa correlation matrix pairs solutions. Rows columns named according name_sol.","code":""},{"path":"https://mathmarecol.github.io/spatialplanr/reference/splnr_get_kappaCorrData.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Prepare Data to Plot Cohen's Kappa Correlation Matrix — splnr_get_kappaCorrData","text":"function essential assessing similarity divergence among different conservation plans. takes list prioritizr solution objects, expected contain binary column named solution_1 (indicating selected unselected planning units). every unique pair solutions input list, computes Cohen's Kappa using irr::kappa2() function. Cohen's Kappa measures agreement two raters (case, two conservation solutions) categorical items, correcting chance agreement. Kappa value 1 indicates perfect agreement, 0 indicates agreement equivalent chance, negative values indicate agreement worse chance. resulting matrix symmetrical, diagonal elements always equal 1 (solution perfectly agrees ). matrix can passed visualization functions like splnr_plot_corrMat() create correlation heatmap.","code":""},{"path":"https://mathmarecol.github.io/spatialplanr/reference/splnr_get_kappaCorrData.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Prepare Data to Plot Cohen's Kappa Correlation Matrix — splnr_get_kappaCorrData","text":"","code":"if (FALSE) { # \\dontrun{ # Assuming 'dat_species_bin' is an existing sf object in your package.  # Create a dummy prioritizr problem and solve it for solution 1 (30% target). dat_problem1 <- prioritizr::problem(   dat_species_bin %>% dplyr::mutate(Cost = runif(n = dim(.)[[1]])),   features = c(\"Spp1\", \"Spp2\", \"Spp3\", \"Spp4\", \"Spp5\"),   cost_column = \"Cost\" ) %>%   prioritizr::add_min_set_objective() %>%   prioritizr::add_relative_targets(0.3) %>%   prioritizr::add_binary_decisions() %>%   prioritizr::add_default_solver(verbose = FALSE)  dat_soln1 <- dat_problem1 %>%   prioritizr::solve.ConservationProblem()  # Create another dummy prioritizr problem and solve it for solution 2 (50% target). dat_problem2 <- prioritizr::problem(   dat_species_bin %>%     dplyr::mutate(Cost = runif(n = dim(.)[[1]])),   features = c(\"Spp1\", \"Spp2\", \"Spp3\", \"Spp4\", \"Spp5\"),   cost_column = \"Cost\" ) %>%   prioritizr::add_min_set_objective() %>%   prioritizr::add_relative_targets(0.5) %>%   prioritizr::add_binary_decisions() %>%   prioritizr::add_default_solver(verbose = FALSE)  dat_soln2 <- dat_problem2 %>%   prioritizr::solve.ConservationProblem()  # Calculate the Cohen's Kappa correlation matrix between the two solutions. corrMat <- splnr_get_kappaCorrData(   sol = list(dat_soln1, dat_soln2),   name_sol = c(\"Solution_A_30pct\", \"Solution_B_50pct\") ) print(corrMat)  # This output can then be directly passed to splnr_plot_corrMat(). # splnr_plot_corrMat(corrMat, AxisLabels = c(\"Sol A (30%)\", \"Sol B (50%)\")) } # }"},{"path":"https://mathmarecol.github.io/spatialplanr/reference/splnr_get_selFreq.html","id":null,"dir":"Reference","previous_headings":"","what":"Prepare Data to Plot Selection Frequency of Planning Units — splnr_get_selFreq","title":"Prepare Data to Plot Selection Frequency of Planning Units — splnr_get_selFreq","text":"splnr_get_selFreq() calculates many times Planning Unit selected across array prioritizr solutions. \"selection frequency\" can derived either list individual solutions prioritizr portfolio object.","code":""},{"path":"https://mathmarecol.github.io/spatialplanr/reference/splnr_get_selFreq.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Prepare Data to Plot Selection Frequency of Planning Units — splnr_get_selFreq","text":"","code":"splnr_get_selFreq(solnMany, type = \"portfolio\")"},{"path":"https://mathmarecol.github.io/spatialplanr/reference/splnr_get_selFreq.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Prepare Data to Plot Selection Frequency of Planning Units — splnr_get_selFreq","text":"solnMany list prioritizr solutions (type = \"list\") single sf object representing prioritizr portfolio solutions (type = \"portfolio\"). individual solution must contain column named solution_1. type character string indicating input type: \"portfolio\" (single sf object multiple solution columns) \"list\" (list single-solution sf objects). Defaults \"portfolio\".","code":""},{"path":"https://mathmarecol.github.io/spatialplanr/reference/splnr_get_selFreq.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Prepare Data to Plot Selection Frequency of Planning Units — splnr_get_selFreq","text":"sf object (selFreq) containing column named selFreq. column factor representing selection frequency (sum selected occurrences across solutions) Planning Unit.","code":""},{"path":"https://mathmarecol.github.io/spatialplanr/reference/splnr_get_selFreq.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Prepare Data to Plot Selection Frequency of Planning Units — splnr_get_selFreq","text":"Understanding selection frequency crucial identifying robust conservation areas—consistently chosen across multiple planning scenarios alternative optimal solutions. function supports two types input: \"portfolio\": solnMany single sf object representing portfolio solutions (e.g., generated prioritizr::add_cuts_portfolio()). case, function assumes columns starting \"solution_\" represent individual solutions within portfolio. \"list\": solnMany list element sf object representing single prioritizr solution (\"solution_1\" column). types, function sums binary solution values (0 1) across solutions Planning Unit. result converted factor represent discrete frequency levels. output sf object can passed splnr_plot_selectionFreq() visualization heatmap.","code":""},{"path":"https://mathmarecol.github.io/spatialplanr/reference/splnr_get_selFreq.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Prepare Data to Plot Selection Frequency of Planning Units — splnr_get_selFreq","text":"","code":"if (FALSE) { # \\dontrun{ # Assuming 'dat_species_bin' is an existing sf object in your package.  # Create a base prioritizr problem. dat_problem <- prioritizr::problem(   dat_species_bin %>% dplyr::mutate(Cost = runif(n = dim(.)[[1]])),   features = c(\"Spp1\", \"Spp2\", \"Spp3\", \"Spp4\", \"Spp5\"),   cost_column = \"Cost\" ) %>%   prioritizr::add_min_set_objective() %>%   prioritizr::add_relative_targets(0.3) %>%   prioritizr::add_binary_decisions() %>%   prioritizr::add_default_solver(verbose = FALSE)  # --- Example 1: Using a portfolio of solutions --- # Create a conservation problem that contains a portfolio of solutions (e.g., 5 solutions). dat_soln_portfolio <- dat_problem %>%   prioritizr::add_cuts_portfolio(number_solutions = 5) %>%   prioritizr::solve.ConservationProblem()  # Calculate selection frequency from the portfolio. selFreq_portfolio <- splnr_get_selFreq(solnMany = dat_soln_portfolio, type = \"portfolio\") print(head(selFreq_portfolio)) # You can then plot this: splnr_plot_selectionFreq(selFreq_portfolio)  # --- Example 2: Using a list of individual solutions --- # Solve the problem multiple times to get different solutions (e.g., by randomizing costs) dat_soln_list <- list(   dat_problem %>% prioritizr::solve.ConservationProblem(),   dat_problem %>%     dplyr::mutate(Cost = runif(n = dim(.)[[1]])) %>% # Vary cost for a different solution     prioritizr::solve.ConservationProblem(),   dat_problem %>%     dplyr::mutate(Cost = runif(n = dim(.)[[1]])) %>% # Another different solution     prioritizr::solve.ConservationProblem() )  # Calculate selection frequency from the list of solutions. selFreq_list <- splnr_get_selFreq(solnMany = dat_soln_list, type = \"list\") print(head(selFreq_list)) # You can then plot this: splnr_plot_selectionFreq(selFreq_list) } # }"},{"path":"https://mathmarecol.github.io/spatialplanr/reference/splnr_gg_add.html","id":null,"dir":"Reference","previous_headings":"","what":"Add-ons for Plotting spatialplanr Solution Maps — splnr_gg_add","title":"Add-ons for Plotting spatialplanr Solution Maps — splnr_gg_add","text":"function allows users customize existing ggplot2 solution maps produced spatialplanr spatial plotting functions (e.g., splnr_plot_solution()). provides options add various spatial layers apply consistent theming simple reproducible manner.","code":""},{"path":"https://mathmarecol.github.io/spatialplanr/reference/splnr_gg_add.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Add-ons for Plotting spatialplanr Solution Maps — splnr_gg_add","text":"","code":"splnr_gg_add(   PUs = NULL,   colorPUs = \"grey80\",   Bndry = NULL,   colorBndry = \"black\",   overlay = NULL,   colorOverlay = \"grey20\",   overlay2 = NULL,   colorOverlay2 = \"grey30\",   overlay3 = NULL,   colorOverlay3 = \"grey40\",   contours = NULL,   colorConts = \"black\",   cropOverlay = NULL,   lockIn = NULL,   typeLockIn = \"Full\",   nameLockIn = NULL,   alphaLockIn = 1,   colorLockIn = \"black\",   legendLockIn = \"\",   labelLockIn = \"MPAs\",   lockOut = NULL,   typeLockOut = \"Full\",   nameLockOut = NULL,   alphaLockOut = 1,   colorLockOut = \"black\",   legendLockOut = \"\",   labelLockOut = \"\",   ggtheme = \"Default\" )"},{"path":"https://mathmarecol.github.io/spatialplanr/reference/splnr_gg_add.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Add-ons for Plotting spatialplanr Solution Maps — splnr_gg_add","text":"PUs sf object representing Planning Units. provided, outlines drawn. Defaults NULL. colorPUs character string specifying color outlines Planning Units. Defaults \"grey80\". Bndry sf object representing main planning region boundaries. provided, outline drawn. Defaults NULL. colorBndry character string specifying color outline Bndry object. Defaults \"black\". overlay sf object plotted general overlay. Defaults NULL. colorOverlay character string specifying color overlay. Defaults \"grey20\". overlay2 sf object second general overlay. Defaults NULL. colorOverlay2 character string specifying color overlay2. Defaults \"grey30\". overlay3 sf object third general overlay. Defaults NULL. colorOverlay3 character string specifying color overlay3. Defaults \"grey40\". contours sf object containing contour lines (e.g., bathymetry seamount outlines). expected Category column differentiating lines. 6 categories supported. Defaults NULL. colorConts character string specifying color contour lines. Defaults \"black\". cropOverlay sf object. bounding box used set xlim ylim ggplot2::coord_sf() layer, effectively cropping view. Defaults NULL. lockIn sf object representing locked-areas (e.g., existing Marine Protected Areas (MPAs)) fixed conservation prioritization. Defaults NULL. typeLockIn character string specifying lockIn areas plotted. Can \"Full\" (fills areas colorLockIn) \"Contours\" (draws outlines areas). Defaults \"Full\". nameLockIn character string specifying column name lockIn data frame contains binary (0/1 TRUE/FALSE) information indicating locked-status. Required lockIn NULL. alphaLockIn numeric value (0 1) opacity lockIn areas typeLockIn \"Full\". Defaults 1. colorLockIn character string specifying color lockIn areas. Defaults \"black\". legendLockIn character string title lockIn legend. Can empty string \"\" suppress title. Defaults \"\". labelLockIn character string legend label lockIn areas (e.g., \"MPAs\"). Defaults \"MPAs\". lockOut sf object representing locked-areas (e.g., shipping lanes, oil gas leases, excluded zones) must selected conservation prioritization. Defaults NULL. typeLockOut character string specifying lockOut areas plotted. Can \"Full\" (fills areas colorLockOut) \"Contours\" (draws outlines areas). Defaults \"Full\". nameLockOut character string specifying column name lockOut data frame contains binary (0/1 TRUE/FALSE) information indicating locked-status. Required lockOut NULL. alphaLockOut numeric value (0 1) opacity lockOut areas typeLockOut \"Full\". Defaults 1. colorLockOut character string specifying color lockOut areas. Defaults \"black\". legendLockOut character string title lockOut legend. Can empty string \"\" suppress title. Defaults \"\". labelLockOut character string legend label lockOut areas (e.g., \"Shipping Lanes\"). Defaults \"\". ggtheme ggplot2 theme apply. Can : NA FALSE: theme applied, using ggplot2 defaults. \"Default\": Applies spatialplanr default theme (theme_bw() custom text/axis settings). list ggplot2::theme() properties custom styling. Defaults \"Default\".","code":""},{"path":"https://mathmarecol.github.io/spatialplanr/reference/splnr_gg_add.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Add-ons for Plotting spatialplanr Solution Maps — splnr_gg_add","text":"list ggplot2 layers theme elements can added existing ggplot object using +.","code":""},{"path":"https://mathmarecol.github.io/spatialplanr/reference/splnr_gg_add.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Add-ons for Plotting spatialplanr Solution Maps — splnr_gg_add","text":"splnr_gg_add() function enhances ggplot2 objects layering additional spatial data Planning Unit outlines, study area boundaries, general overlays, geographical contours, locked-areas (e.g., existing Marine Protected Areas (MPAs) must included conservation prioritization), locked-areas (e.g., areas must excluded selection shipping lanes oil gas leases). offers fine-grained control colors, opacities, legend appearance added layer. using contours, input sf object expected column named Category defines different contour lines plotted. function currently supports 6 distinct contour categories plotting. ggtheme parameter offers flexibility plot styling. \"Default\" applies standard spatialplanr theme (theme_bw() custom text axis settings). list ggplot2::theme() elements can provided full customization, NA (logical FALSE) apply default theme, allowing user manage theme elements manually.","code":""},{"path":"https://mathmarecol.github.io/spatialplanr/reference/splnr_gg_add.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Add-ons for Plotting spatialplanr Solution Maps — splnr_gg_add","text":"","code":"if (FALSE) { # \\dontrun{ # Assuming 'dat_species_bin' and 'dat_PUs' are existing sf objects # in your package, suitable for prioritization problems and plotting.  # Create a dummy prioritizr problem and solve it for demonstration. dat_problem <- prioritizr::problem(   dat_species_bin %>% dplyr::mutate(Cost = runif(n = dim(.)[[1]])),   features = c(\"Spp1\", \"Spp2\", \"Spp3\", \"Spp4\", \"Spp5\"),   cost_column = \"Cost\" ) %>%   prioritizr::add_min_set_objective() %>%   prioritizr::add_relative_targets(0.3) %>%   prioritizr::add_binary_decisions() %>%   prioritizr::add_default_solver(verbose = FALSE)  dat_soln <- dat_problem %>%   prioritizr::solve.ConservationProblem()  # Basic plot of the solution with default Planning Unit outlines and theme. plot_basic <- splnr_plot_solution(dat_soln) +   splnr_gg_add(PUs = dat_PUs, ggtheme = \"Default\") print(plot_basic)  # Example with boundary, a custom overlay, and locked-in areas shown as contours. # For this example, let's create dummy `bndry_sf` and `locked_in_sf` based on `dat_PUs`. # In a real scenario, these would be loaded from your package or data. bndry_sf <- sf::st_union(dat_PUs) %>% sf::st_as_sf() locked_in_sf <- dat_PUs[1:100, ] %>% dplyr::mutate(is_mpa = 1)  plot_custom <- splnr_plot_solution(dat_soln) +   splnr_gg_add(     PUs = dat_PUs,     Bndry = bndry_sf,     colorBndry = \"darkblue\",     overlay = bndry_sf, # Using boundary as an example overlay     colorOverlay = \"lightblue\",     lockIn = locked_in_sf,     typeLockIn = \"Contours\",     nameLockIn = \"is_mpa\",     colorLockIn = \"darkred\",     labelLockIn = \"Existing MPAs\",     ggtheme = \"Default\"   ) print(plot_custom)  # Example with custom ggplot2 theme settings (as a list) custom_theme_list <- list(   ggplot2::theme_classic(),   ggplot2::theme(     plot.background = ggplot2::element_rect(fill = \"lightyellow\"),     legend.position = \"top\"   ) ) plot_with_custom_theme <- splnr_plot_solution(dat_soln) +   splnr_gg_add(PUs = dat_PUs, ggtheme = custom_theme_list) print(plot_with_custom_theme) } # }"},{"path":"https://mathmarecol.github.io/spatialplanr/reference/splnr_match_names.html","id":null,"dir":"Reference","previous_headings":"","what":"Substitute Numbers for Names in Regionalizations — splnr_match_names","title":"Substitute Numbers for Names in Regionalizations — splnr_match_names","text":"splnr_match_names() replaces numeric integer values spatial (sf) dataframe's column corresponding character names, typically used regionalization data.","code":""},{"path":"https://mathmarecol.github.io/spatialplanr/reference/splnr_match_names.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Substitute Numbers for Names in Regionalizations — splnr_match_names","text":"","code":"splnr_match_names(dat, nam)"},{"path":"https://mathmarecol.github.io/spatialplanr/reference/splnr_match_names.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Substitute Numbers for Names in Regionalizations — splnr_match_names","text":"dat sf data frame single non-geometry column containing numeric integer values correspond names nam. nam named character vector. names vector numeric/integer values found dat's column, values vector desired character names substitution.","code":""},{"path":"https://mathmarecol.github.io/spatialplanr/reference/splnr_match_names.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Substitute Numbers for Names in Regionalizations — splnr_match_names","text":"sf dataframe numeric/integer values relevant column substituted corresponding character names nam.","code":""},{"path":"https://mathmarecol.github.io/spatialplanr/reference/splnr_match_names.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Substitute Numbers for Names in Regionalizations — splnr_match_names","text":"function designed scenarios spatial data contains numeric identifiers regions, mapping (named character vector) convert IDs descriptive names. assumes sf dataframe (dat) one non-geometry column needs recoding. function directly applies mapping nam vector specified column. names nam vector correspond numeric/integer values dat column, values nam new character names.","code":""},{"path":"https://mathmarecol.github.io/spatialplanr/reference/splnr_match_names.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Substitute Numbers for Names in Regionalizations — splnr_match_names","text":"","code":"# Define the named character vector for mapping. region_names <- c(\"Region1\" = \"SE Aust\", \"Region2\" = \"Tas\", \"Region3\" = \"NE Aust\")  # Apply the function to substitute numeric codes with names. df_named_regions <- splnr_match_names(dat = dat_region, nam = region_names) print(df_named_regions) #> Simple feature collection with 780 features and 1 field #> Geometry type: POLYGON #> Dimension:     XY #> Bounding box:  xmin: 100 ymin: -50 xmax: 160 ymax: 2 #> Geodetic CRS:  WGS 84 #> First 10 features: #>                          geometry  Region #> 1  POLYGON ((100 -50, 102 -50,... SE Aust #> 2  POLYGON ((102 -50, 104 -50,... SE Aust #> 3  POLYGON ((104 -50, 106 -50,... SE Aust #> 4  POLYGON ((106 -50, 108 -50,... SE Aust #> 5  POLYGON ((108 -50, 110 -50,... SE Aust #> 6  POLYGON ((110 -50, 112 -50,... SE Aust #> 7  POLYGON ((112 -50, 114 -50,... SE Aust #> 8  POLYGON ((114 -50, 116 -50,... SE Aust #> 9  POLYGON ((116 -50, 118 -50,... SE Aust #> 10 POLYGON ((118 -50, 120 -50,... SE Aust"},{"path":"https://mathmarecol.github.io/spatialplanr/reference/splnr_plot.html","id":null,"dir":"Reference","previous_headings":"","what":"Plot Spatial Data — splnr_plot","title":"Plot Spatial Data — splnr_plot","text":"function provides versatile way plot spatial data (sf objects) within spatialplanr package. can visualize various data types, including binary presence/absence, logical values, continuous data, simply planning unit outlines. function provides versatile way plot spatial data (sf objects) within spatialplanr package. can visualize various data types, including binary presence/absence, logical values, continuous data, simply Planning Unit outlines.","code":""},{"path":"https://mathmarecol.github.io/spatialplanr/reference/splnr_plot.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Plot Spatial Data — splnr_plot","text":"","code":"splnr_plot(   df,   colNames = NULL,   paletteName = \"YlGnBu\",   colourVals = c(\"#c6dbef\", \"#3182bd\"),   plotTitle = \"\",   legendTitle = NULL,   legendLabels = NULL )  splnr_plot(   df,   colNames = NULL,   paletteName = \"YlGnBu\",   colourVals = c(\"#c6dbef\", \"#3182bd\"),   plotTitle = \"\",   legendTitle = NULL,   legendLabels = NULL )"},{"path":"https://mathmarecol.github.io/spatialplanr/reference/splnr_plot.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Plot Spatial Data — splnr_plot","text":"df input dataframe containing data plotted. must sf object include geometry column. colNames character vector column names df used coloring plot. NULL (default), Planning Unit outlines plotted. single column specified, checks binary, logical, continuous data. multiple columns specified, sums values across columns create \"FeatureSum\" plotting. paletteName character string specifying name RColorBrewer palette use filling continuous data. Defaults \"YlGnBu\". colourVals character vector two color values use binary (0/1) logical (FALSE/TRUE) data. first color '0' 'FALSE' (absence), second '1' 'TRUE' (presence). Defaults c(\"#c6dbef\", \"#3182bd\"). plotTitle character string subtitle plot. Defaults \"\" (subtitle). legendTitle character string title legend. NULL, default title used based data type. legendLabels character vector strings use legend labels, particularly useful binary logical data (e.g., c(\"Absent\", \"Present\")). NULL, default labels used binary/logical plots.","code":""},{"path":"https://mathmarecol.github.io/spatialplanr/reference/splnr_plot.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Plot Spatial Data — splnr_plot","text":"ggplot object representing spatial plot. ggplot object representing spatial plot.","code":""},{"path":"https://mathmarecol.github.io/spatialplanr/reference/splnr_plot.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Plot Spatial Data — splnr_plot","text":"splnr_plot function automatically detects type data specified colNames (binary, logical, continuous) adjusts plotting aesthetics accordingly. multiple colNames provided, calculates sum features planning unit plots sum. colNames NULL, simply plot outlines planning units. function designed flexible replacement several plotting functions, splnr_plot_cost(), splnr_plot_binFeature(), splnr_plot_MPAs(), splnr_plot_featureNo(), streamlining plotting workflow within package. Written Kilian Barreiro Jason Everett. Last modified: February 2024. splnr_plot() function automatically detects type data specified colNames (binary, logical, continuous) adjusts plotting aesthetics accordingly. multiple colNames provided, calculates sum features Planning Unit plots sum. colNames NULL, simply plot outlines Planning Units. function designed flexible replacement several plotting functions, splnr_plot_cost(), splnr_plot_binFeature(), splnr_plot_MPAs(), splnr_plot_featureNo(), streamlining plotting workflow within package. Written Kilian Barreiro Jason Everett. Last modified: February 2024.","code":""},{"path":"https://mathmarecol.github.io/spatialplanr/reference/splnr_plot.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Plot Spatial Data — splnr_plot","text":"","code":"if (FALSE) { # \\dontrun{ # Assuming 'dat_species_bin', 'dat_bathy', and 'dat_PUs' are existing sf objects # in your package, suitable for plotting.  # Binary plot of species distribution for \"Spp1\" plot_spp1_binary <- splnr_plot(   df = dat_species_bin,   colNames = \"Spp1\",   legendTitle = \"Species Presence\",   legendLabels = c(\"Absent\", \"Present\") ) print(plot_spp1_binary)  # Logical plot of species distribution for \"Spp1\" (converted from binary) plot_spp1_logical <- splnr_plot(   df = dat_species_bin %>%     dplyr::mutate(dplyr::across(       tidyselect::starts_with(\"Spp\"), as.logical     )),   colNames = \"Spp1\",   legendTitle = \"Species Presence\",   legendLabels = c(\"Absent\", \"Present\") ) print(plot_spp1_logical)  # Continuous plot of bathymetry plot_bathymetry <- splnr_plot(   df = dat_bathy,   colNames = \"bathymetry\",   plotTitle = \"Bathymetry\",   legendTitle = \"Bathymetry (m)\" ) print(plot_bathymetry)  # Plot Planning Units outlines only plot_planning_units <- splnr_plot(df = dat_PUs) print(plot_planning_units)  # Multi-binary features: Plotting the sum of multiple \"Spp\" features plot_multi_spp_sum <- splnr_plot(   df = dat_species_bin,   colNames = colnames(dat_species_bin %>%     sf::st_drop_geometry() %>%     dplyr::select(tidyselect::starts_with(\"Spp\"))),   legendTitle = \"Number of Features\" ) print(plot_multi_spp_sum) } # } if (FALSE) { # \\dontrun{ # Assuming 'dat_species_bin', 'dat_bathy', and 'dat_PUs' are existing sf objects # in your package, suitable for plotting.  # Binary plot of species distribution for \"Spp1\" plot_spp1_binary <- splnr_plot(   df = dat_species_bin,   colNames = \"Spp1\",   legendTitle = \"Species Presence\",   legendLabels = c(\"Absent\", \"Present\") ) print(plot_spp1_binary)  # Logical plot of species distribution for \"Spp1\" (converted from binary) plot_spp1_logical <- splnr_plot(   df = dat_species_bin %>%     dplyr::mutate(dplyr::across(       tidyselect::starts_with(\"Spp\"), as.logical     )),   colNames = \"Spp1\",   legendTitle = \"Species Presence\",   legendLabels = c(\"Absent\", \"Present\") ) print(plot_spp1_logical)  # Continuous plot of bathymetry plot_bathymetry <- splnr_plot(   df = dat_bathy,   colNames = \"bathymetry\",   plotTitle = \"Bathymetry\",   legendTitle = \"Bathymetry (m)\" ) print(plot_bathymetry)  # Plot Planning Units outlines only plot_planning_units <- splnr_plot(df = dat_PUs) print(plot_planning_units)  # Multi-binary features: Plotting the sum of multiple \"Spp\" features plot_multi_spp_sum <- splnr_plot(   df = dat_species_bin,   colNames = colnames(dat_species_bin %>%     sf::st_drop_geometry() %>%     dplyr::select(tidyselect::starts_with(\"Spp\"))),   legendTitle = \"Number of Features\" ) print(plot_multi_spp_sum) } # }"},{"path":"https://mathmarecol.github.io/spatialplanr/reference/splnr_plot_MPAs.html","id":null,"dir":"Reference","previous_headings":"","what":"Plot MPAs — splnr_plot_MPAs","title":"Plot MPAs — splnr_plot_MPAs","text":"splnr_plot_MPAs() allows plot either outline area MPAs existing planning region (example extracted spatialplanrfunction splnr_get_MPAs()) customisable way using ggplot2. function requires sf object containing information whether planning unit planning region lies within MPA column called wdpa outputs ggobject. can combined spatialplanr function splnr_gg_add().","code":""},{"path":"https://mathmarecol.github.io/spatialplanr/reference/splnr_plot_MPAs.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Plot MPAs — splnr_plot_MPAs","text":"","code":"splnr_plot_MPAs(   df,   colorVals = c(`TRUE` = \"blue\", `FALSE` = \"white\"),   showLegend = TRUE,   plotTitle = \"Locked In Areas\",   legendTitle = \"\" )"},{"path":"https://mathmarecol.github.io/spatialplanr/reference/splnr_plot_MPAs.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Plot MPAs — splnr_plot_MPAs","text":"df sf object marine protected areas colorVals list object named vectors match color value according name. \"TRUE\" stands selected planning units. showLegend logical command whether show legend solution (Default: TRUE). plotTitle character value title plot. Can empty (\"\"). legendTitle character value title legend. Can empty (\"\").","code":""},{"path":"https://mathmarecol.github.io/spatialplanr/reference/splnr_plot_MPAs.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Plot MPAs — splnr_plot_MPAs","text":"ggplot object plot","code":""},{"path":[]},{"path":"https://mathmarecol.github.io/spatialplanr/reference/splnr_plot_MPAs.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Plot MPAs — splnr_plot_MPAs","text":"","code":"if (FALSE) { # \\dontrun{ splnr_plot_MPAs(dat_mpas) } # }"},{"path":"https://mathmarecol.github.io/spatialplanr/reference/splnr_plot_binFeature.html","id":null,"dir":"Reference","previous_headings":"","what":"Plot binary feature — splnr_plot_binFeature","title":"Plot binary feature — splnr_plot_binFeature","text":"splnr_plot_binFeature() allows plot presences absences feature planning region customisable way using ggplot2. function requires sf object binary information feature(0 absences 1 presences, example created continuous data spatialplanr function splnr_apply_cutoffs()). outputs ggobject can combined spatialplanr function splnr_gg_add().","code":""},{"path":"https://mathmarecol.github.io/spatialplanr/reference/splnr_plot_binFeature.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Plot binary feature — splnr_plot_binFeature","text":"","code":"splnr_plot_binFeature(   df,   colInterest,   colorVals = c(Suitable = \"#3182bd\", `Not Suitable` = \"#c6dbef\"),   showLegend = TRUE,   plotTitle = \" \",   legendTitle = \"Habitat\" )"},{"path":"https://mathmarecol.github.io/spatialplanr/reference/splnr_plot_binFeature.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Plot binary feature — splnr_plot_binFeature","text":"df data frame binary feature information colInterest column data frame contains binary information feature plot colorVals list object named vectors match color value according name. \"TRUE\" stands selected planning units. showLegend logical command whether show legend solution (Default: TRUE). plotTitle character value title plot. Can empty (\"\"). legendTitle character value title legend. Can empty (\"\").","code":""},{"path":"https://mathmarecol.github.io/spatialplanr/reference/splnr_plot_binFeature.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Plot binary feature — splnr_plot_binFeature","text":"ggplot object plot","code":""},{"path":[]},{"path":"https://mathmarecol.github.io/spatialplanr/reference/splnr_plot_binFeature.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Plot binary feature — splnr_plot_binFeature","text":"","code":"if (FALSE) { # \\dontrun{ splnr_plot_binFeature(dat_species_bin, dat_species_bin$Spp1) } # }"},{"path":"https://mathmarecol.github.io/spatialplanr/reference/splnr_plot_circBplot.html","id":null,"dir":"Reference","previous_headings":"","what":"Plot Circular Barplot for Feature Representation — splnr_plot_circBplot","title":"Plot Circular Barplot for Feature Representation — splnr_plot_circBplot","text":"splnr_plot_circBplot() creates circular bar plot visualize feature representation, categorized groups. particularly useful displaying different categories features meet certain targets radial layout.","code":""},{"path":"https://mathmarecol.github.io/spatialplanr/reference/splnr_plot_circBplot.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Plot Circular Barplot for Feature Representation — splnr_plot_circBplot","text":"","code":"splnr_plot_circBplot(   df,   legend_color,   legend_list,   indicateTargets = TRUE,   impTarget = NA,   repTarget = NA,   colTarget = \"red\" )"},{"path":"https://mathmarecol.github.io/spatialplanr/reference/splnr_plot_circBplot.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Plot Circular Barplot for Feature Representation — splnr_plot_circBplot","text":"df data.frame tibble must contain following columns: feature: character factor unique identifier individual bar (e.g., species names). value: numeric value plotted y-axis (bar height, typically percentage representation). group: character factor grouping factors (e.g., \"important\", \"representative\"). legend_color named vector colors. Names must correspond unique values group column df, values corresponding colors. example: c(\"group_name1\" = \"red\", \"group_name2\" = \"blue\"). legend_list character vector labels legend. match names used legend_color levels group. indicateTargets logical value. TRUE, horizontal lines indicating impTarget repTarget drawn plot. impTarget numeric value representing target percentage 'important' features. Required indicateTargets TRUE. repTarget numeric value representing target percentage 'representative' features. Required indicateTargets TRUE. colTarget character string specifying color target indicator lines.","code":""},{"path":"https://mathmarecol.github.io/spatialplanr/reference/splnr_plot_circBplot.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Plot Circular Barplot for Feature Representation — splnr_plot_circBplot","text":"ggplot2::ggplot object circular bar plot.","code":""},{"path":"https://mathmarecol.github.io/spatialplanr/reference/splnr_plot_circBplot.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Plot Circular Barplot for Feature Representation — splnr_plot_circBplot","text":"","code":"# DISCLAIMER: THIS SOLUTION IS NOT ACTUALLY RUN WITH THESE TARGETS YET  if (FALSE) { # \\dontrun{  dat_problem <- prioritizr::problem(dat_species_bin %>% dplyr::mutate(Cost = runif(n = dim(.)[[1]])),   features = c(\"Spp1\", \"Spp2\", \"Spp3\", \"Spp4\", \"Spp5\"),   cost_column = \"Cost\" ) %>%   prioritizr::add_min_set_objective() %>%   prioritizr::add_relative_targets(0.3) %>%   prioritizr::add_binary_decisions() %>%   prioritizr::add_default_solver(verbose = FALSE)  dat_soln <- dat_problem %>%   prioritizr::solve.ConservationProblem()  s1 <- dat_soln %>%   tibble::as_tibble()  p1 <- dat_problem  # Assuming eval_feature_representation_summary is from prioritizr df_rep_imp <- prioritizr::eval_feature_representation_summary(   p1,   s1[, \"solution_1\"] ) %>%   dplyr::select(feature, relative_held) %>%   dplyr::mutate(relative_held = relative_held * 100)  imp_layers <- c(\"Spp1\", \"Spp3\")  target <- data.frame(feature = c(\"Spp1\", \"Spp2\", \"Spp3\", \"Spp4\", \"Spp5\")) %>%   dplyr::mutate(class = dplyr::if_else(.data$feature %in% imp_layers,     \"important\", \"representative\"   )) %>%   dplyr::mutate(target = dplyr::if_else(class == \"important\",     50 / 100, 30 / 100   ))  df <- merge(df_rep_imp, target) %>%   dplyr::select(-target) %>%   stats::na.omit() %>% # Use stats::na.omit   dplyr::rename(value = relative_held) %>%   dplyr::rename(group = class)  colors <- c(   \"important\" = \"darkgreen\",   \"representative\" = \"darkred\" ) legends <- c(\"Important\", \"Representative\")  (splnr_plot_circBplot(df,   legend_list = legends,   legend_color = colors,   impTarget = 50, repTarget = 30 )) } # }"},{"path":"https://mathmarecol.github.io/spatialplanr/reference/splnr_plot_climData.html","id":null,"dir":"Reference","previous_headings":"","what":"Plot Climate Metric Data — splnr_plot_climData","title":"Plot Climate Metric Data — splnr_plot_climData","text":"splnr_plot_climData() function creates spatial plot climate metric information sf object. provides customizable visualization using ggplot2 viridis color palettes.","code":""},{"path":"https://mathmarecol.github.io/spatialplanr/reference/splnr_plot_climData.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Plot Climate Metric Data — splnr_plot_climData","text":"","code":"splnr_plot_climData(   df,   colInterest,   colorMap = \"C\",   plotTitle = \" \",   legendTitle = \"Climate metric\" )"},{"path":"https://mathmarecol.github.io/spatialplanr/reference/splnr_plot_climData.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Plot Climate Metric Data — splnr_plot_climData","text":"df sf object containing climate metric information. must geometry column. colInterest character string specifying name column df contains climate metric data plotted. colorMap character string indicating viridis color map use (e.g., \"\", \"B\", \"C\", \"D\", \"E\"). See https://ggplot2.tidyverse.org/reference/scale_viridis.html options. Defaults \"C\". plotTitle character string subtitle plot. Defaults \" \" (single space, effectively subtitle). legendTitle character string title legend. Defaults \"Climate metric\".","code":""},{"path":"https://mathmarecol.github.io/spatialplanr/reference/splnr_plot_climData.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Plot Climate Metric Data — splnr_plot_climData","text":"ggplot object representing spatial plot climate metric.","code":""},{"path":"https://mathmarecol.github.io/spatialplanr/reference/splnr_plot_climData.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Plot Climate Metric Data — splnr_plot_climData","text":"function designed visualize spatial data contains specific climate metric. expects sf object (df) geometry column climate metric data column specified colInterest. plot uses continuous color scale (viridis) represent metric values across planning units. function can easily integrated larger plotting workflow used independently inspect climate data distributions.","code":""},{"path":"https://mathmarecol.github.io/spatialplanr/reference/splnr_plot_climData.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Plot Climate Metric Data — splnr_plot_climData","text":"","code":"if (FALSE) { # \\dontrun{ # Assuming 'dat_clim' is an existing sf object in your package # with a column named \"metric\" or another relevant climate metric.  # Example: Plot climate data using \"metric\" column plot_climate_metric <- splnr_plot_climData(   df = dat_clim,   colInterest = \"metric\",   plotTitle = \"Annual Climate Warming\",   legendTitle = \"Warming (°C/year)\" ) print(plot_climate_metric)  # Example with a different color map plot_climate_alt_cmap <- splnr_plot_climData(   df = dat_clim,   colInterest = \"metric\",   colorMap = \"D\", # Using 'D' for a different viridis palette   plotTitle = \"Climate Metric (Alternative Colors)\" ) print(plot_climate_alt_cmap) } # }"},{"path":"https://mathmarecol.github.io/spatialplanr/reference/splnr_plot_climKernelDensity.html","id":null,"dir":"Reference","previous_headings":"","what":"Kernel Density Plots for Climate-Smart Spatial Plans — splnr_plot_climKernelDensity","title":"Kernel Density Plots for Climate-Smart Spatial Plans — splnr_plot_climKernelDensity","text":"splnr_plot_climKernelDensity() generates kernel density plots climate-smart spatial plans, offering two distinct plotting styles: \"Normal\" (publication-quality comparison multiple solutions) \"Basic\" (simplified visualization stakeholders).","code":""},{"path":"https://mathmarecol.github.io/spatialplanr/reference/splnr_plot_climKernelDensity.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Kernel Density Plots for Climate-Smart Spatial Plans — splnr_plot_climKernelDensity","text":"","code":"splnr_plot_climKernelDensity(   soln,   solution_names = \"solution_1\",   climate_names = \"metric\",   type = \"Normal\",   colorMap = \"C\",   legendTitle = expression(\" °C y\"^\"-1\" * \"\"),   xAxisLab = expression(\"Climate warming ( °C y\"^\"-1\" * \")\") )"},{"path":"https://mathmarecol.github.io/spatialplanr/reference/splnr_plot_climKernelDensity.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Kernel Density Plots for Climate-Smart Spatial Plans — splnr_plot_climKernelDensity","text":"soln type = \"Normal\": list prioritizr solution objects (e.g., list(s1, s2)). solution must contain metric column solution_1 column. type = \"Basic\": single prioritizr solution sf object. solution_names character vector names corresponding solution soln type = \"Normal\". used type = \"Basic\". Defaults NA. climate_names character string name climate type character string specifying plotting style. Must either \"Normal\" \"Basic\". Defaults \"Normal\". colorMap character string indicating viridis color map use (e.g., \"\", \"B\", \"C\", \"D\", \"E\"). See https://ggplot2.tidyverse.org/reference/scale_viridis.html options. Defaults \"C\". legendTitle character string expression title legend. Defaults expression(\" \\u00B0C y\"^\"-1\" * \"\"), representing \"°C year⁻¹\". xAxisLab character string expression x-axis label, depending climate metric input. Defaults expression(\"Climate warming ( \\u00B0C y\"^\"-1\" * \")\").","code":""},{"path":"https://mathmarecol.github.io/spatialplanr/reference/splnr_plot_climKernelDensity.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Kernel Density Plots for Climate-Smart Spatial Plans — splnr_plot_climKernelDensity","text":"ggplot object representing kernel density plot.","code":""},{"path":"https://mathmarecol.github.io/spatialplanr/reference/splnr_plot_climKernelDensity.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Kernel Density Plots for Climate-Smart Spatial Plans — splnr_plot_climKernelDensity","text":"wrapper function intelligently dispatches either splnr_plot_climKernelDensity_Fancy() (type = \"Normal\") splnr_plot_climKernelDensity_Basic() (type = \"Basic\") based type parameter. \"Normal\" (Fancy) style suitable detailed comparisons, accommodating list solutions custom axis labels, \"Basic\" style streamlined clarity quick interpretation, ideal stakeholder engagement. underlying functions require prioritizr solution containing climate metric column climate metric information prioritizr solution column indicating selected planning units.","code":""},{"path":"https://mathmarecol.github.io/spatialplanr/reference/splnr_plot_climKernelDensity.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Kernel Density Plots for Climate-Smart Spatial Plans — splnr_plot_climKernelDensity","text":"","code":"if (FALSE) { # \\dontrun{ # Assuming 'dat_species_bin' and 'dat_clim' are existing sf objects # in your package.  # Prepare data for a climate-priority area approach (CPA) target <- dat_species_bin %>%   sf::st_drop_geometry() %>%   colnames() %>%   data.frame() %>%   setNames(c(\"feature\")) %>%   dplyr::mutate(target = 0.3)  CPA <- splnr_climate_priorityAreaApproach(   features = dat_species_bin,   metric = dat_clim,   targets = target,   direction = -1,   refugiaTarget = 1 )  # Join climate metric to features for the problem out_sf <- CPA$Features %>%   dplyr::mutate(Cost_None = rep(1, dim(.)[[1]])) %>% # Ensure enough costs for PUs   sf::st_join(dat_clim, join = sf::st_equals)  # Define features for the prioritizr problem usedFeatures <- out_sf %>%   sf::st_drop_geometry() %>%   dplyr::select(-tidyselect::starts_with(\"Cost_\"), -\"metric\") %>%   names()  # Create and solve a prioritizr problem p1 <- prioritizr::problem(out_sf, usedFeatures, \"Cost_None\") %>%   prioritizr::add_min_set_objective() %>%   prioritizr::add_relative_targets(CPA$Targets$target) %>%   prioritizr::add_binary_decisions() %>%   prioritizr::add_default_solver(verbose = FALSE)  dat_solnClim <- prioritizr::solve.ConservationProblem(p1)  # Example 1: Basic kernel density plot plot_basic_kde <- splnr_plot_climKernelDensity(soln = dat_solnClim, type = \"Basic\") print(plot_basic_kde)  # Example 2: Normal (Fancy) kernel density plot for a single solution plot_normal_kde_single <- splnr_plot_climKernelDensity(   soln = list(dat_solnClim),   solution_names = c(\"Solution 1\"),   type = \"Normal\" ) print(plot_normal_kde_single)  # Example 3: Normal (Fancy) plot comparing two solutions (create a dummy second solution) # For demonstration, let's create another dummy solution dat_solnClim_2 <- dat_solnClim %>%   dplyr::mutate(solution_1 = sample(c(0, 1), n(), replace = TRUE)) # Randomize selection  plot_normal_kde_multi <- splnr_plot_climKernelDensity(   soln = list(dat_solnClim, dat_solnClim_2),   solution_names = c(\"Solution A\", \"Solution B\"),   climate_names = \"metric\",   type = \"Normal\",   colorMap = \"plasma\",   legendTitle = \"Climate Value\",   xAxisLab = \"Climate Metric (units)\" ) print(plot_normal_kde_multi) } # }"},{"path":"https://mathmarecol.github.io/spatialplanr/reference/splnr_plot_comparison.html","id":null,"dir":"Reference","previous_headings":"","what":"Plot Solution Comparison — splnr_plot_comparison","title":"Plot Solution Comparison — splnr_plot_comparison","text":"splnr_plot_comparison() function spatially visualizes differences two prioritizr conservation solutions. helps understanding Planning Units common, added, removed two scenarios.","code":""},{"path":"https://mathmarecol.github.io/spatialplanr/reference/splnr_plot_comparison.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Plot Solution Comparison — splnr_plot_comparison","text":"","code":"splnr_plot_comparison(   soln1,   soln2,   legendTitle = \"Scenario 2 compared to Scenario 1:\" )"},{"path":"https://mathmarecol.github.io/spatialplanr/reference/splnr_plot_comparison.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Plot Solution Comparison — splnr_plot_comparison","text":"soln1 first prioritizr solution, expected sf object solution_1 column. serves baseline comparison. soln2 second prioritizr solution, expected sf object solution_1 column. solution compared soln1. legendTitle character string title legend. Defaults \"Scenario 2 compared Scenario 1:\".","code":""},{"path":"https://mathmarecol.github.io/spatialplanr/reference/splnr_plot_comparison.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Plot Solution Comparison — splnr_plot_comparison","text":"ggplot object representing spatial comparison two solutions.","code":""},{"path":"https://mathmarecol.github.io/spatialplanr/reference/splnr_plot_comparison.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Plot Solution Comparison — splnr_plot_comparison","text":"Conservation planning often involves comparing outputs different conservation problems scenarios. function facilitates comparison requiring two sf objects, soln1 soln2, representing prioritizr solution containing solution_1 column (binary, indicating selected vs. selected). function categorizes Planning Units \"\" (selected ), \"Added (+)\" (selected soln2 soln1), \"Removed (-)\" (selected soln1 soln2). plots categories distinct colors clear visualization. output ggplot object can combined splnr_gg_add() customization.","code":""},{"path":"https://mathmarecol.github.io/spatialplanr/reference/splnr_plot_comparison.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Plot Solution Comparison — splnr_plot_comparison","text":"","code":"if (FALSE) { # \\dontrun{ # Assuming 'dat_species_bin' is an existing sf object in your package.  # Create Problem 1 with 30% target and solve it. dat_problem <- prioritizr::problem(   dat_species_bin %>% dplyr::mutate(Cost = runif(n = dim(.)[[1]])),   features = c(\"Spp1\", \"Spp2\", \"Spp3\", \"Spp4\", \"Spp5\"),   cost_column = \"Cost\" ) %>%   prioritizr::add_min_set_objective() %>%   prioritizr::add_relative_targets(0.3) %>%   prioritizr::add_binary_decisions() %>%   prioritizr::add_default_solver(verbose = FALSE)  dat_soln <- dat_problem %>%   prioritizr::solve.ConservationProblem()  # Create Problem 2 with 50% target and solve it. dat_problem2 <- prioritizr::problem(   dat_species_bin %>%     dplyr::mutate(Cost = runif(n = dim(.)[[1]])),   features = c(\"Spp1\", \"Spp2\", \"Spp3\", \"Spp4\", \"Spp5\"),   cost_column = \"Cost\" ) %>%   prioritizr::add_min_set_objective() %>%   prioritizr::add_relative_targets(0.5) %>%   prioritizr::add_binary_decisions() %>%   prioritizr::add_default_solver(verbose = FALSE)  dat_soln2 <- dat_problem2 %>%   prioritizr::solve.ConservationProblem()  # Plot the comparison between the two solutions. plot_comparison <- splnr_plot_comparison(dat_soln, dat_soln2) print(plot_comparison) } # }"},{"path":"https://mathmarecol.github.io/spatialplanr/reference/splnr_plot_corrMat.html","id":null,"dir":"Reference","previous_headings":"","what":"Plot Correlation Matrices of Conservation Solutions — splnr_plot_corrMat","title":"Plot Correlation Matrices of Conservation Solutions — splnr_plot_corrMat","text":"splnr_plot_corrMat() function visualizes correlation matrix prioritizr conservation solutions, typically computed using Cohen's Kappa. helps understanding agreement disagreement different spatial plans.","code":""},{"path":"https://mathmarecol.github.io/spatialplanr/reference/splnr_plot_corrMat.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Plot Correlation Matrices of Conservation Solutions — splnr_plot_corrMat","text":"","code":"splnr_plot_corrMat(   x,   colourGradient = c(\"#BB4444\", \"#FFFFFF\", \"#4477AA\"),   legendTitle = \"Correlation \\ncoefficient\",   AxisLabels = NULL,   plotTitle = \"\" )"},{"path":"https://mathmarecol.github.io/spatialplanr/reference/splnr_plot_corrMat.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Plot Correlation Matrices of Conservation Solutions — splnr_plot_corrMat","text":"x numeric correlation matrix prioritizr solutions. colourGradient character vector three color values: colourGradient[1]: Color high positive correlation. colourGradient[2]: Color correlation (midpoint). colourGradient[3]: Color high negative correlation. Defaults c(\"#BB4444\", \"#FFFFFF\", \"#4477AA\"). legendTitle character string title legend. Defaults \"Correlation \\ncoefficient\". AxisLabels character vector labels x y axes correlation matrix, representing names correlated solutions. NULL (default), column names x used. length vector must match number rows/columns x. plotTitle character string title plot. Defaults \"\".","code":""},{"path":"https://mathmarecol.github.io/spatialplanr/reference/splnr_plot_corrMat.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Plot Correlation Matrices of Conservation Solutions — splnr_plot_corrMat","text":"ggplot object representing correlation matrix plot.","code":""},{"path":"https://mathmarecol.github.io/spatialplanr/reference/splnr_plot_corrMat.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Plot Correlation Matrices of Conservation Solutions — splnr_plot_corrMat","text":"Conservation planning often involves comparing outputs various conservation problems. One effective method correlating solutions using metrics like Cohen's Kappa. function takes correlation matrix (e.g., produced spatialplanr function splnr_get_kappaCorrData()) generates heatmap visualization using ggcorrplot. plot highlights positive, negative, correlation using color gradient, labels correlation coefficients directly plot. output ggplot object can combined spatialplanr function splnr_gg_add() customization, though primary use standalone correlation visualization.","code":""},{"path":"https://mathmarecol.github.io/spatialplanr/reference/splnr_plot_corrMat.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Plot Correlation Matrices of Conservation Solutions — splnr_plot_corrMat","text":"","code":"if (FALSE) { # \\dontrun{ # Assuming 'dat_species_bin' is an existing sf object in your package.  # Create Problem 1 (30% target) and solve it. dat_problem <- prioritizr::problem(   dat_species_bin %>% dplyr::mutate(Cost = runif(n = dim(.)[[1]])),   features = c(\"Spp1\", \"Spp2\", \"Spp3\", \"Spp4\", \"Spp5\"),   cost_column = \"Cost\" ) %>%   prioritizr::add_min_set_objective() %>%   prioritizr::add_relative_targets(0.3) %>%   prioritizr::add_binary_decisions() %>%   prioritizr::add_default_solver(verbose = FALSE)  dat_soln <- dat_problem %>%   prioritizr::solve.ConservationProblem()  # Create Problem 2 (50% target) and solve it. dat_problem2 <- prioritizr::problem(   dat_species_bin %>%     dplyr::mutate(Cost = runif(n = dim(.)[[1]])),   features = c(\"Spp1\", \"Spp2\", \"Spp3\", \"Spp4\", \"Spp5\"),   cost_column = \"Cost\" ) %>%   prioritizr::add_min_set_objective() %>%   prioritizr::add_relative_targets(0.5) %>%   prioritizr::add_binary_decisions() %>%   prioritizr::add_default_solver(verbose = FALSE)  dat_soln2 <- dat_problem2 %>%   prioritizr::solve.ConservationProblem()  # Get the Kappa correlation data for the two solutions. CorrMat <- splnr_get_kappaCorrData(list(dat_soln, dat_soln2), name_sol = c(\"soln1\", \"soln2\"))  # Plot the correlation matrix with custom axis labels. plot_correlation_matrix <- splnr_plot_corrMat(   CorrMat,   AxisLabels = c(\"Solution 1\", \"Solution 2\") ) print(plot_correlation_matrix) } # }"},{"path":"https://mathmarecol.github.io/spatialplanr/reference/splnr_plot_cost.html","id":null,"dir":"Reference","previous_headings":"","what":"Plot cost — splnr_plot_cost","title":"Plot cost — splnr_plot_cost","text":"splnr_plot_cost() allows plot cost within planning units planning region customisable way using ggplot2. function requires sf object cost column outputs ggobject. can combined spatialplanr function splnr_gg_add().","code":""},{"path":"https://mathmarecol.github.io/spatialplanr/reference/splnr_plot_cost.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Plot cost — splnr_plot_cost","text":"","code":"splnr_plot_cost(   cost,   costName = \"Cost\",   legendTitle = \"Cost\",   paletteName = \"YlGnBu\",   plotTitle = \"\" )"},{"path":"https://mathmarecol.github.io/spatialplanr/reference/splnr_plot_cost.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Plot cost — splnr_plot_cost","text":"cost sf object cost prioritizr costName Name cost column legendTitle character value title legend. Can empty (\"\"). paletteName string (number) color palette use. Available palettes can found https://ggplot2.tidyverse.org/reference/scale_brewer.html. plotTitle character value title plot. Can empty (\"\").","code":""},{"path":"https://mathmarecol.github.io/spatialplanr/reference/splnr_plot_cost.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Plot cost — splnr_plot_cost","text":"ggplot object plot","code":""},{"path":[]},{"path":"https://mathmarecol.github.io/spatialplanr/reference/splnr_plot_cost.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Plot cost — splnr_plot_cost","text":"","code":"if (FALSE) { # \\dontrun{ dat_problem <- prioritizr::problem(dat_species_bin %>% dplyr::mutate(cost = runif(n = dim(.)[[1]])),   features = c(\"Spp1\", \"Spp2\", \"Spp3\", \"Spp4\", \"Spp5\"),   cost_column = \"Cost\" ) %>%   prioritizr::add_min_set_objective() %>%   prioritizr::add_relative_targets(0.3) %>%   prioritizr::add_binary_decisions() %>%   prioritizr::add_default_solver(verbose = FALSE)  dat_soln <- dat_problem %>%   prioritizr::solve.ConservationProblem()  dat_cost <- dat_soln %>%   dplyr::mutate(Cost = runif(n = dim(.)[[1]]))  (splnr_plot_cost(dat_cost)) } # }"},{"path":"https://mathmarecol.github.io/spatialplanr/reference/splnr_plot_costOverlay.html","id":null,"dir":"Reference","previous_headings":"","what":"Plot Cost Overlay on Solution — splnr_plot_costOverlay","title":"Plot Cost Overlay on Solution — splnr_plot_costOverlay","text":"splnr_plot_costOverlay() function visualizes cost Planning Unit overlaid solution prioritizr conservation problem. allows customizable ggplot2 visualization, highlighting costs within selected Planning Units.","code":""},{"path":"https://mathmarecol.github.io/spatialplanr/reference/splnr_plot_costOverlay.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Plot Cost Overlay on Solution — splnr_plot_costOverlay","text":"","code":"splnr_plot_costOverlay(   soln,   cost = NA,   costName = \"Cost\",   legendTitle = \"Cost\",   plotTitle = \"Solution overlaid with cost\" )"},{"path":"https://mathmarecol.github.io/spatialplanr/reference/splnr_plot_costOverlay.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Plot Cost Overlay on Solution — splnr_plot_costOverlay","text":"soln prioritizr solution object, expected sf object, containing least solution_1 column. cost sf object containing cost data Planning Units. prioritizr solution soln already contains cost column specified costName, parameter can NA (default). Otherwise, provide sf object cost data. costName character string specifying name cost column within soln object Cost object. Defaults \"Cost\". legendTitle character string title cost legend. Defaults \"Cost\". plotTitle character string subtitle plot. Defaults \"Solution overlaid cost\".","code":""},{"path":"https://mathmarecol.github.io/spatialplanr/reference/splnr_plot_costOverlay.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Plot Cost Overlay on Solution — splnr_plot_costOverlay","text":"ggplot object representing solution cost overlay.","code":""},{"path":"https://mathmarecol.github.io/spatialplanr/reference/splnr_plot_costOverlay.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Plot Cost Overlay on Solution — splnr_plot_costOverlay","text":"function requires prioritizr solution sf object, must contain solution_1 column indicating selected (1) unselected (0) Planning Units. also requires cost column, either present within soln object provided separately via Cost parameter. function filters solution show selected Planning Units overlays gradient representing cost. output ggplot object can customized using splnr_gg_add().","code":""},{"path":"https://mathmarecol.github.io/spatialplanr/reference/splnr_plot_costOverlay.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Plot Cost Overlay on Solution — splnr_plot_costOverlay","text":"","code":"if (FALSE) { # \\dontrun{ # Assuming 'dat_species_bin' is an existing sf object in your package.  # Create a dummy prioritizr problem and solve it for demonstration. dat_problem <- prioritizr::problem(   dat_species_bin %>% dplyr::mutate(Cost = runif(n = dim(.)[[1]])),   features = c(\"Spp1\", \"Spp2\", \"Spp3\", \"Spp4\", \"Spp5\"),   cost_column = \"Cost\" ) %>%   prioritizr::add_min_set_objective() %>%   prioritizr::add_relative_targets(0.3) %>%   prioritizr::add_binary_decisions() %>%   prioritizr::add_default_solver(verbose = FALSE)  dat_soln <- dat_problem %>%   prioritizr::solve.ConservationProblem()  # Plot the solution overlaid with cost plot_cost_overlay <- splnr_plot_costOverlay(soln = dat_soln) print(plot_cost_overlay)  # Example: If cost is in a separate sf object (e.g., dat_PUs with a cost column) # Create a dummy cost column in dat_PUs for this example # Replace this with your actual cost data if it's external dat_PUs_with_cost <- dat_PUs %>% dplyr::mutate(MyCost = runif(n = dim(.)[[1]])) plot_cost_overlay_external <- splnr_plot_costOverlay(   soln = dat_soln,   cost = dat_PUs_with_cost,   costName = \"MyCost\",   legendTitle = \"Custom Cost\",   plotTitle = \"Solution with External Cost\" ) print(plot_cost_overlay_external) } # }"},{"path":"https://mathmarecol.github.io/spatialplanr/reference/splnr_plot_featureNo.html","id":null,"dir":"Reference","previous_headings":"","what":"Plot number of features — splnr_plot_featureNo","title":"Plot number of features — splnr_plot_featureNo","text":"splnr_plot_featureNo() allows use ggplot2 visually inspect number features per planning unit used inputs conservation problem. features species, map can seen visualisation species richness planning region.","code":""},{"path":"https://mathmarecol.github.io/spatialplanr/reference/splnr_plot_featureNo.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Plot number of features — splnr_plot_featureNo","text":"","code":"splnr_plot_featureNo(   df,   showLegend = TRUE,   paletteName = \"YlGnBu\",   plotTitle = \"Number of Features\",   legendTitle = \"Features\" )"},{"path":"https://mathmarecol.github.io/spatialplanr/reference/splnr_plot_featureNo.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Plot number of features — splnr_plot_featureNo","text":"df sf object features showLegend logical command whether show legend solution (Default: TRUE). paletteName string (number) color palette use. Available palettes can found https://ggplot2.tidyverse.org/reference/scale_brewer.html. plotTitle character value title plot. Can empty (\"\"). legendTitle character value title legend. Can empty (\"\").","code":""},{"path":"https://mathmarecol.github.io/spatialplanr/reference/splnr_plot_featureNo.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Plot number of features — splnr_plot_featureNo","text":"ggplot object plot","code":""},{"path":"https://mathmarecol.github.io/spatialplanr/reference/splnr_plot_featureNo.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Plot number of features — splnr_plot_featureNo","text":"function requires sf object binary information features want include richness plot (0 absences 1 presences, example created continuous data spatialplanr function splnr_apply_cutoffs()). outputs ggobject can combined spatialplanr function splnr_gg_add().","code":""},{"path":"https://mathmarecol.github.io/spatialplanr/reference/splnr_plot_featureNo.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Plot number of features — splnr_plot_featureNo","text":"","code":"if (FALSE) { # \\dontrun{ (splnr_plot_featureNo(dat_species_bin)) } # }"},{"path":"https://mathmarecol.github.io/spatialplanr/reference/splnr_plot_featureRep.html","id":null,"dir":"Reference","previous_headings":"","what":"Plot Feature Representation (Target Achievement) — splnr_plot_featureRep","title":"Plot Feature Representation (Target Achievement) — splnr_plot_featureRep","text":"splnr_plot_featureRep() creates bar plot visualize representation features conservation solution, indicating well targets met. can categorize features, rename clarity, optionally display target levels plot.","code":""},{"path":"https://mathmarecol.github.io/spatialplanr/reference/splnr_plot_featureRep.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Plot Feature Representation (Target Achievement) — splnr_plot_featureRep","text":"","code":"splnr_plot_featureRep(   df,   category = NA,   categoryFeatureCol = NA,   renameFeatures = FALSE,   namesToReplace = NA,   nr = 1,   showTarget = NA,   plotTitle = \"\",   sort_by = \"category\",   ... )"},{"path":"https://mathmarecol.github.io/spatialplanr/reference/splnr_plot_featureRep.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Plot Feature Representation (Target Achievement) — splnr_plot_featureRep","text":"df data.frame tibble containing feature representation information. typically results splnr_get_featureRep() function include least feature relative_held columns, optionally target incidental. category named data.frame tibble provides grouping information features. contain column can matched feature column df (default, column named feature, specified categoryFeatureCol), column named category grouping plot output. NA (default), categorization applied. categoryFeatureCol character string specifying name column category data frame contains feature information matched df$feature. used category data frame column explicitly named 'feature'. renameFeatures logical value. TRUE, feature names plot replaced common names provided namesToReplace. namesToReplace data.frame containing two columns: 'nameVariable' (original feature name) 'nameCommon' (common name replace ). Required renameFeatures TRUE. nr integer specifying number rows legend. showTarget logical value. TRUE, transparent bar representing target level feature shown plot. plotTitle character string title plot. Can empty string \"\" (default). sort_by character string specifying column sort features x-axis. Accepted values include: \"category\", \"feature\", \"target\", \"representation\" (relative_held), \"difference\" (representation target). ... arguments passed ggplot2::theme() customize plot's theme.","code":""},{"path":"https://mathmarecol.github.io/spatialplanr/reference/splnr_plot_featureRep.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Plot Feature Representation (Target Achievement) — splnr_plot_featureRep","text":"ggplot2::ggplot object representing feature representation bar plot.","code":""},{"path":"https://mathmarecol.github.io/spatialplanr/reference/splnr_plot_featureRep.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Plot Feature Representation (Target Achievement) — splnr_plot_featureRep","text":"","code":"# For a full example, ensure 'dat_species_bin', 'dat_category' are available # (e.g., from the 'prioritizrdata' package or defined in your package's data)   pDat <- prioritizr::problem(dat_species_bin %>% dplyr::mutate(Cost = runif(n = dim(.)[[1]])),   features = c(\"Spp1\", \"Spp2\", \"Spp3\", \"Spp4\", \"Spp5\"),   cost_column = \"Cost\" ) %>%   prioritizr::add_min_set_objective() %>%   prioritizr::add_relative_targets(0.3) %>%   prioritizr::add_binary_decisions() %>%   prioritizr::add_default_solver(verbose = FALSE)  soln <- pDat %>%   prioritizr::solve.ConservationProblem()  # including incidental species coverage df <- splnr_get_featureRep( # Assuming splnr_get_featureRep is available   soln = soln,   pDat = pDat ) #> No non-selected features to process. #> No specific climate-smart approach detected or standard approach used. Using targets from 'pDat'.  # Basic plot with categories and targets shown (splnr_plot_featureRep(df, category = dat_category, showTarget = TRUE)) #> Warning: argument is not numeric or logical: returning NA #> Warning: argument is not numeric or logical: returning NA #> Warning: argument is not numeric or logical: returning NA #> Warning: argument is not numeric or logical: returning NA #> Warning: argument is not numeric or logical: returning NA   # Plot without categories, sorted by feature name (splnr_plot_featureRep(df, showTarget = TRUE, sort_by = \"feature\")) #> Warning: argument is not numeric or logical: returning NA #> Warning: argument is not numeric or logical: returning NA #> Warning: argument is not numeric or logical: returning NA #> Warning: argument is not numeric or logical: returning NA #> Warning: argument is not numeric or logical: returning NA   # Example with feature renaming names_to_replace_df <- tibble::tibble(   nameVariable = c(\"Spp1\", \"Spp2\"),   nameCommon = c(\"Species One\", \"Species Two\") ) (splnr_plot_featureRep(df,   category = dat_category,   renameFeatures = TRUE,   namesToReplace = names_to_replace_df,   showTarget = TRUE )) #> Warning: argument is not numeric or logical: returning NA #> Warning: argument is not numeric or logical: returning NA #> Warning: argument is not numeric or logical: returning NA #> Warning: argument is not numeric or logical: returning NA #> Warning: argument is not numeric or logical: returning NA"},{"path":"https://mathmarecol.github.io/spatialplanr/reference/splnr_plot_importanceScore.html","id":null,"dir":"Reference","previous_headings":"","what":"Plot Importance Score of Planning Units — splnr_plot_importanceScore","title":"Plot Importance Score of Planning Units — splnr_plot_importanceScore","text":"splnr_plot_importanceScore() function visualizes importance scores (irreplaceability) Planning Units prioritizr conservation problem using ggplot2. supports different methods calculating importance scores.","code":""},{"path":"https://mathmarecol.github.io/spatialplanr/reference/splnr_plot_importanceScore.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Plot Importance Score of Planning Units — splnr_plot_importanceScore","text":"","code":"splnr_plot_importanceScore(   soln,   pDat,   method = \"Ferrier\",   plotTitle = \"\",   colorMap = \"A\",   decimals = 4,   legendTitle = \"Importance Score\" )"},{"path":"https://mathmarecol.github.io/spatialplanr/reference/splnr_plot_importanceScore.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Plot Importance Score of Planning Units — splnr_plot_importanceScore","text":"soln prioritizr solution object, expected sf object. contain solution_1 column. pDat prioritizr problem object solved generate soln. method character string specifying method calculating importance scores. Must one \"Ferrier\", \"RWR\", \"RC\". Defaults \"Ferrier\". plotTitle character string title plot. Defaults \"\". colorMap character string indicating viridis color map use (e.g., \"\", \"B\", \"C\", \"D\", \"E\"). See https://ggplot2.tidyverse.org/reference/scale_viridis.html options. Defaults \"\". decimals number decimal places display importance scores legend. Ferrier Score often benefits higher number decimals (>4). Defaults 4. legendTitle character string title legend. Defaults \"Importance Score\".","code":""},{"path":"https://mathmarecol.github.io/spatialplanr/reference/splnr_plot_importanceScore.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Plot Importance Score of Planning Units — splnr_plot_importanceScore","text":"ggplot object representing plot importance scores.","code":""},{"path":"https://mathmarecol.github.io/spatialplanr/reference/splnr_plot_importanceScore.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Plot Importance Score of Planning Units — splnr_plot_importanceScore","text":"Importance scores quantify irreplaceability Planning Unit conservation solution. function leverages prioritizr package calculate plot three different types importance scores: \"Ferrier\": Ferrier Score, applicable minimum set objective function. often requires higher number decimals (e.g., >4) accurate representation. \"RWR\": Rarity Weighted Richness Score. \"RC\": Replacement Cost. method generally recommended prioritizr development team robustness, can computationally intensive take longer, especially problems many planning units features. function outputs ggplot object can combined spatialplanr function splnr_gg_add() customization.","code":""},{"path":"https://mathmarecol.github.io/spatialplanr/reference/splnr_plot_importanceScore.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Plot Importance Score of Planning Units — splnr_plot_importanceScore","text":"","code":"if (FALSE) { # \\dontrun{ # Assuming 'dat_species_bin' and 'dat_PUs' are existing sf objects in your package.  # Create a dummy prioritizr problem and solve it for demonstration. dat_problem <- prioritizr::problem(   dat_species_bin %>% dplyr::mutate(Cost = runif(n = dim(.)[[1]])),   features = c(\"Spp1\", \"Spp2\", \"Spp3\", \"Spp4\", \"Spp5\"),   cost_column = \"Cost\" ) %>%   prioritizr::add_min_set_objective() %>%   prioritizr::add_relative_targets(0.3) %>%   prioritizr::add_binary_decisions() %>%   prioritizr::add_default_solver(verbose = FALSE)  dat_soln <- dat_problem %>%   prioritizr::solve.ConservationProblem()  # Plot importance score using the \"Ferrier\" method. plot_ferrier_importance <- splnr_plot_importanceScore(   soln = dat_soln,   pDat = dat_problem,   method = \"Ferrier\",   decimals = 4,   plotTitle = \"Ferrier Importance Score\" ) print(plot_ferrier_importance)  # Plot importance score using the \"RWR\" (Rarity Weighted Richness) method. plot_rwr_importance <- splnr_plot_importanceScore(   soln = dat_soln,   pDat = dat_problem,   method = \"RWR\",   decimals = 2,   plotTitle = \"Rarity Weighted Richness\" ) print(plot_rwr_importance) } # }"},{"path":"https://mathmarecol.github.io/spatialplanr/reference/splnr_plot_selectionFreq.html","id":null,"dir":"Reference","previous_headings":"","what":"Plot Planning Unit Selection Frequency — splnr_plot_selectionFreq","title":"Plot Planning Unit Selection Frequency — splnr_plot_selectionFreq","text":"splnr_plot_selectionFreq() function visualizes selection frequency Planning Units across array prioritizr solutions. useful understanding areas consistently selected important conservation.","code":""},{"path":"https://mathmarecol.github.io/spatialplanr/reference/splnr_plot_selectionFreq.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Plot Planning Unit Selection Frequency — splnr_plot_selectionFreq","text":"","code":"splnr_plot_selectionFreq(   selFreq,   plotTitle = \"\",   paletteName = \"Greens\",   legendTitle = \"Selection \\nFrequency\" )"},{"path":"https://mathmarecol.github.io/spatialplanr/reference/splnr_plot_selectionFreq.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Plot Planning Unit Selection Frequency — splnr_plot_selectionFreq","text":"selFreq sf object containing selection frequency data Planning Units. object must include selFreq column (e.g., generated splnr_get_selFreq()). plotTitle character string title plot. Defaults \"\". paletteName character string numeric value specifying name RColorBrewer palette use fill. Available palettes can found https://ggplot2.tidyverse.org/reference/scale_brewer.html. Defaults \"Greens\". legendTitle character string title legend. Defaults \"Selection \\nFrequency\".","code":""},{"path":"https://mathmarecol.github.io/spatialplanr/reference/splnr_plot_selectionFreq.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Plot Planning Unit Selection Frequency — splnr_plot_selectionFreq","text":"ggplot object representing plot Planning Unit selection frequency.","code":""},{"path":"https://mathmarecol.github.io/spatialplanr/reference/splnr_plot_selectionFreq.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Plot Planning Unit Selection Frequency — splnr_plot_selectionFreq","text":"multiple spatial plans generated (either solutions different conservation problems via prioritizr portfolio approach), valuable assess robustness Planning Unit selection. function takes sf object input, must contain selFreq column representing selection frequency Planning Unit. selFreq column can generated using spatialplanr function splnr_get_selFreq(). function uses ggplot2 create spatial plot frequencies, allowing customization color palette, plot title, legend title. output ggplot object can enhanced combining spatialplanr function splnr_gg_add().","code":""},{"path":"https://mathmarecol.github.io/spatialplanr/reference/splnr_plot_selectionFreq.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Plot Planning Unit Selection Frequency — splnr_plot_selectionFreq","text":"","code":"if (FALSE) { # \\dontrun{ # Assuming 'dat_species_bin' is an existing sf object in your package.  # Create a dummy prioritizr problem. dat_problem <- prioritizr::problem(   dat_species_bin %>% dplyr::mutate(Cost = runif(n = dim(.)[[1]])),   features = c(\"Spp1\", \"Spp2\", \"Spp3\", \"Spp4\", \"Spp5\"),   cost_column = \"Cost\" ) %>%   prioritizr::add_min_set_objective() %>%   prioritizr::add_relative_targets(0.3) %>%   prioritizr::add_binary_decisions() %>%   prioritizr::add_default_solver(verbose = FALSE)  # Create a conservation problem that contains a portfolio of solutions (e.g., 5 solutions). dat_soln_portfolio <- dat_problem %>%   prioritizr::add_cuts_portfolio(number_solutions = 5) %>%   prioritizr::solve.ConservationProblem()  # Calculate selection frequency using splnr_get_selFreq(). selFreq_data <- splnr_get_selFreq(solnMany = dat_soln_portfolio, type = \"portfolio\")  # Plot the selection frequency. plot_selection_frequency <- splnr_plot_selectionFreq(selFreq_data) print(plot_selection_frequency) } # }"},{"path":"https://mathmarecol.github.io/spatialplanr/reference/splnr_plot_solution.html","id":null,"dir":"Reference","previous_headings":"","what":"Plot prioritizr Solution — splnr_plot_solution","title":"Plot prioritizr Solution — splnr_plot_solution","text":"splnr_plot_solution() function visualizes solution prioritizr conservation problem using ggplot2. can handle single-zone multi-zone solutions, offering customization colors legend.","code":""},{"path":"https://mathmarecol.github.io/spatialplanr/reference/splnr_plot_solution.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Plot prioritizr Solution — splnr_plot_solution","text":"","code":"splnr_plot_solution(   soln,   colorVals = c(\"#c6dbef\", \"#3182bd\"),   showLegend = TRUE,   legendLabels = c(\"Not selected\", \"Selected\"),   plotTitle = \"Solution\",   legendTitle = \"Planning Units\",   zones = FALSE )"},{"path":"https://mathmarecol.github.io/spatialplanr/reference/splnr_plot_solution.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Plot prioritizr Solution — splnr_plot_solution","text":"soln prioritizr solution object, expected sf object. colorVals character vector color values. single-zone problems, typically two colors (\"selected\" \"Selected\"). multi-zone problems, length match number zones plus one (\"selected\"). showLegend logical value indicating whether display legend solution. Defaults TRUE. legendLabels character vector strings label legend values. length must match number levels solution (e.g., \"selected\", \"Selected\" single zone; \"selected\", \"Zone 1\", \"Zone 2\" two zones). plotTitle character string title plot. Can empty (\"\"). Defaults \"Solution\". legendTitle character string title legend. Can empty (\"\"). Defaults \"Planning Units\". zones logical value. Set TRUE prioritizr solution contains multiple zones (.e., multi-zone problem). Defaults FALSE.","code":""},{"path":"https://mathmarecol.github.io/spatialplanr/reference/splnr_plot_solution.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Plot prioritizr Solution — splnr_plot_solution","text":"ggplot object representing plot conservation solution.","code":""},{"path":"https://mathmarecol.github.io/spatialplanr/reference/splnr_plot_solution.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Plot prioritizr Solution — splnr_plot_solution","text":"function requires prioritizr solution object, sf object containing least solution_1 column (single-zone problems) solution_1_zone1, solution_1_zone2, etc. (multi-zone problems). outputs ggplot object, can customized combining spatialplanr function splnr_gg_add(). multi-zone problems (zones = TRUE), function sums selected zones Planning Unit plots resulting combined selection. colorVals legendLabels provided match number selection levels (e.g., \"selected\", \"Zone 1\", \"Zone 2\", etc.).","code":""},{"path":"https://mathmarecol.github.io/spatialplanr/reference/splnr_plot_solution.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Plot prioritizr Solution — splnr_plot_solution","text":"","code":"if (FALSE) { # \\dontrun{ # Assuming 'dat_species_bin' is an existing sf object in your package.  # Example 1: Plotting a single-zone prioritizr solution dat_problem <- prioritizr::problem(   dat_species_bin %>% dplyr::mutate(Cost = runif(n = dim(.)[[1]])),   features = c(\"Spp1\", \"Spp2\", \"Spp3\", \"Spp4\", \"Spp5\"),   cost_column = \"Cost\" ) %>%   prioritizr::add_min_set_objective() %>%   prioritizr::add_relative_targets(0.3) %>%   prioritizr::add_binary_decisions() %>%   prioritizr::add_default_solver(verbose = FALSE)  dat_soln <- dat_problem %>%   prioritizr::solve.ConservationProblem()  plot_soln_single_zone <- splnr_plot_solution(dat_soln) print(plot_soln_single_zone)  # Example 2: Plotting a multi-zone prioritizr solution # Create targets for two zones t2 <- matrix(NA, ncol = 2, nrow = 5) t2[, 1] <- 0.1 t2[, 2] <- 0.05  # Define zones for species z2 <- prioritizr::zones(   \"zone 1\" = c(\"Spp1\", \"Spp2\", \"Spp3\", \"Spp4\", \"Spp5\"),   \"zone 2\" = c(\"Spp1\", \"Spp2\", \"Spp3\", \"Spp4\", \"Spp5\") )  # Create a multi-zone problem (requires as many cost columns as zones) p2 <- prioritizr::problem(   dat_species_bin %>% dplyr::mutate(     Cost1 = runif(n = dim(.)[[1]]),     Cost2 = runif(n = dim(.)[[1]])   ),   z2,   cost_column = c(\"Cost1\", \"Cost2\") ) %>%   prioritizr::add_min_set_objective() %>%   prioritizr::add_relative_targets(t2) %>%   prioritizr::add_binary_decisions() %>%   prioritizr::add_default_solver(verbose = FALSE)  s2 <- p2 %>%   prioritizr::solve.ConservationProblem()  plot_soln_multi_zone <- splnr_plot_solution(s2,   zones = TRUE,   colorVals = c(\"#c6dbef\", \"#3182bd\", \"black\"), # Colors for Not selected, Zone 1, Zone 2   legendLabels = c(\"Not selected\", \"Zone 1\", \"Zone 2\") ) print(plot_soln_multi_zone) } # }"},{"path":"https://mathmarecol.github.io/spatialplanr/reference/splnr_replace_NAs.html","id":null,"dir":"Reference","previous_headings":"","what":"Remove NAs from Spatial Data Using Nearest Neighbour — splnr_replace_NAs","title":"Remove NAs from Spatial Data Using Nearest Neighbour — splnr_replace_NAs","text":"splnr_replace_NAs() replaces missing (NA) values specified column sf dataframe value nearest spatial neighbor.","code":""},{"path":"https://mathmarecol.github.io/spatialplanr/reference/splnr_replace_NAs.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Remove NAs from Spatial Data Using Nearest Neighbour — splnr_replace_NAs","text":"","code":"splnr_replace_NAs(df, vari)"},{"path":"https://mathmarecol.github.io/spatialplanr/reference/splnr_replace_NAs.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Remove NAs from Spatial Data Using Nearest Neighbour — splnr_replace_NAs","text":"df sf dataframe. dataframe must contain geometry column vari column potential NA values. vari character string specifying name column df NA values removed replaced. column must exist df.","code":""},{"path":"https://mathmarecol.github.io/spatialplanr/reference/splnr_replace_NAs.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Remove NAs from Spatial Data Using Nearest Neighbour — splnr_replace_NAs","text":"sf object identical input df, NA values vari column replaced values nearest non-NA neighbors. NAs found, original df returned unchanged.","code":""},{"path":"https://mathmarecol.github.io/spatialplanr/reference/splnr_replace_NAs.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Remove NAs from Spatial Data Using Nearest Neighbour — splnr_replace_NAs","text":"function useful imputing missing data spatial contexts. identifies Planning Units NA values vari column. , finds geographically closest Planning Unit NA value vari, copies non-missing value. approach leverages spatial autocorrelation often present environmental species data. st_nearest_feature() function sf package used determining closest neighbor.","code":""},{"path":"https://mathmarecol.github.io/spatialplanr/reference/splnr_replace_NAs.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Remove NAs from Spatial Data Using Nearest Neighbour — splnr_replace_NAs","text":"","code":"if (FALSE) { # \\dontrun{ # Assuming 'dat_species_prob' is an existing sf object in your package. # For demonstration, let's artificially introduce some NAs in 'Spp2'. df_with_na <- dat_species_prob %>%   dplyr::mutate(Spp2 = ifelse(runif(n()) < 0.2, NA, Spp2))  # Replace NAs in 'Spp2' using nearest neighbor imputation. df_no_na <- splnr_replace_NAs(df = df_with_na, vari = \"Spp2\") print(sum(is.na(df_no_na$Spp2))) # Should be 0 if successful } # }"},{"path":"https://mathmarecol.github.io/spatialplanr/reference/splnr_scale_01.html","id":null,"dir":"Reference","previous_headings":"","what":"Scale Spatial Layers to Between 0 and 1 — splnr_scale_01","title":"Scale Spatial Layers to Between 0 and 1 — splnr_scale_01","text":"splnr_scale_01() re-scales numeric values specified column sf dataframe range 0 1. particularly useful normalizing data like probabilities costs.","code":""},{"path":"https://mathmarecol.github.io/spatialplanr/reference/splnr_scale_01.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Scale Spatial Layers to Between 0 and 1 — splnr_scale_01","text":"","code":"splnr_scale_01(dat, col_name)"},{"path":"https://mathmarecol.github.io/spatialplanr/reference/splnr_scale_01.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Scale Spatial Layers to Between 0 and 1 — splnr_scale_01","text":"dat sf dataframe containing column scaled. col_name character string specifying name numeric column dat needs scaled.","code":""},{"path":"https://mathmarecol.github.io/spatialplanr/reference/splnr_scale_01.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Scale Spatial Layers to Between 0 and 1 — splnr_scale_01","text":"sf dataframe identical input dat, values col_name column re-scaled 0 1.","code":""},{"path":"https://mathmarecol.github.io/spatialplanr/reference/splnr_scale_01.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Scale Spatial Layers to Between 0 and 1 — splnr_scale_01","text":"function inspects maximum value (mx) col_name column. divides values column divi factor bring 0-1 range. divi factor determined heuristically: mx > 100, divi 1000. mx > 10, divi 100. mx > 1, divi 10. mx <= 1, division performed (divi 1), data already within desired range. approach ensures data scaled appropriately without hardcoding fixed division factor.","code":""},{"path":"https://mathmarecol.github.io/spatialplanr/reference/splnr_scale_01.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Scale Spatial Layers to Between 0 and 1 — splnr_scale_01","text":"","code":"if (FALSE) { # \\dontrun{ # Scale the 'Spp1' column. df_scaled_spp1 <- splnr_scale_01(dat = dat_species_prob, col_name = \"Spp1\") print(df_scaled_spp1)  # Example where max is already <= 1 df_already_scaled <- dat_species_prob %>% dplyr::mutate(Spp1 = Spp1 / 100) df_no_change <- splnr_scale_01(dat = df_already_scaled, col_name = \"Spp1\") print(df_no_change) # Spp1 values should remain unchanged } # }"},{"path":"https://mathmarecol.github.io/spatialplanr/reference/splnr_targets_byCategory.html","id":null,"dir":"Reference","previous_headings":"","what":"Assign Targets by Category — splnr_targets_byCategory","title":"Assign Targets by Category — splnr_targets_byCategory","text":"splnr_targets_byCategory() function assigns conservation targets features (e.g., species) based assigned categories. allows differentiated conservation goals different groups features.","code":""},{"path":"https://mathmarecol.github.io/spatialplanr/reference/splnr_targets_byCategory.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Assign Targets by Category — splnr_targets_byCategory","text":"","code":"splnr_targets_byCategory(dat, catTarg, catName = \"Category\")"},{"path":"https://mathmarecol.github.io/spatialplanr/reference/splnr_targets_byCategory.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Assign Targets by Category — splnr_targets_byCategory","text":"dat sf object (data frame) containing features associated categories. row represent feature (e.g., species) attributes, including category. catTarg named numeric vector names categories (e.g., \"Group1\", \"Endangered\") values corresponding conservation targets (e.g., 0.5, 0.8). catName character string specifying name column dat contains category information. Defaults \"Category\".","code":""},{"path":"https://mathmarecol.github.io/spatialplanr/reference/splnr_targets_byCategory.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Assign Targets by Category — splnr_targets_byCategory","text":"sf object (data frame) identical input dat, additional column named target containing assigned conservation target feature. Features whose categories found catTarg NA target column unless already 'target' column.","code":""},{"path":"https://mathmarecol.github.io/spatialplanr/reference/splnr_targets_byCategory.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Assign Targets by Category — splnr_targets_byCategory","text":"function useful conservation planning different types features (e.g., endangered species, common species, ecosystem types) require distinct conservation targets. performs left join provided named vector (catTarg) names correspond categories data values desired targets. dat input sf object (data frame) contains column (catName) identifying category feature.","code":""},{"path":"https://mathmarecol.github.io/spatialplanr/reference/splnr_targets_byCategory.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Assign Targets by Category — splnr_targets_byCategory","text":"","code":"if (FALSE) { # \\dontrun{ # Assuming 'dat_category' is an existing sf object in your package # with a column named \"category\" and other feature data.  # Example: Assign targets based on predefined categories targets_by_group <- splnr_targets_byCategory(   dat = dat_category, # Assuming dat_category has a 'category' column   catTarg = c(\"Group1\" = 0.5, \"Group2\" = 0.2),   catName = \"category\" ) print(targets_by_group)  # Example: Assign targets with a different category column name dat_alt_cat <- data.frame(Feature = letters[1:5], Type = c(\"A\", \"B\", \"A\", \"C\", \"B\")) targets_by_type <- splnr_targets_byCategory(   dat = dat_alt_cat,   catTarg = c(\"A\" = 0.7, \"B\" = 0.4),   catName = \"Type\" ) print(targets_by_type) } # }"},{"path":"https://mathmarecol.github.io/spatialplanr/reference/splnr_targets_byIUCN.html","id":null,"dir":"Reference","previous_headings":"","what":"Assign Targets by IUCN Red List Categories — splnr_targets_byIUCN","title":"Assign Targets by IUCN Red List Categories — splnr_targets_byIUCN","text":"splnr_targets_byIUCN() function assigns conservation targets species based IUCN Red List categories. allows prioritizing species higher risk extinction stringent conservation goals.","code":""},{"path":"https://mathmarecol.github.io/spatialplanr/reference/splnr_targets_byIUCN.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Assign Targets by IUCN Red List Categories — splnr_targets_byIUCN","text":"","code":"splnr_targets_byIUCN(dat, IUCN_target, IUCN_col = \"IUCN_Category\")"},{"path":"https://mathmarecol.github.io/spatialplanr/reference/splnr_targets_byIUCN.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Assign Targets by IUCN Red List Categories — splnr_targets_byIUCN","text":"dat dataframe sf object containing species information, including column IUCN categories. IUCN_target Either: single numeric value (e.g., 0.3) apply target threatened IUCN categories (\"EX\", \"EW\", \"CR\", \"EN\", \"VU\"). named numeric vector (e.g., c(\"EX\" = 0.8, \"CR\" = 0.6)) apply specific targets particular IUCN categories. IUCN_col character string specifying name column dat contains IUCN category information. Defaults \"IUCN_Category\".","code":""},{"path":"https://mathmarecol.github.io/spatialplanr/reference/splnr_targets_byIUCN.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Assign Targets by IUCN Red List Categories — splnr_targets_byIUCN","text":"dataframe sf object identical input dat, updated newly added target column reflecting assigned conservation goals.","code":""},{"path":"https://mathmarecol.github.io/spatialplanr/reference/splnr_targets_byIUCN.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Assign Targets by IUCN Red List Categories — splnr_targets_byIUCN","text":"function crucial integrating species' extinction risk conservation planning. allows specify targets either single numeric value (applied 'threatened' IUCN categories) named numeric vector specific categories. Species can extracted based IUCN categories using spatialplanr function splnr_get_IUCNRedList(). Important: access IUCN database (e.g., via splnr_get_IUCNRedList()), need API login token. token, obtained rredlist::rl_use_iucn(), must set environment variable named IUCN_REDLIST_KEY (e.g., Sys.setenv(IUCN_REDLIST_KEY = \"[Token]\")). function checks 'target' column already exists dat. , creates one. exists, new targets coalesced existing ones, allowing sequential application refinement targets. \"threatened\" IUCN categories considered target assignment (single IUCN_target provided) : \"EX\" (Extinct), \"EW\" (Extinct Wild), \"CR\" (Critically Endangered), \"EN\" (Endangered), \"VU\" (Vulnerable).","code":""},{"path":"https://mathmarecol.github.io/spatialplanr/reference/splnr_targets_byIUCN.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Assign Targets by IUCN Red List Categories — splnr_targets_byIUCN","text":"","code":"if (FALSE) { # \\dontrun{ # Example 1: Assigning specific targets to categories # Create a dummy dataframe resembling output from splnr_get_IUCNRedList df_species_iucn <- data.frame(   Species = c(\"Diomedea exulans\", \"Hippocampus kuda\",               \"Squatina squatina\", \"Common Dolphin\"),   IUCN_Category = c(\"VU\", \"EN\", \"CR\", \"LC\") )  iucn_specific_targets <- c(\"EX\" = 0.9, \"EW\" = 0.8, \"CR\" = 0.75, \"EN\" = 0.6, \"VU\" = 0.5)  df_with_iucn_targets <- splnr_targets_byIUCN(   dat = df_species_iucn,   IUCN_target = iucn_specific_targets,   IUCN_col = \"IUCN_Category\" ) print(df_with_iucn_targets)  # Example 2: Assigning a single target to all threatened categories df_single_target <- splnr_targets_byIUCN(   dat = df_species_iucn,   IUCN_target = 0.4, # Apply 40% target to all threatened species   IUCN_col = \"IUCN_Category\" ) print(df_single_target)  # Example 3: When 'dat' already has a 'target' column df_pre_targets <- data.frame(   Species = c(\"A\", \"B\", \"C\"),   IUCN_Category = c(\"CR\", \"LC\", \"EN\"),   target = c(0.1, 0.2, 0.1) # Existing targets ) iucn_update_targets <- c(\"CR\" = 0.7) # Only update CR df_updated_targets <- splnr_targets_byIUCN(df_pre_targets, iucn_update_targets) print(df_updated_targets) } # }"},{"path":"https://mathmarecol.github.io/spatialplanr/reference/splnr_targets_byInverseArea.html","id":null,"dir":"Reference","previous_headings":"","what":"Assign Targets by Inverse Area — splnr_targets_byInverseArea","title":"Assign Targets by Inverse Area — splnr_targets_byInverseArea","text":"function calculates inverse area targets conservation feature within sf dataframe, based areal coverage. target set inversely proportional feature's area, ranging specified minimum (target_min) maximum (target_max).","code":""},{"path":"https://mathmarecol.github.io/spatialplanr/reference/splnr_targets_byInverseArea.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Assign Targets by Inverse Area — splnr_targets_byInverseArea","text":"","code":"splnr_targets_byInverseArea(df, target_min, target_max)"},{"path":"https://mathmarecol.github.io/spatialplanr/reference/splnr_targets_byInverseArea.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Assign Targets by Inverse Area — splnr_targets_byInverseArea","text":"df sf dataframe containing features (e.g., species distribution data) calculate inverse area targets. column (excluding geometry) represent feature, row Planning Unit. target_min numeric value 0 1 (inclusive) specifying minimum target percentage. target widespread feature. target_max numeric value 0 1 (inclusive) specifying maximum target percentage. target rarest feature.","code":""},{"path":"https://mathmarecol.github.io/spatialplanr/reference/splnr_targets_byInverseArea.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Assign Targets by Inverse Area — splnr_targets_byInverseArea","text":"tibble (data frame) two columns: Species (feature name) target (calculated inverse area target feature).","code":""},{"path":"https://mathmarecol.github.io/spatialplanr/reference/splnr_targets_byInverseArea.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Assign Targets by Inverse Area — splnr_targets_byInverseArea","text":"inverse area target approach aims assign higher conservation targets features smaller overall distribution areal coverage within study region. can particularly useful prioritizing rare range-restricted features. calculation proceeds follows: area single Planning Unit determined. total area study region estimated multiplying number Planning Units individual Planning Unit area. feature (species), total area across Planning Units calculated. target feature scaled target_min target_max features smaller areas receive targets closer target_max, features larger areas receive targets closer target_min. input df expected sf object columns (excluding geometry) represent different features (e.g., species presence/absence) rows represent Planning Units.","code":""},{"path":"https://mathmarecol.github.io/spatialplanr/reference/splnr_targets_byInverseArea.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Assign Targets by Inverse Area — splnr_targets_byInverseArea","text":"","code":"if (FALSE) { # \\dontrun{ # Assuming 'dat_species_prob' is an existing sf object in your package, # representing species distribution in planning units.  # Calculate inverse area targets with a range from 30% to 80%. targets_inverse_area <- dat_species_prob %>%   splnr_targets_byInverseArea(target_min = 0.3, target_max = 0.8) print(targets_inverse_area)  # Example with a different target range (e.g., 20% to 70%) targets_custom_range <- dat_species_prob %>%   splnr_targets_byInverseArea(target_min = 0.2, target_max = 0.7) print(targets_custom_range) } # }"}]
