<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Prepare Data to Plot How Well Targets Are Met — splnr_get_featureRep • spatialplanr</title><!-- favicons --><link rel="icon" type="image/png" sizes="96x96" href="../favicon-96x96.png"><link rel="icon" type="”image/svg+xml”" href="../favicon.svg"><link rel="apple-touch-icon" sizes="180x180" href="../apple-touch-icon.png"><link rel="icon" sizes="any" href="../favicon.ico"><link rel="manifest" href="../site.webmanifest"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Prepare Data to Plot How Well Targets Are Met — splnr_get_featureRep"><meta name="description" content="splnr_get_featureRep() calculates the representation of conservation
features within a prioritizr solution. This function determines how much
of each feature's total abundance (or area) is captured in the selected
planning units, and compares it against specified conservation targets.
It can also account for different climate-smart planning approaches."><meta property="og:description" content="splnr_get_featureRep() calculates the representation of conservation
features within a prioritizr solution. This function determines how much
of each feature's total abundance (or area) is captured in the selected
planning units, and compares it against specified conservation targets.
It can also account for different climate-smart planning approaches."><meta property="og:image" content="https://mathmarecol.github.io/spatialplanr/logo.png"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">spatialplanr</a>

    <small class="nav-text text-info me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.7.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../articles/spatialplanr.html">Get started</a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/ClimateSmart.html">Climate-Smart Spatial Planning</a></li>
    <li><a class="dropdown-item" href="../articles/GlobalFishingWatch.html">Global Fishing Watch</a></li>
    <li><a class="dropdown-item" href="../articles/MultipleUse.html">Spatial Planning With Zones</a></li>
  </ul></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/SpatialPlanning/spatialplanr/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Prepare Data to Plot How Well Targets Are Met</h1>
      <small class="dont-index">Source: <a href="https://github.com/SpatialPlanning/spatialplanr/blob/HEAD/R/splnr_featureRep.R" class="external-link"><code>R/splnr_featureRep.R</code></a></small>
      <div class="d-none name"><code>splnr_get_featureRep.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p><code>splnr_get_featureRep()</code> calculates the representation of conservation
features within a <code>prioritizr</code> solution. This function determines how much
of each feature's total abundance (or area) is captured in the selected
planning units, and compares it against specified conservation targets.
It can also account for different climate-smart planning approaches.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">splnr_get_featureRep</span><span class="op">(</span></span>
<span>  <span class="va">soln</span>,</span>
<span>  <span class="va">pDat</span>,</span>
<span>  targets <span class="op">=</span> <span class="cn">NA</span>,</span>
<span>  climsmart <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  climsmartApproach <span class="op">=</span> <span class="fl">0</span>,</span>
<span>  solnCol <span class="op">=</span> <span class="st">"solution_1"</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-soln">soln<a class="anchor" aria-label="anchor" href="#arg-soln"></a></dt>
<dd><p>An <code>sf</code> object representing the <code>prioritizr</code> solution, containing
a column indicating selected planning units (default: <code>solution_1</code>).</p></dd>


<dt id="arg-pdat">pDat<a class="anchor" aria-label="anchor" href="#arg-pdat"></a></dt>
<dd><p>A <code>prioritizr</code> problem object, as defined by <code><a href="https://prioritizr.net/reference/problem.html" class="external-link">prioritizr::problem()</a></code>.
This object provides the original feature data and targets.</p></dd>


<dt id="arg-targets">targets<a class="anchor" aria-label="anchor" href="#arg-targets"></a></dt>
<dd><p>A <code>data.frame</code> (optional). If provided, it should contain a
<code>feature</code> column (character) and a <code>target</code> column (numeric). This is used
to override or supplement targets from <code>pDat</code>, especially for climate-smart
approaches where targets might be pre-adjusted. Defaults to <code>NA</code>.</p></dd>


<dt id="arg-climsmart">climsmart<a class="anchor" aria-label="anchor" href="#arg-climsmart"></a></dt>
<dd><p>A logical value (<code>TRUE</code> or <code>FALSE</code>). If <code>TRUE</code>, special
handling for climate-smart approaches is enabled. Defaults to <code>FALSE</code>.</p></dd>


<dt id="arg-climsmartapproach">climsmartApproach<a class="anchor" aria-label="anchor" href="#arg-climsmartapproach"></a></dt>
<dd><p>An integer (0, 1, 2, or 3) indicating the type of
climate-smart approach used:</p><ul><li><p><code>0</code>: No climate-smart approach.</p></li>
<li><p><code>1</code>: Climate Priority Area approach (features split into CS/NCS).</p></li>
<li><p><code>2</code>: Feature approach (not explicitly handled in this function's
<code>climsmart</code> logic, targets taken from <code>pDat</code> by default).</p></li>
<li><p><code>3</code>: Percentile approach (features are filtered).</p></li>
</ul><p>Defaults to <code>0</code>.</p></dd>


<dt id="arg-solncol">solnCol<a class="anchor" aria-label="anchor" href="#arg-solncol"></a></dt>
<dd><p>A character string specifying the name of the column in <code>soln</code>
that contains the binary solution (1 for selected, 0 for not selected).
Defaults to <code>"solution_1"</code>.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A <code>tibble</code> dataframe containing the <code>feature</code> names, their
<code>total_amount</code> (total units available), <code>absolute_held</code> (total units
selected), <code>relative_held</code> (proportion held), <code>target</code> (conservation target),
and <code>incidental</code> (TRUE if target was 0 or NA, but feature still present).</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>This function processes the output of a <code>prioritizr</code> conservation problem
(<code>soln</code>) and its corresponding problem definition (<code>pDat</code>) to provide a
summary of feature representation. It is designed to work whether or not
explicit targets are provided, and can adjust calculations based on the
climate-smart approach used.</p>
<p>The function calculates:</p><ul><li><p><code>total_amount</code>: The total available amount/area of each feature across all planning units.</p></li>
<li><p><code>absolute_held</code>: The total amount/area of each feature captured in the
<em>selected</em> planning units (where <code>solution_1</code> is 1).</p></li>
<li><p><code>relative_held</code>: The proportion of <code>absolute_held</code> relative to <code>total_amount</code>,
indicating the percentage representation of the feature in the solution.</p></li>
<li><p><code>target</code>: The conservation target for each feature (either from the
<code>pDat</code> problem definition or the <code>targets</code> dataframe).</p></li>
<li><p><code>incidental</code>: A logical flag indicating if a feature's representation
was 'incidental' (i.e., its target was 0 or NA, but it was still
partially or fully captured in the solution).</p></li>
</ul><p><strong>Climate-Smart Considerations (<code>climsmart = TRUE</code>):</strong>
If <code>climsmart</code> is <code>TRUE</code>, the function adjusts its calculations based on the
<code>climsmartApproach</code> parameter:</p><ul><li><p><code>climsmartApproach = 1</code> (Climate Priority Area): The function sums the
<code>absolute_held</code> and <code>total_amount</code> for features that were split into
<code>_CS</code> (Climate-Smart) and <code>_NCS</code> (Non-Climate-Smart) components. This
provides a single, aggregated representation for the original feature,
allowing comparison with its original target.</p></li>
<li><p><code>climsmartApproach = 3</code> (Percentile Approach): The function directly
uses the targets provided in the <code>targets</code> dataframe, which are
expected to be adjusted for the percentile approach.</p></li>
<li><p>For other <code>climsmartApproach</code> values or if <code>climsmart</code> is <code>FALSE</code>,
targets are taken directly from the <code>prioritizr</code> problem's target data.</p></li>
</ul><p>The output dataframe is designed to be directly plottable by functions
like <code><a href="splnr_plot_featureRep.html">splnr_plot_featureRep()</a></code>.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span> <span class="co"># \dontrun{</span></span></span>
<span class="r-in"><span><span class="co"># Assuming 'dat_species_bin' is an existing sf object with binary species data</span></span></span>
<span class="r-in"><span><span class="co"># and 'Cost' column.</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Create a dummy prioritizr problem for basic demonstration</span></span></span>
<span class="r-in"><span><span class="va">pDat_basic</span> <span class="op">&lt;-</span> <span class="fu">prioritizr</span><span class="fu">::</span><span class="fu"><a href="https://prioritizr.net/reference/problem.html" class="external-link">problem</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  <span class="va">dat_species_bin</span> <span class="op"><a href="pipe.html">%&gt;%</a></span> <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>Cost <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/Uniform.html" class="external-link">runif</a></span><span class="op">(</span>n <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/dim.html" class="external-link">dim</a></span><span class="op">(</span><span class="va">.</span><span class="op">)</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span><span class="op">)</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  features <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Spp1"</span>, <span class="st">"Spp2"</span>, <span class="st">"Spp3"</span>, <span class="st">"Spp4"</span>, <span class="st">"Spp5"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  cost_column <span class="op">=</span> <span class="st">"Cost"</span></span></span>
<span class="r-in"><span><span class="op">)</span> <span class="op"><a href="pipe.html">%&gt;%</a></span></span></span>
<span class="r-in"><span>  <span class="fu">prioritizr</span><span class="fu">::</span><span class="fu"><a href="https://prioritizr.net/reference/add_min_set_objective.html" class="external-link">add_min_set_objective</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="pipe.html">%&gt;%</a></span></span></span>
<span class="r-in"><span>  <span class="fu">prioritizr</span><span class="fu">::</span><span class="fu"><a href="https://prioritizr.net/reference/add_relative_targets.html" class="external-link">add_relative_targets</a></span><span class="op">(</span><span class="fl">0.3</span><span class="op">)</span> <span class="op"><a href="pipe.html">%&gt;%</a></span></span></span>
<span class="r-in"><span>  <span class="fu">prioritizr</span><span class="fu">::</span><span class="fu"><a href="https://prioritizr.net/reference/add_binary_decisions.html" class="external-link">add_binary_decisions</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="pipe.html">%&gt;%</a></span></span></span>
<span class="r-in"><span>  <span class="fu">prioritizr</span><span class="fu">::</span><span class="fu"><a href="https://prioritizr.net/reference/add_default_solver.html" class="external-link">add_default_solver</a></span><span class="op">(</span>verbose <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Solve the problem</span></span></span>
<span class="r-in"><span><span class="va">soln_basic</span> <span class="op">&lt;-</span> <span class="va">pDat_basic</span> <span class="op"><a href="pipe.html">%&gt;%</a></span></span></span>
<span class="r-in"><span>  <span class="fu">prioritizr</span><span class="fu">::</span><span class="fu"><a href="https://prioritizr.net/reference/solve.html" class="external-link">solve.ConservationProblem</a></span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Get feature representation for a basic (non-climate-smart) solution</span></span></span>
<span class="r-in"><span><span class="va">df_basic_rep</span> <span class="op">&lt;-</span> <span class="fu">splnr_get_featureRep</span><span class="op">(</span></span></span>
<span class="r-in"><span>  soln <span class="op">=</span> <span class="va">soln_basic</span>,</span></span>
<span class="r-in"><span>  pDat <span class="op">=</span> <span class="va">pDat_basic</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">df_basic_rep</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Example with Climate Priority Area (CPA) approach</span></span></span>
<span class="r-in"><span><span class="co"># Assuming 'dat_clim' is an sf object with a 'metric' column.</span></span></span>
<span class="r-in"><span><span class="co"># These would typically come from splnr_climate_priorityAreaApproach()</span></span></span>
<span class="r-in"><span><span class="co"># For example purposes, we'll create some dummy data and targets.</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Simulate CPA processed features and targets</span></span></span>
<span class="r-in"><span><span class="va">cpa_features_sim</span> <span class="op">&lt;-</span> <span class="va">dat_species_bin</span> <span class="op"><a href="pipe.html">%&gt;%</a></span></span></span>
<span class="r-in"><span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>    Spp1_CS <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/ifelse.html" class="external-link">ifelse</a></span><span class="op">(</span><span class="va">Spp1</span> <span class="op">==</span> <span class="fl">1</span> <span class="op">&amp;</span> <span class="fu"><a href="https://rdrr.io/r/stats/Uniform.html" class="external-link">runif</a></span><span class="op">(</span><span class="fu">n</span><span class="op">(</span><span class="op">)</span><span class="op">)</span> <span class="op">&lt;</span> <span class="fl">0.5</span>, <span class="fl">1</span>, <span class="fl">0</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>    Spp1_NCS <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/ifelse.html" class="external-link">ifelse</a></span><span class="op">(</span><span class="va">Spp1</span> <span class="op">==</span> <span class="fl">1</span> <span class="op">&amp;</span> <span class="va">Spp1_CS</span> <span class="op">==</span> <span class="fl">0</span>, <span class="fl">1</span>, <span class="fl">0</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>    Spp2_CS <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/ifelse.html" class="external-link">ifelse</a></span><span class="op">(</span><span class="va">Spp2</span> <span class="op">==</span> <span class="fl">1</span> <span class="op">&amp;</span> <span class="fu"><a href="https://rdrr.io/r/stats/Uniform.html" class="external-link">runif</a></span><span class="op">(</span><span class="fu">n</span><span class="op">(</span><span class="op">)</span><span class="op">)</span> <span class="op">&lt;</span> <span class="fl">0.6</span>, <span class="fl">1</span>, <span class="fl">0</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>    Spp2_NCS <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/ifelse.html" class="external-link">ifelse</a></span><span class="op">(</span><span class="va">Spp2</span> <span class="op">==</span> <span class="fl">1</span> <span class="op">&amp;</span> <span class="va">Spp2_CS</span> <span class="op">==</span> <span class="fl">0</span>, <span class="fl">1</span>, <span class="fl">0</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>    Spp3_CS <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/ifelse.html" class="external-link">ifelse</a></span><span class="op">(</span><span class="va">Spp3</span> <span class="op">==</span> <span class="fl">1</span> <span class="op">&amp;</span> <span class="fu"><a href="https://rdrr.io/r/stats/Uniform.html" class="external-link">runif</a></span><span class="op">(</span><span class="fu">n</span><span class="op">(</span><span class="op">)</span><span class="op">)</span> <span class="op">&lt;</span> <span class="fl">0.7</span>, <span class="fl">1</span>, <span class="fl">0</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>    Spp3_NCS <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/ifelse.html" class="external-link">ifelse</a></span><span class="op">(</span><span class="va">Spp3</span> <span class="op">==</span> <span class="fl">1</span> <span class="op">&amp;</span> <span class="va">Spp3_CS</span> <span class="op">==</span> <span class="fl">0</span>, <span class="fl">1</span>, <span class="fl">0</span><span class="op">)</span></span></span>
<span class="r-in"><span>  <span class="op">)</span> <span class="op"><a href="pipe.html">%&gt;%</a></span></span></span>
<span class="r-in"><span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">Spp1_CS</span>, <span class="va">Spp1_NCS</span>, <span class="va">Spp2_CS</span>, <span class="va">Spp2_NCS</span>, <span class="va">Spp3_CS</span>, <span class="va">Spp3_NCS</span>, <span class="va">geometry</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">cpa_targets_sim</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  feature <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Spp1_CS"</span>, <span class="st">"Spp1_NCS"</span>, <span class="st">"Spp2_CS"</span>, <span class="st">"Spp2_NCS"</span>, <span class="st">"Spp3_CS"</span>, <span class="st">"Spp3_NCS"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  target <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.8</span>, <span class="fl">0.2</span>, <span class="fl">0.9</span>, <span class="fl">0.1</span>, <span class="fl">0.7</span>, <span class="fl">0.3</span><span class="op">)</span> <span class="co"># Example targets for CS/NCS parts</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Create a problem with the simulated CPA features</span></span></span>
<span class="r-in"><span><span class="va">pDat_cpa_sim</span> <span class="op">&lt;-</span> <span class="fu">prioritizr</span><span class="fu">::</span><span class="fu"><a href="https://prioritizr.net/reference/problem.html" class="external-link">problem</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  <span class="va">cpa_features_sim</span> <span class="op"><a href="pipe.html">%&gt;%</a></span> <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>Cost <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/Uniform.html" class="external-link">runif</a></span><span class="op">(</span>n <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/dim.html" class="external-link">dim</a></span><span class="op">(</span><span class="va">.</span><span class="op">)</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span><span class="op">)</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  features <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Spp1_CS"</span>, <span class="st">"Spp1_NCS"</span>, <span class="st">"Spp2_CS"</span>, <span class="st">"Spp2_NCS"</span>, <span class="st">"Spp3_CS"</span>, <span class="st">"Spp3_NCS"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  cost_column <span class="op">=</span> <span class="st">"Cost"</span></span></span>
<span class="r-in"><span><span class="op">)</span> <span class="op"><a href="pipe.html">%&gt;%</a></span></span></span>
<span class="r-in"><span>  <span class="fu">prioritizr</span><span class="fu">::</span><span class="fu"><a href="https://prioritizr.net/reference/add_min_set_objective.html" class="external-link">add_min_set_objective</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="pipe.html">%&gt;%</a></span></span></span>
<span class="r-in"><span>  <span class="fu">prioritizr</span><span class="fu">::</span><span class="fu"><a href="https://prioritizr.net/reference/add_relative_targets.html" class="external-link">add_relative_targets</a></span><span class="op">(</span><span class="va">cpa_targets_sim</span><span class="op">$</span><span class="va">target</span>, <span class="va">cpa_targets_sim</span><span class="op">$</span><span class="va">feature</span><span class="op">)</span> <span class="op"><a href="pipe.html">%&gt;%</a></span></span></span>
<span class="r-in"><span>  <span class="fu">prioritizr</span><span class="fu">::</span><span class="fu"><a href="https://prioritizr.net/reference/add_binary_decisions.html" class="external-link">add_binary_decisions</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="pipe.html">%&gt;%</a></span></span></span>
<span class="r-in"><span>  <span class="fu">prioritizr</span><span class="fu">::</span><span class="fu"><a href="https://prioritizr.net/reference/add_default_solver.html" class="external-link">add_default_solver</a></span><span class="op">(</span>verbose <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Solve the CPA problem</span></span></span>
<span class="r-in"><span><span class="va">soln_cpa_sim</span> <span class="op">&lt;-</span> <span class="va">pDat_cpa_sim</span> <span class="op"><a href="pipe.html">%&gt;%</a></span></span></span>
<span class="r-in"><span>  <span class="fu">prioritizr</span><span class="fu">::</span><span class="fu"><a href="https://prioritizr.net/reference/solve.html" class="external-link">solve.ConservationProblem</a></span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Get feature representation for CPA approach</span></span></span>
<span class="r-in"><span><span class="va">df_cpa_rep</span> <span class="op">&lt;-</span> <span class="fu">splnr_get_featureRep</span><span class="op">(</span></span></span>
<span class="r-in"><span>  soln <span class="op">=</span> <span class="va">soln_cpa_sim</span>,</span></span>
<span class="r-in"><span>  pDat <span class="op">=</span> <span class="va">pDat_cpa_sim</span>,</span></span>
<span class="r-in"><span>  targets <span class="op">=</span> <span class="va">cpa_targets_sim</span>, <span class="co"># Pass the original CPA targets</span></span></span>
<span class="r-in"><span>  climsmart <span class="op">=</span> <span class="cn">TRUE</span>,</span></span>
<span class="r-in"><span>  climsmartApproach <span class="op">=</span> <span class="fl">1</span> <span class="co"># Indicate CPA approach</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">df_cpa_rep</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span> <span class="co"># }</span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Jason D. Everett, Sandra Neubert.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

    </footer></div>





  </body></html>

